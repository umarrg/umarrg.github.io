var wE=Object.defineProperty,xE=Object.defineProperties;var EE=Object.getOwnPropertyDescriptors;var Mp=Object.getOwnPropertySymbols;var bE=Object.prototype.hasOwnProperty,SE=Object.prototype.propertyIsEnumerable;var Fp=(t,e,n)=>e in t?wE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vp=(t,e)=>{for(var n in e||(e={}))bE.call(e,n)&&Fp(t,n,e[n]);if(Mp)for(var n of Mp(e))SE.call(e,n)&&Fp(t,n,e[n]);return t},Bp=(t,e)=>xE(t,EE(e));const IE=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};IE();function Dy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var he={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=Symbol.for("react.element"),kE=Symbol.for("react.portal"),TE=Symbol.for("react.fragment"),_E=Symbol.for("react.strict_mode"),CE=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),DE=Symbol.for("react.context"),AE=Symbol.for("react.forward_ref"),OE=Symbol.for("react.suspense"),$E=Symbol.for("react.memo"),RE=Symbol.for("react.lazy"),jp=Symbol.iterator;function PE(t){return t===null||typeof t!="object"?null:(t=jp&&t[jp]||t["@@iterator"],typeof t=="function"?t:null)}var Ay={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oy=Object.assign,$y={};function os(t,e,n){this.props=t,this.context=e,this.refs=$y,this.updater=n||Ay}os.prototype.isReactComponent={};os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ry(){}Ry.prototype=os.prototype;function xd(t,e,n){this.props=t,this.context=e,this.refs=$y,this.updater=n||Ay}var Ed=xd.prototype=new Ry;Ed.constructor=xd;Oy(Ed,os.prototype);Ed.isPureReactComponent=!0;var Up=Array.isArray,Py=Object.prototype.hasOwnProperty,bd={current:null},Ly={key:!0,ref:!0,__self:!0,__source:!0};function My(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Py.call(e,r)&&!Ly.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ko,type:t,key:s,ref:o,props:i,_owner:bd.current}}function LE(t,e){return{$$typeof:Ko,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ko}function ME(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zp=/\/+/g;function rc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ME(""+t.key):e.toString(36)}function Ga(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ko:case kE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rc(o,0):r,Up(i)?(n="",t!=null&&(n=t.replace(zp,"$&/")+"/"),Ga(i,e,n,"",function(u){return u})):i!=null&&(Sd(i)&&(i=LE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Up(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rc(s,a);o+=Ga(s,e,n,l,i)}else if(l=PE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rc(s,a++),o+=Ga(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function va(t,e,n){if(t==null)return t;var r=[],i=0;return Ga(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ft={current:null},Ha={transition:null},VE={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Ha,ReactCurrentOwner:bd};J.Children={map:va,forEach:function(t,e,n){va(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return va(t,function(){e++}),e},toArray:function(t){return va(t,function(e){return e})||[]},only:function(t){if(!Sd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=os;J.Fragment=TE;J.Profiler=CE;J.PureComponent=xd;J.StrictMode=_E;J.Suspense=OE;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Oy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Py.call(e,l)&&!Ly.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ko,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:DE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NE,_context:t},t.Consumer=t};J.createElement=My;J.createFactory=function(t){var e=My.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:AE,render:t}};J.isValidElement=Sd;J.lazy=function(t){return{$$typeof:RE,_payload:{_status:-1,_result:t},_init:FE}};J.memo=function(t,e){return{$$typeof:$E,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Ha.transition;Ha.transition={};try{t()}finally{Ha.transition=e}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(t,e){return ft.current.useCallback(t,e)};J.useContext=function(t){return ft.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return ft.current.useDeferredValue(t)};J.useEffect=function(t,e){return ft.current.useEffect(t,e)};J.useId=function(){return ft.current.useId()};J.useImperativeHandle=function(t,e,n){return ft.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ft.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ft.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ft.current.useMemo(t,e)};J.useReducer=function(t,e,n){return ft.current.useReducer(t,e,n)};J.useRef=function(t){return ft.current.useRef(t)};J.useState=function(t){return ft.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return ft.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ft.current.useTransition()};J.version="18.1.0";he.exports=J;var jn=he.exports,Gc={},Fy={exports:{}},Ot={},Vy={exports:{}},By={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,q){var G=L.length;L.push(q);e:for(;0<G;){var ae=G-1>>>1,Q=L[ae];if(0<i(Q,q))L[ae]=q,L[G]=Q,G=ae;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var q=L[0],G=L.pop();if(G!==q){L[0]=G;e:for(var ae=0,Q=L.length,zt=Q>>>1;ae<zt;){var Ee=2*(ae+1)-1,dn=L[Ee],$e=Ee+1,Rt=L[$e];if(0>i(dn,G))$e<Q&&0>i(Rt,dn)?(L[ae]=Rt,L[$e]=G,ae=$e):(L[ae]=dn,L[Ee]=G,ae=Ee);else if($e<Q&&0>i(Rt,G))L[ae]=Rt,L[$e]=G,ae=$e;else break e}}return q}function i(L,q){var G=L.sortIndex-q.sortIndex;return G!==0?G:L.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,m=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=L)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function b(L){if(k=!1,y(L),!m)if(n(l)!==null)m=!0,kt(I);else{var q=n(u);q!==null&&Jt(b,q.startTime-L)}}function I(L,q){m=!1,k&&(k=!1,g(E),E=-1),f=!0;var G=d;try{for(y(q),h=n(l);h!==null&&(!(h.expirationTime>q)||L&&!F());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,d=h.priorityLevel;var Q=ae(h.expirationTime<=q);q=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&r(l),y(q)}else r(l);h=n(l)}if(h!==null)var zt=!0;else{var Ee=n(u);Ee!==null&&Jt(b,Ee.startTime-q),zt=!1}return zt}finally{h=null,d=G,f=!1}}var v=!1,w=null,E=-1,O=5,_=-1;function F(){return!(t.unstable_now()-_<O)}function B(){if(w!==null){var L=t.unstable_now();_=L;var q=!0;try{q=w(!0,L)}finally{q?Y():(v=!1,w=null)}}else v=!1}var Y;if(typeof p=="function")Y=function(){p(B)};else if(typeof MessageChannel!="undefined"){var X=new MessageChannel,oe=X.port2;X.port1.onmessage=B,Y=function(){oe.postMessage(null)}}else Y=function(){C(B,0)};function kt(L){w=L,v||(v=!0,Y())}function Jt(L,q){E=C(function(){L(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,kt(I))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var G=d;d=q;try{return L()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=d;d=L;try{return q()}finally{d=G}},t.unstable_scheduleCallback=function(L,q,G){var ae=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=G+Q,L={id:c++,callback:q,priorityLevel:L,startTime:G,expirationTime:Q,sortIndex:-1},G>ae?(L.sortIndex=G,e(u,L),n(l)===null&&L===n(u)&&(k?(g(E),E=-1):k=!0,Jt(b,G-ae))):(L.sortIndex=Q,e(l,L),m||f||(m=!0,kt(I))),L},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(L){var q=d;return function(){var G=d;d=q;try{return L.apply(this,arguments)}finally{d=G}}}})(By);Vy.exports=By;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy=he.exports,Nt=Vy.exports;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uy=new Set,oo={};function ii(t,e){ji(t,e),ji(t+"Capture",e)}function ji(t,e){for(oo[t]=e,t=0;t<e.length;t++)Uy.add(e[t])}var xn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Hc=Object.prototype.hasOwnProperty,BE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qp={},Kp={};function jE(t){return Hc.call(Kp,t)?!0:Hc.call(qp,t)?!1:BE.test(t)?Kp[t]=!0:(qp[t]=!0,!1)}function UE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zE(t,e,n,r){if(e===null||typeof e=="undefined"||UE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Id=/[\-:]([a-z])/g;function kd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Id,kd);Je[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Id,kd);Je[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Id,kd);Je[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Td(t,e,n,r){var i=Je.hasOwnProperty(e)?Je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zE(e,n,i,r)&&(n=null),r||i===null?jE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kn=jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),vi=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),_d=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),qy=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),Qc=Symbol.for("react.suspense"),Yc=Symbol.for("react.suspense_list"),Nd=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Ky=Symbol.for("react.offscreen"),Gp=Symbol.iterator;function xs(t){return t===null||typeof t!="object"?null:(t=Gp&&t[Gp]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,ic;function Ls(t){if(ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ic=e&&e[1]||""}return`
`+ic+t}var sc=!1;function oc(t,e){if(!t||sc)return"";sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ls(t):""}function qE(t){switch(t.tag){case 5:return Ls(t.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return t=oc(t.type,!1),t;case 11:return t=oc(t.type.render,!1),t;case 1:return t=oc(t.type,!0),t;default:return""}}function Xc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wi:return"Fragment";case vi:return"Portal";case Wc:return"Profiler";case _d:return"StrictMode";case Qc:return"Suspense";case Yc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qy:return(t.displayName||"Context")+".Consumer";case zy:return(t._context.displayName||"Context")+".Provider";case Cd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nd:return e=t.displayName||null,e!==null?e:Xc(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return Xc(t(e))}catch{}}return null}function KE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xc(e);case 8:return e===_d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GE(t){var e=Gy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xa(t){t._valueTracker||(t._valueTracker=GE(t))}function Hy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ul(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jc(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Hp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wy(t,e){e=e.checked,e!=null&&Td(t,"checked",e,!1)}function Zc(t,e){Wy(t,e);var n=Jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eh(t,e.type,n):e.hasOwnProperty("defaultValue")&&eh(t,e.type,Jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eh(t,e,n){(e!=="number"||ul(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ms=Array.isArray;function Oi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function th(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Ms(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jn(n)}}function Qy(t,e){var n=Jn(e.value),r=Jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ea,Xy=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ea=Ea||document.createElement("div"),Ea.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ea.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ao(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HE=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(t){HE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qs[e]=qs[t]})});function Jy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qs.hasOwnProperty(t)&&qs[t]?(""+e).trim():e+"px"}function Zy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WE=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rh(t,e){if(e){if(WE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function ih(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=null;function Dd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oh=null,$i=null,Ri=null;function Xp(t){if(t=Wo(t)){if(typeof oh!="function")throw Error(A(280));var e=t.stateNode;e&&(e=au(e),oh(t.stateNode,t.type,e))}}function ev(t){$i?Ri?Ri.push(t):Ri=[t]:$i=t}function tv(){if($i){var t=$i,e=Ri;if(Ri=$i=null,Xp(t),e)for(t=0;t<e.length;t++)Xp(e[t])}}function nv(t,e){return t(e)}function rv(){}var ac=!1;function iv(t,e,n){if(ac)return t(e,n);ac=!0;try{return nv(t,e,n)}finally{ac=!1,($i!==null||Ri!==null)&&(rv(),tv())}}function lo(t,e){var n=t.stateNode;if(n===null)return null;var r=au(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var ah=!1;if(xn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){ah=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{ah=!1}function QE(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ks=!1,cl=null,hl=!1,lh=null,YE={onError:function(t){Ks=!0,cl=t}};function XE(t,e,n,r,i,s,o,a,l){Ks=!1,cl=null,QE.apply(YE,arguments)}function JE(t,e,n,r,i,s,o,a,l){if(XE.apply(this,arguments),Ks){if(Ks){var u=cl;Ks=!1,cl=null}else throw Error(A(198));hl||(hl=!0,lh=u)}}function si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jp(t){if(si(t)!==t)throw Error(A(188))}function ZE(t){var e=t.alternate;if(!e){if(e=si(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Jp(i),t;if(s===r)return Jp(i),e;s=s.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function ov(t){return t=ZE(t),t!==null?av(t):null}function av(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=av(t);if(e!==null)return e;t=t.sibling}return null}var lv=Nt.unstable_scheduleCallback,Zp=Nt.unstable_cancelCallback,eb=Nt.unstable_shouldYield,tb=Nt.unstable_requestPaint,Te=Nt.unstable_now,nb=Nt.unstable_getCurrentPriorityLevel,Ad=Nt.unstable_ImmediatePriority,uv=Nt.unstable_UserBlockingPriority,dl=Nt.unstable_NormalPriority,rb=Nt.unstable_LowPriority,cv=Nt.unstable_IdlePriority,ru=null,on=null;function ib(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ru,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:ab,sb=Math.log,ob=Math.LN2;function ab(t){return t>>>=0,t===0?32:31-(sb(t)/ob|0)|0}var ba=64,Sa=4194304;function Fs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fs(a):(s&=o,s!==0&&(r=Fs(s)))}else o=n&~i,o!==0?r=Fs(o):s!==0&&(r=Fs(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yt(e),i=1<<n,r|=t[n],e&=~i;return r}function lb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ub(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yt(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=lb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hv(){var t=ba;return ba<<=1,(ba&4194240)===0&&(ba=64),t}function lc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Go(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=n}function cb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Od(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ie=0;function dv(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var fv,$d,pv,mv,gv,ch=!1,Ia=[],Un=null,zn=null,qn=null,uo=new Map,co=new Map,Rn=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function em(t,e){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(e.pointerId)}}function bs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wo(e),e!==null&&$d(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function db(t,e,n,r,i){switch(e){case"focusin":return Un=bs(Un,t,e,n,r,i),!0;case"dragenter":return zn=bs(zn,t,e,n,r,i),!0;case"mouseover":return qn=bs(qn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return uo.set(s,bs(uo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,co.set(s,bs(co.get(s)||null,t,e,n,r,i)),!0}return!1}function yv(t){var e=Ar(t.target);if(e!==null){var n=si(e);if(n!==null){if(e=n.tag,e===13){if(e=sv(n),e!==null){t.blockedOn=e,gv(t.priority,function(){pv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sh=r,n.target.dispatchEvent(r),sh=null}else return e=Wo(n),e!==null&&$d(e),t.blockedOn=n,!1;e.shift()}return!0}function tm(t,e,n){Wa(t)&&n.delete(e)}function fb(){ch=!1,Un!==null&&Wa(Un)&&(Un=null),zn!==null&&Wa(zn)&&(zn=null),qn!==null&&Wa(qn)&&(qn=null),uo.forEach(tm),co.forEach(tm)}function Ss(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,fb)))}function ho(t){function e(i){return Ss(i,t)}if(0<Ia.length){Ss(Ia[0],t);for(var n=1;n<Ia.length;n++){var r=Ia[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Un!==null&&Ss(Un,t),zn!==null&&Ss(zn,t),qn!==null&&Ss(qn,t),uo.forEach(e),co.forEach(e),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)yv(n),n.blockedOn===null&&Rn.shift()}var Pi=kn.ReactCurrentBatchConfig,pl=!0;function pb(t,e,n,r){var i=ie,s=Pi.transition;Pi.transition=null;try{ie=1,Rd(t,e,n,r)}finally{ie=i,Pi.transition=s}}function mb(t,e,n,r){var i=ie,s=Pi.transition;Pi.transition=null;try{ie=4,Rd(t,e,n,r)}finally{ie=i,Pi.transition=s}}function Rd(t,e,n,r){if(pl){var i=hh(t,e,n,r);if(i===null)vc(t,e,r,ml,n),em(t,r);else if(db(i,t,e,n,r))r.stopPropagation();else if(em(t,r),e&4&&-1<hb.indexOf(t)){for(;i!==null;){var s=Wo(i);if(s!==null&&fv(s),s=hh(t,e,n,r),s===null&&vc(t,e,r,ml,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vc(t,e,r,null,n)}}var ml=null;function hh(t,e,n,r){if(ml=null,t=Dd(r),t=Ar(t),t!==null)if(e=si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ml=t,null}function vv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nb()){case Ad:return 1;case uv:return 4;case dl:case rb:return 16;case cv:return 536870912;default:return 16}default:return 16}}var Fn=null,Pd=null,Qa=null;function wv(){if(Qa)return Qa;var t,e=Pd,n=e.length,r,i="value"in Fn?Fn.value:Fn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qa=i.slice(t,1<r?1-r:void 0)}function Ya(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ka(){return!0}function nm(){return!1}function $t(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ka:nm,this.isPropagationStopped=nm,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),e}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=$t(as),Ho=xe({},as,{view:0,detail:0}),gb=$t(Ho),uc,cc,Is,iu=xe({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Md,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(uc=t.screenX-Is.screenX,cc=t.screenY-Is.screenY):cc=uc=0,Is=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:cc}}),rm=$t(iu),yb=xe({},iu,{dataTransfer:0}),vb=$t(yb),wb=xe({},Ho,{relatedTarget:0}),hc=$t(wb),xb=xe({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Eb=$t(xb),bb=xe({},as,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sb=$t(bb),Ib=xe({},as,{data:0}),im=$t(Ib),kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_b[t])?!!e[t]:!1}function Md(){return Cb}var Nb=xe({},Ho,{key:function(t){if(t.key){var e=kb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ya(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Md,charCode:function(t){return t.type==="keypress"?Ya(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ya(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Db=$t(Nb),Ab=xe({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=$t(Ab),Ob=xe({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Md}),$b=$t(Ob),Rb=xe({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pb=$t(Rb),Lb=xe({},iu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mb=$t(Lb),Fb=[9,13,27,32],Fd=xn&&"CompositionEvent"in window,Gs=null;xn&&"documentMode"in document&&(Gs=document.documentMode);var Vb=xn&&"TextEvent"in window&&!Gs,xv=xn&&(!Fd||Gs&&8<Gs&&11>=Gs),om=String.fromCharCode(32),am=!1;function Ev(t,e){switch(t){case"keyup":return Fb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xi=!1;function Bb(t,e){switch(t){case"compositionend":return bv(e);case"keypress":return e.which!==32?null:(am=!0,om);case"textInput":return t=e.data,t===om&&am?null:t;default:return null}}function jb(t,e){if(xi)return t==="compositionend"||!Fd&&Ev(t,e)?(t=wv(),Qa=Pd=Fn=null,xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xv&&e.locale!=="ko"?null:e.data;default:return null}}var Ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ub[t.type]:e==="textarea"}function Sv(t,e,n,r){ev(r),e=gl(e,"onChange"),0<e.length&&(n=new Ld("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hs=null,fo=null;function zb(t){Rv(t,0)}function su(t){var e=Si(t);if(Hy(e))return t}function qb(t,e){if(t==="change")return e}var Iv=!1;if(xn){var dc;if(xn){var fc="oninput"in document;if(!fc){var um=document.createElement("div");um.setAttribute("oninput","return;"),fc=typeof um.oninput=="function"}dc=fc}else dc=!1;Iv=dc&&(!document.documentMode||9<document.documentMode)}function cm(){Hs&&(Hs.detachEvent("onpropertychange",kv),fo=Hs=null)}function kv(t){if(t.propertyName==="value"&&su(fo)){var e=[];Sv(e,fo,t,Dd(t)),iv(zb,e)}}function Kb(t,e,n){t==="focusin"?(cm(),Hs=e,fo=n,Hs.attachEvent("onpropertychange",kv)):t==="focusout"&&cm()}function Gb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(fo)}function Hb(t,e){if(t==="click")return su(e)}function Wb(t,e){if(t==="input"||t==="change")return su(e)}function Qb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xt=typeof Object.is=="function"?Object.is:Qb;function po(t,e){if(Xt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hc.call(e,i)||!Xt(t[i],e[i]))return!1}return!0}function hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dm(t,e){var n=hm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hm(n)}}function Tv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _v(){for(var t=window,e=ul();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ul(t.document)}return e}function Vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yb(t){var e=_v(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tv(n.ownerDocument.documentElement,n)){if(r!==null&&Vd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dm(n,s);var o=dm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xb=xn&&"documentMode"in document&&11>=document.documentMode,Ei=null,dh=null,Ws=null,fh=!1;function fm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fh||Ei==null||Ei!==ul(r)||(r=Ei,"selectionStart"in r&&Vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ws&&po(Ws,r)||(Ws=r,r=gl(dh,"onSelect"),0<r.length&&(e=new Ld("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ei)))}function Ta(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},pc={},Cv={};xn&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function ou(t){if(pc[t])return pc[t];if(!bi[t])return t;var e=bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cv)return pc[t]=e[n];return t}var Nv=ou("animationend"),Dv=ou("animationiteration"),Av=ou("animationstart"),Ov=ou("transitionend"),$v=new Map,pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(t,e){$v.set(t,e),ii(e,[t])}for(var mc=0;mc<pm.length;mc++){var gc=pm[mc],Jb=gc.toLowerCase(),Zb=gc[0].toUpperCase()+gc.slice(1);hr(Jb,"on"+Zb)}hr(Nv,"onAnimationEnd");hr(Dv,"onAnimationIteration");hr(Av,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(Ov,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function mm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JE(r,e,void 0,t),t.currentTarget=null}function Rv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;mm(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;mm(i,a,u),s=l}}}if(hl)throw t=lh,hl=!1,lh=null,t}function ce(t,e){var n=e[vh];n===void 0&&(n=e[vh]=new Set);var r=t+"__bubble";n.has(r)||(Pv(e,t,2,!1),n.add(r))}function yc(t,e,n){var r=0;e&&(r|=4),Pv(n,t,r,e)}var _a="_reactListening"+Math.random().toString(36).slice(2);function mo(t){if(!t[_a]){t[_a]=!0,Uy.forEach(function(n){n!=="selectionchange"&&(eS.has(n)||yc(n,!1,t),yc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_a]||(e[_a]=!0,yc("selectionchange",!1,e))}}function Pv(t,e,n,r){switch(vv(e)){case 1:var i=pb;break;case 4:i=mb;break;default:i=Rd}n=i.bind(null,e,n,t),i=void 0,!ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vc(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ar(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}iv(function(){var u=s,c=Dd(n),h=[];e:{var d=$v.get(t);if(d!==void 0){var f=Ld,m=t;switch(t){case"keypress":if(Ya(n)===0)break e;case"keydown":case"keyup":f=Db;break;case"focusin":m="focus",f=hc;break;case"focusout":m="blur",f=hc;break;case"beforeblur":case"afterblur":f=hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=$b;break;case Nv:case Dv:case Av:f=Eb;break;case Ov:f=Pb;break;case"scroll":f=gb;break;case"wheel":f=Mb;break;case"copy":case"cut":case"paste":f=Sb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sm}var k=(e&4)!==0,C=!k&&t==="scroll",g=k?d!==null?d+"Capture":null:d;k=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=lo(p,g),b!=null&&k.push(go(p,b,y)))),C)break;p=p.return}0<k.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:k}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==sh&&(m=n.relatedTarget||n.fromElement)&&(Ar(m)||m[En]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Ar(m):null,m!==null&&(C=si(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(k=rm,b="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(k=sm,b="onPointerLeave",g="onPointerEnter",p="pointer"),C=f==null?d:Si(f),y=m==null?d:Si(m),d=new k(b,p+"leave",f,n,c),d.target=C,d.relatedTarget=y,b=null,Ar(c)===u&&(k=new k(g,p+"enter",m,n,c),k.target=y,k.relatedTarget=C,b=k),C=b,f&&m)t:{for(k=f,g=m,p=0,y=k;y;y=fi(y))p++;for(y=0,b=g;b;b=fi(b))y++;for(;0<p-y;)k=fi(k),p--;for(;0<y-p;)g=fi(g),y--;for(;p--;){if(k===g||g!==null&&k===g.alternate)break t;k=fi(k),g=fi(g)}k=null}else k=null;f!==null&&gm(h,d,f,k,!1),m!==null&&C!==null&&gm(h,C,m,k,!0)}}e:{if(d=u?Si(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=qb;else if(lm(d))if(Iv)I=Wb;else{I=Gb;var v=Kb}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=Hb);if(I&&(I=I(t,u))){Sv(h,I,n,c);break e}v&&v(t,d,u),t==="focusout"&&(v=d._wrapperState)&&v.controlled&&d.type==="number"&&eh(d,"number",d.value)}switch(v=u?Si(u):window,t){case"focusin":(lm(v)||v.contentEditable==="true")&&(Ei=v,dh=u,Ws=null);break;case"focusout":Ws=dh=Ei=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,fm(h,n,c);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":fm(h,n,c)}var w;if(Fd)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xi?Ev(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(xv&&n.locale!=="ko"&&(xi||E!=="onCompositionStart"?E==="onCompositionEnd"&&xi&&(w=wv()):(Fn=c,Pd="value"in Fn?Fn.value:Fn.textContent,xi=!0)),v=gl(u,E),0<v.length&&(E=new im(E,t,null,n,c),h.push({event:E,listeners:v}),w?E.data=w:(w=bv(n),w!==null&&(E.data=w)))),(w=Vb?Bb(t,n):jb(t,n))&&(u=gl(u,"onBeforeInput"),0<u.length&&(c=new im("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=w))}Rv(h,e)})}function go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lo(t,n),s!=null&&r.unshift(go(t,s,i)),s=lo(t,e),s!=null&&r.push(go(t,s,i))),t=t.return}return r}function fi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=lo(n,s),l!=null&&o.unshift(go(n,l,a))):i||(l=lo(n,s),l!=null&&o.push(go(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tS=/\r\n?/g,nS=/\u0000|\uFFFD/g;function ym(t){return(typeof t=="string"?t:""+t).replace(tS,`
`).replace(nS,"")}function Ca(t,e,n){if(e=ym(e),ym(t)!==e&&n)throw Error(A(425))}function yl(){}var ph=null,mh=null;function gh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,iS=typeof queueMicrotask=="function"?queueMicrotask:typeof vm!="undefined"?function(t){return vm.resolve(null).then(t).catch(sS)}:yh;function sS(t){setTimeout(function(){throw t})}function wc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ho(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ho(e)}function mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ls=Math.random().toString(36).slice(2),tn="__reactFiber$"+ls,yo="__reactProps$"+ls,En="__reactContainer$"+ls,vh="__reactEvents$"+ls,oS="__reactListeners$"+ls,aS="__reactHandles$"+ls;function Ar(t){var e=t[tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[En]||n[tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wm(t);t!==null;){if(n=t[tn])return n;t=wm(t)}return e}t=n,n=t.parentNode}return null}function Wo(t){return t=t[tn]||t[En],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function au(t){return t[yo]||null}var wh=[],Ii=-1;function dr(t){return{current:t}}function de(t){0>Ii||(t.current=wh[Ii],wh[Ii]=null,Ii--)}function ue(t,e){Ii++,wh[Ii]=t.current,t.current=e}var Zn={},st=dr(Zn),Et=dr(!1),Br=Zn;function Ui(t,e){var n=t.type.contextTypes;if(!n)return Zn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function vl(){de(Et),de(st)}function xm(t,e,n){if(st.current!==Zn)throw Error(A(168));ue(st,e),ue(Et,n)}function Lv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,KE(t)||"Unknown",i));return xe({},n,r)}function wl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zn,Br=st.current,ue(st,t),ue(Et,Et.current),!0}function Em(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=Lv(t,e,Br),r.__reactInternalMemoizedMergedChildContext=t,de(Et),de(st),ue(st,t)):de(Et),ue(Et,n)}var pn=null,lu=!1,xc=!1;function Mv(t){pn===null?pn=[t]:pn.push(t)}function lS(t){lu=!0,Mv(t)}function fr(){if(!xc&&pn!==null){xc=!0;var t=0,e=ie;try{var n=pn;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pn=null,lu=!1}catch(i){throw pn!==null&&(pn=pn.slice(t+1)),lv(Ad,fr),i}finally{ie=e,xc=!1}}return null}var uS=kn.ReactCurrentBatchConfig;function Kt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xl=dr(null),El=null,ki=null,Bd=null;function jd(){Bd=ki=El=null}function Ud(t){var e=xl.current;de(xl),t._currentValue=e}function xh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Li(t,e){El=t,Bd=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(vt=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(Bd!==t)if(t={context:t,memoizedValue:e,next:null},ki===null){if(El===null)throw Error(A(308));ki=t,El.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return e}var Wt=null,$n=!1;function zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,_w(t)?(t=n.interleaved,t===null?(e.next=e,Wt===null?Wt=[n]:Wt.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function Xa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Od(t,n)}}function bm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bl(t,e,n,r){var i=t.updateQueue;$n=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,k=a;switch(d=e,f=n,k.tag){case 1:if(m=k.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=k.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=xe({},h,d);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zr|=o,t.lanes=o,t.memoizedState=h}}function Sm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var Vv=new jy.Component().refs;function Eh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uu={isMounted:function(t){return(t=t._reactInternals)?si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),i=Hn(t),s=wn(r,i);s.payload=e,n!=null&&(s.callback=n),Kn(t,s),e=Bt(t,i,r),e!==null&&Xa(e,t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),i=Hn(t),s=wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Kn(t,s),e=Bt(t,i,r),e!==null&&Xa(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=Hn(t),i=wn(n,r);i.tag=2,e!=null&&(i.callback=e),Kn(t,i),e=Bt(t,r,n),e!==null&&Xa(e,t,r)}};function Im(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!po(n,r)||!po(i,s):!0}function Bv(t,e,n){var r=!1,i=Zn,s=e.contextType;return typeof s=="object"&&s!==null?s=jt(s):(i=bt(e)?Br:st.current,r=e.contextTypes,s=(r=r!=null)?Ui(t,i):Zn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function km(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uu.enqueueReplaceState(e,e.state,null)}function bh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Vv,zd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jt(s):(s=bt(e)?Br:st.current,i.context=Ui(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Eh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uu.enqueueReplaceState(i,i.state,null),bl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var Ti=[],_i=0,Sl=null,Il=0,Pt=[],Lt=0,jr=null,gn=1,yn="";function br(t,e){Ti[_i++]=Il,Ti[_i++]=Sl,Sl=t,Il=e}function jv(t,e,n){Pt[Lt++]=gn,Pt[Lt++]=yn,Pt[Lt++]=jr,jr=t;var r=gn;t=yn;var i=32-Yt(r)-1;r&=~(1<<i),n+=1;var s=32-Yt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gn=1<<32-Yt(e)+i|n<<i|r,yn=s+t}else gn=1<<s|n<<i|r,yn=t}function qd(t){t.return!==null&&(br(t,1),jv(t,1,0))}function Kd(t){for(;t===Sl;)Sl=Ti[--_i],Ti[_i]=null,Il=Ti[--_i],Ti[_i]=null;for(;t===jr;)jr=Pt[--Lt],Pt[Lt]=null,yn=Pt[--Lt],Pt[Lt]=null,gn=Pt[--Lt],Pt[Lt]=null}var _t=null,yt=null,pe=!1,Ht=null;function Uv(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_t=t,yt=mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_t=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jr!==null?{id:gn,overflow:yn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_t=t,yt=null,!0):!1;default:return!1}}function Sh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ih(t){if(pe){var e=yt;if(e){var n=e;if(!Tm(t,e)){if(Sh(t))throw Error(A(418));e=mn(n.nextSibling);var r=_t;e&&Tm(t,e)?Uv(r,n):(t.flags=t.flags&-4097|2,pe=!1,_t=t)}}else{if(Sh(t))throw Error(A(418));t.flags=t.flags&-4097|2,pe=!1,_t=t}}}function _m(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function ks(t){if(t!==_t)return!1;if(!pe)return _m(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gh(t.type,t.memoizedProps)),e&&(e=yt)){if(Sh(t)){for(t=yt;t;)t=mn(t.nextSibling);throw Error(A(418))}for(;e;)Uv(t,e),e=mn(e.nextSibling)}if(_m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yt=mn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=_t?mn(t.stateNode.nextSibling):null;return!0}function zi(){yt=_t=null,pe=!1}function Gd(t){Ht===null?Ht=[t]:Ht.push(t)}function Ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Vv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Na(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cm(t){var e=t._init;return e(t._payload)}function zv(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=er(g,p),g.index=0,g.sibling=null,g}function s(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,b){return p===null||p.tag!==6?(p=Tc(y,g.mode,b),p.return=g,p):(p=i(p,y),p.return=g,p)}function l(g,p,y,b){var I=y.type;return I===wi?c(g,p,y.props.children,b,y.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===On&&Cm(I)===p.type)?(b=i(p,y.props),b.ref=Ts(g,p,y),b.return=g,b):(b=nl(y.type,y.key,y.props,null,g.mode,b),b.ref=Ts(g,p,y),b.return=g,b)}function u(g,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=_c(y,g.mode,b),p.return=g,p):(p=i(p,y.children||[]),p.return=g,p)}function c(g,p,y,b,I){return p===null||p.tag!==7?(p=Fr(y,g.mode,b,I),p.return=g,p):(p=i(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Tc(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case wa:return y=nl(p.type,p.key,p.props,null,g.mode,y),y.ref=Ts(g,null,p),y.return=g,y;case vi:return p=_c(p,g.mode,y),p.return=g,p;case On:var b=p._init;return h(g,b(p._payload),y)}if(Ms(p)||xs(p))return p=Fr(p,g.mode,y,null),p.return=g,p;Na(g,p)}return null}function d(g,p,y,b){var I=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(g,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wa:return y.key===I?l(g,p,y,b):null;case vi:return y.key===I?u(g,p,y,b):null;case On:return I=y._init,d(g,p,I(y._payload),b)}if(Ms(y)||xs(y))return I!==null?null:c(g,p,y,b,null);Na(g,y)}return null}function f(g,p,y,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,a(p,g,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wa:return g=g.get(b.key===null?y:b.key)||null,l(p,g,b,I);case vi:return g=g.get(b.key===null?y:b.key)||null,u(p,g,b,I);case On:var v=b._init;return f(g,p,y,v(b._payload),I)}if(Ms(b)||xs(b))return g=g.get(y)||null,c(p,g,b,I,null);Na(p,b)}return null}function m(g,p,y,b){for(var I=null,v=null,w=p,E=p=0,O=null;w!==null&&E<y.length;E++){w.index>E?(O=w,w=null):O=w.sibling;var _=d(g,w,y[E],b);if(_===null){w===null&&(w=O);break}t&&w&&_.alternate===null&&e(g,w),p=s(_,p,E),v===null?I=_:v.sibling=_,v=_,w=O}if(E===y.length)return n(g,w),pe&&br(g,E),I;if(w===null){for(;E<y.length;E++)w=h(g,y[E],b),w!==null&&(p=s(w,p,E),v===null?I=w:v.sibling=w,v=w);return pe&&br(g,E),I}for(w=r(g,w);E<y.length;E++)O=f(w,g,E,y[E],b),O!==null&&(t&&O.alternate!==null&&w.delete(O.key===null?E:O.key),p=s(O,p,E),v===null?I=O:v.sibling=O,v=O);return t&&w.forEach(function(F){return e(g,F)}),pe&&br(g,E),I}function k(g,p,y,b){var I=xs(y);if(typeof I!="function")throw Error(A(150));if(y=I.call(y),y==null)throw Error(A(151));for(var v=I=null,w=p,E=p=0,O=null,_=y.next();w!==null&&!_.done;E++,_=y.next()){w.index>E?(O=w,w=null):O=w.sibling;var F=d(g,w,_.value,b);if(F===null){w===null&&(w=O);break}t&&w&&F.alternate===null&&e(g,w),p=s(F,p,E),v===null?I=F:v.sibling=F,v=F,w=O}if(_.done)return n(g,w),pe&&br(g,E),I;if(w===null){for(;!_.done;E++,_=y.next())_=h(g,_.value,b),_!==null&&(p=s(_,p,E),v===null?I=_:v.sibling=_,v=_);return pe&&br(g,E),I}for(w=r(g,w);!_.done;E++,_=y.next())_=f(w,g,E,_.value,b),_!==null&&(t&&_.alternate!==null&&w.delete(_.key===null?E:_.key),p=s(_,p,E),v===null?I=_:v.sibling=_,v=_);return t&&w.forEach(function(B){return e(g,B)}),pe&&br(g,E),I}function C(g,p,y,b){if(typeof y=="object"&&y!==null&&y.type===wi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case wa:e:{for(var I=y.key,v=p;v!==null;){if(v.key===I){if(I=y.type,I===wi){if(v.tag===7){n(g,v.sibling),p=i(v,y.props.children),p.return=g,g=p;break e}}else if(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===On&&Cm(I)===v.type){n(g,v.sibling),p=i(v,y.props),p.ref=Ts(g,v,y),p.return=g,g=p;break e}n(g,v);break}else e(g,v);v=v.sibling}y.type===wi?(p=Fr(y.props.children,g.mode,b,y.key),p.return=g,g=p):(b=nl(y.type,y.key,y.props,null,g.mode,b),b.ref=Ts(g,p,y),b.return=g,g=b)}return o(g);case vi:e:{for(v=y.key;p!==null;){if(p.key===v)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=i(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=_c(y,g.mode,b),p.return=g,g=p}return o(g);case On:return v=y._init,C(g,p,v(y._payload),b)}if(Ms(y))return m(g,p,y,b);if(xs(y))return k(g,p,y,b);Na(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,y),p.return=g,g=p):(n(g,p),p=Tc(y,g.mode,b),p.return=g,g=p),o(g)):n(g,p)}return C}var qi=zv(!0),qv=zv(!1),Qo={},an=dr(Qo),vo=dr(Qo),wo=dr(Qo);function Or(t){if(t===Qo)throw Error(A(174));return t}function Hd(t,e){switch(ue(wo,e),ue(vo,t),ue(an,Qo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nh(e,t)}de(an),ue(an,e)}function Ki(){de(an),de(vo),de(wo)}function Kv(t){Or(wo.current);var e=Or(an.current),n=nh(e,t.type);e!==n&&(ue(vo,t),ue(an,n))}function Wd(t){vo.current===t&&(de(an),de(vo))}var ve=dr(0);function kl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ec=[];function Qd(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var Ja=kn.ReactCurrentDispatcher,bc=kn.ReactCurrentBatchConfig,Ur=0,we=null,Re=null,Ve=null,Tl=!1,Qs=!1,xo=0,cS=0;function et(){throw Error(A(321))}function Yd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xt(t[n],e[n]))return!1;return!0}function Xd(t,e,n,r,i,s){if(Ur=s,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ja.current=t===null||t.memoizedState===null?pS:mS,t=n(r,i),Qs){s=0;do{if(Qs=!1,xo=0,25<=s)throw Error(A(301));s+=1,Ve=Re=null,e.updateQueue=null,Ja.current=gS,t=n(r,i)}while(Qs)}if(Ja.current=_l,e=Re!==null&&Re.next!==null,Ur=0,Ve=Re=we=null,Tl=!1,e)throw Error(A(300));return t}function Jd(){var t=xo!==0;return xo=0,t}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?we.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Ut(){if(Re===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=Ve===null?we.memoizedState:Ve.next;if(e!==null)Ve=e,Re=t;else{if(t===null)throw Error(A(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ve===null?we.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function Eo(t,e){return typeof e=="function"?e(t):e}function Sc(t){var e=Ut(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Re,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ur&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,we.lanes|=c,zr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Xt(r,e.memoizedState)||(vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,we.lanes|=s,zr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ic(t){var e=Ut(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xt(s,e.memoizedState)||(vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Gv(){}function Hv(t,e){var n=we,r=Ut(),i=e(),s=!Xt(r.memoizedState,i);if(s&&(r.memoizedState=i,vt=!0),r=r.queue,Zd(Yv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,bo(9,Qv.bind(null,n,r,i,e),void 0,null),Le===null)throw Error(A(349));(Ur&30)!==0||Wv(n,e,i)}return i}function Wv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qv(t,e,n,r){e.value=n,e.getSnapshot=r,Xv(e)&&Bt(t,1,-1)}function Yv(t,e,n){return n(function(){Xv(e)&&Bt(t,1,-1)})}function Xv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xt(t,n)}catch{return!0}}function Nm(t){var e=en();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:t},e.queue=t,t=t.dispatch=fS.bind(null,we,t),[e.memoizedState,t]}function bo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jv(){return Ut().memoizedState}function Za(t,e,n,r){var i=en();we.flags|=t,i.memoizedState=bo(1|e,n,void 0,r===void 0?null:r)}function cu(t,e,n,r){var i=Ut();r=r===void 0?null:r;var s=void 0;if(Re!==null){var o=Re.memoizedState;if(s=o.destroy,r!==null&&Yd(r,o.deps)){i.memoizedState=bo(e,n,s,r);return}}we.flags|=t,i.memoizedState=bo(1|e,n,s,r)}function Dm(t,e){return Za(8390656,8,t,e)}function Zd(t,e){return cu(2048,8,t,e)}function Zv(t,e){return cu(4,2,t,e)}function ew(t,e){return cu(4,4,t,e)}function tw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nw(t,e,n){return n=n!=null?n.concat([t]):null,cu(4,4,tw.bind(null,e,t),n)}function ef(){}function rw(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iw(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sw(t,e,n){return(Ur&21)===0?(t.baseState&&(t.baseState=!1,vt=!0),t.memoizedState=n):(Xt(n,e)||(n=hv(),we.lanes|=n,zr|=n,t.baseState=!0),e)}function hS(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=bc.transition;bc.transition={};try{t(!1),e()}finally{ie=n,bc.transition=r}}function ow(){return Ut().memoizedState}function dS(t,e,n){var r=Hn(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aw(t)?lw(e,n):(uw(t,e,n),n=ht(),t=Bt(t,r,n),t!==null&&cw(t,e,r))}function fS(t,e,n){var r=Hn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aw(t))lw(e,i);else{uw(t,e,i);var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xt(a,o))return}catch{}finally{}n=ht(),t=Bt(t,r,n),t!==null&&cw(t,e,r)}}function aw(t){var e=t.alternate;return t===we||e!==null&&e===we}function lw(t,e){Qs=Tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uw(t,e,n){_w(t)?(t=e.interleaved,t===null?(n.next=n,Wt===null?Wt=[e]:Wt.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function cw(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Od(t,n)}}var _l={readContext:jt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},pS={readContext:jt,useCallback:function(t,e){return en().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:Dm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Za(4194308,4,tw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Za(4194308,4,t,e)},useInsertionEffect:function(t,e){return Za(4,2,t,e)},useMemo:function(t,e){var n=en();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=en();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dS.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=en();return t={current:t},e.memoizedState=t},useState:Nm,useDebugValue:ef,useDeferredValue:function(t){return en().memoizedState=t},useTransition:function(){var t=Nm(!1),e=t[0];return t=hS.bind(null,t[1]),en().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,i=en();if(pe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Le===null)throw Error(A(349));(Ur&30)!==0||Wv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Dm(Yv.bind(null,r,s,t),[t]),r.flags|=2048,bo(9,Qv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=en(),e=Le.identifierPrefix;if(pe){var n=yn,r=gn;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mS={readContext:jt,useCallback:rw,useContext:jt,useEffect:Zd,useImperativeHandle:nw,useInsertionEffect:Zv,useLayoutEffect:ew,useMemo:iw,useReducer:Sc,useRef:Jv,useState:function(){return Sc(Eo)},useDebugValue:ef,useDeferredValue:function(t){var e=Ut();return sw(e,Re.memoizedState,t)},useTransition:function(){var t=Sc(Eo)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:Gv,useSyncExternalStore:Hv,useId:ow,unstable_isNewReconciler:!1},gS={readContext:jt,useCallback:rw,useContext:jt,useEffect:Zd,useImperativeHandle:nw,useInsertionEffect:Zv,useLayoutEffect:ew,useMemo:iw,useReducer:Ic,useRef:Jv,useState:function(){return Ic(Eo)},useDebugValue:ef,useDeferredValue:function(t){var e=Ut();return Re===null?e.memoizedState=t:sw(e,Re.memoizedState,t)},useTransition:function(){var t=Ic(Eo)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:Gv,useSyncExternalStore:Hv,useId:ow,unstable_isNewReconciler:!1};function tf(t,e){try{var n="",r=e;do n+=qE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function kh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yS=typeof WeakMap=="function"?WeakMap:Map;function hw(t,e,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nl||(Nl=!0,Rh=r),kh(t,e)},n}function dw(t,e,n){n=wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kh(t,e),typeof r!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Am(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DS.bind(null,t,e,n),e.then(t,t))}function Om(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $m(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wn(-1,1),e.tag=2,Kn(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var fw,Th,pw,mw;fw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Th=function(){};pw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Or(an.current);var s=null;switch(n){case"input":i=Jc(t,i),r=Jc(t,r),s=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":i=th(t,i),r=th(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yl)}rh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};mw=function(t,e,n,r){n!==r&&(e.flags|=4)};function _s(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vS(t,e,n){var r=e.pendingProps;switch(Kd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return bt(e.type)&&vl(),tt(e),null;case 3:return r=e.stateNode,Ki(),de(Et),de(st),Qd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ks(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Ht!==null&&(Mh(Ht),Ht=null))),Th(t,e),tt(e),null;case 5:Wd(e);var i=Or(wo.current);if(n=e.type,t!==null&&e.stateNode!=null)pw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return tt(e),null}if(t=Or(an.current),ks(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tn]=e,r[yo]=s,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<Vs.length;i++)ce(Vs[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":Hp(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":Qp(r,s),ce("invalid",r)}rh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ca(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ca(r.textContent,a,t),i=["children",""+a]):oo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":xa(r),Wp(r,s,!0);break;case"textarea":xa(r),Yp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tn]=e,t[yo]=r,fw(t,e,!1,!1),e.stateNode=t;e:{switch(o=ih(n,r),n){case"dialog":ce("cancel",t),ce("close",t),i=r;break;case"iframe":case"object":case"embed":ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vs.length;i++)ce(Vs[i],t);i=r;break;case"source":ce("error",t),i=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=r;break;case"details":ce("toggle",t),i=r;break;case"input":Hp(t,r),i=Jc(t,r),ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),ce("invalid",t);break;case"textarea":Qp(t,r),i=th(t,r),ce("invalid",t);break;default:i=r}rh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Zy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ao(t,l):typeof l=="number"&&ao(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ce("scroll",t):l!=null&&Td(t,s,l,o))}switch(n){case"input":xa(t),Wp(t,r,!1);break;case"textarea":xa(t),Yp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Oi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Oi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)mw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=Or(wo.current),Or(an.current),ks(e)){if(r=e.stateNode,n=e.memoizedProps,r[tn]=e,(s=r.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:Ca(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ca(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=e,e.stateNode=r}return tt(e),null;case 13:if(de(ve),r=e.memoizedState,pe&&yt!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=yt;r;)r=mn(r.nextSibling);return zi(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=ks(e),t===null){if(!r)throw Error(A(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(A(317));r[tn]=e}else zi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return tt(e),null}return Ht!==null&&(Mh(Ht),Ht=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?ks(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(ve.current&1)!==0?Pe===0&&(Pe=3):lf())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Ki(),Th(t,e),t===null&&mo(e.stateNode.containerInfo),tt(e),null;case 10:return Ud(e.type._context),tt(e),null;case 17:return bt(e.type)&&vl(),tt(e),null;case 19:if(de(ve),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_s(s,!1);else{if(Pe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=kl(t),o!==null){for(e.flags|=128,_s(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(ve,ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Te()>Gi&&(e.flags|=128,r=!0,_s(s,!1),e.lanes=4194304)}else{if(!r)if(t=kl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_s(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pe)return tt(e),null}else 2*Te()-s.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,r=!0,_s(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Te(),e.sibling=null,n=ve.current,ue(ve,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return af(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Tt&1073741824)!==0&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}var wS=kn.ReactCurrentOwner,vt=!1;function at(t,e,n,r){e.child=t===null?qv(e,null,n,r):qi(e,t.child,n,r)}function Rm(t,e,n,r,i){n=n.render;var s=e.ref;return Li(e,i),r=Xd(t,e,n,r,s,i),n=Jd(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bn(t,e,i)):(pe&&n&&qd(e),e.flags|=1,at(t,e,r,i),e.child)}function Pm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gw(t,e,s,r,i)):(t=nl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:po,n(o,r)&&t.ref===e.ref)return bn(t,e,i)}return e.flags|=1,t=er(s,r),t.ref=e.ref,t.return=e,e.child=t}function gw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(po(s,r)&&t.ref===e.ref)if(vt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(vt=!0);else return e.lanes=t.lanes,bn(t,e,i)}return _h(t,e,n,r,i)}function yw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Ni,Tt),Tt|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ue(Ni,Tt),Tt|=r;else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Ni,Tt),Tt|=t,null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ue(Ni,Tt),Tt|=r;return at(t,e,i,n),e.child}function vw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _h(t,e,n,r,i){var s=bt(n)?Br:st.current;return s=Ui(e,s),Li(e,i),n=Xd(t,e,n,r,s,i),r=Jd(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bn(t,e,i)):(pe&&r&&qd(e),e.flags|=1,at(t,e,n,i),e.child)}function Lm(t,e,n,r,i){if(bt(n)){var s=!0;wl(e)}else s=!1;if(Li(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Bv(e,n,r),bh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=bt(n)?Br:st.current,u=Ui(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&km(e,o,r,u),$n=!1;var d=e.memoizedState;o.state=d,bl(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Et.current||$n?(typeof c=="function"&&(Eh(e,n,c,r),l=e.memoizedState),(a=$n||Im(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Fv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Kt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=bt(n)?Br:st.current,l=Ui(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&km(e,o,r,l),$n=!1,d=e.memoizedState,o.state=d,bl(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||Et.current||$n?(typeof f=="function"&&(Eh(e,n,f,r),m=e.memoizedState),(u=$n||Im(e,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ch(t,e,n,r,s,i)}function Ch(t,e,n,r,i,s){vw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Em(e,n,!1),bn(t,e,s);r=e.stateNode,wS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qi(e,t.child,null,s),e.child=qi(e,null,a,s)):at(t,e,a,s),e.memoizedState=r.state,i&&Em(e,n,!0),e.child}function ww(t){var e=t.stateNode;e.pendingContext?xm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xm(t,e.context,!1),Hd(t,e.containerInfo)}function Mm(t,e,n,r,i){return zi(),Gd(i),e.flags|=256,at(t,e,n,r),e.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function Aa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fm(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function xw(t,e,n){var r=e.pendingProps,i=ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ue(ve,i&1),t===null)return Ih(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ol(i,r,0,null),t=Fr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Aa(n),e.memoizedState=Da,t):Nh(e,i));if(i=t.memoizedState,i!==null){if(a=i.dehydrated,a!==null){if(o)return e.flags&256?(e.flags&=-257,Oa(t,e,n,Error(A(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ol({mode:"visible",children:r.children},i,0,null),s=Fr(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&qi(e,t.child,null,n),e.child.memoizedState=Aa(n),e.memoizedState=Da,s);if((e.mode&1)===0)e=Oa(t,e,n,null);else if(a.data==="$!")e=Oa(t,e,n,Error(A(419)));else if(r=(n&t.childLanes)!==0,vt||r){if(r=Le,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,Bt(t,r,-1))}lf(),e=Oa(t,e,n,Error(A(421)))}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=AS.bind(null,t),a._reactRetry=e,e=null):(n=i.treeContext,yt=mn(a.nextSibling),_t=e,pe=!0,Ht=null,n!==null&&(Pt[Lt++]=gn,Pt[Lt++]=yn,Pt[Lt++]=jr,gn=n.id,yn=n.overflow,jr=e),e=Nh(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=Bm(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?Aa(n):Fm(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=Da,r):(n=Vm(t,e,r.children,n),e.memoizedState=null,n)}return s?(r=Bm(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?Aa(n):Fm(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=Da,r):(n=Vm(t,e,r.children,n),e.memoizedState=null,n)}function Nh(t,e){return e=Ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vm(t,e,n,r){var i=t.child;return t=i.sibling,n=er(i,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function Bm(t,e,n,r,i){var s=e.mode;t=t.child;var o=t.sibling,a={mode:"hidden",children:n};return(s&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=er(t,a),n.subtreeFlags=t.subtreeFlags&14680064),o!==null?r=er(o,r):(r=Fr(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Oa(t,e,n,r){return r!==null&&Gd(r),qi(e,t.child,null,n),t=Nh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xh(t.return,e,n)}function kc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ew(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(at(t,e,r.children,n),r=ve.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jm(t,n,e);else if(t.tag===19)jm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ue(ve,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kc(e,!0,n,null,s);break;case"together":kc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zr|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xS(t,e,n){switch(e.tag){case 3:ww(e),zi();break;case 5:Kv(e);break;case 1:bt(e.type)&&wl(e);break;case 4:Hd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ue(xl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ue(ve,ve.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?xw(t,e,n):(ue(ve,ve.current&1),t=bn(t,e,n),t!==null?t.sibling:null);ue(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return Ew(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,yw(t,e,n)}return bn(t,e,n)}function ES(t,e){switch(Kd(e),e.tag){case 1:return bt(e.type)&&vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ki(),de(Et),de(st),Qd(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Wd(e),null;case 13:if(de(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(ve),null;case 4:return Ki(),null;case 10:return Ud(e.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var $a=!1,nt=!1,bS=typeof WeakSet=="function"?WeakSet:Set,M=null;function Ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function Dh(t,e,n){try{n()}catch(r){be(t,e,r)}}var Um=!1;function SS(t,e){if(ph=pl,t=_v(),Vd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:t,selectionRange:n},pl=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var m=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var k=m.memoizedProps,C=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?k:Kt(e.type,k),C);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;if(y.nodeType===1)y.textContent="";else if(y.nodeType===9){var b=y.body;b!=null&&(b.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(I){be(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return m=Um,Um=!1,m}function Ys(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dh(e,n,s)}i=i.next}while(i!==r)}}function hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ah(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bw(t){var e=t.alternate;e!==null&&(t.alternate=null,bw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tn],delete e[yo],delete e[vh],delete e[oS],delete e[aS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sw(t){return t.tag===5||t.tag===3||t.tag===4}function zm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yl));else if(r!==4&&(t=t.child,t!==null))for(Oh(t,e,n),t=t.sibling;t!==null;)Oh(t,e,n),t=t.sibling}function $h(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($h(t,e,n),t=t.sibling;t!==null;)$h(t,e,n),t=t.sibling}var Ge=null,Gt=!1;function Nn(t,e,n){for(n=n.child;n!==null;)Iw(t,e,n),n=n.sibling}function Iw(t,e,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ru,n)}catch{}switch(n.tag){case 5:nt||Ci(n,e);case 6:var r=Ge,i=Gt;Ge=null,Nn(t,e,n),Ge=r,Gt=i,Ge!==null&&(Gt?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Gt?(t=Ge,n=n.stateNode,t.nodeType===8?wc(t.parentNode,n):t.nodeType===1&&wc(t,n),ho(t)):wc(Ge,n.stateNode));break;case 4:r=Ge,i=Gt,Ge=n.stateNode.containerInfo,Gt=!0,Nn(t,e,n),Ge=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&Dh(n,e,o),i=i.next}while(i!==r)}Nn(t,e,n);break;case 1:if(!nt&&(Ci(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,e,a)}Nn(t,e,n);break;case 21:Nn(t,e,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Nn(t,e,n),nt=r):Nn(t,e,n);break;default:Nn(t,e,n)}}function qm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bS),e.forEach(function(r){var i=OS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ge=a.stateNode,Gt=!1;break e;case 3:Ge=a.stateNode.containerInfo,Gt=!0;break e;case 4:Ge=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(Ge===null)throw Error(A(160));Iw(s,o,i),Ge=null,Gt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kw(e,t),e=e.sibling}function kw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),Zt(t),r&4){try{Ys(3,t,t.return),hu(3,t)}catch(m){be(t,t.return,m)}try{Ys(5,t,t.return)}catch(m){be(t,t.return,m)}}break;case 1:qt(e,t),Zt(t),r&512&&n!==null&&Ci(n,n.return);break;case 5:if(qt(e,t),Zt(t),r&512&&n!==null&&Ci(n,n.return),t.flags&32){var i=t.stateNode;try{ao(i,"")}catch(m){be(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Wy(i,s),ih(a,o);var u=ih(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Zy(i,h):c==="dangerouslySetInnerHTML"?Xy(i,h):c==="children"?ao(i,h):Td(i,c,h,u)}switch(a){case"input":Zc(i,s);break;case"textarea":Qy(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Oi(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Oi(i,!!s.multiple,s.defaultValue,!0):Oi(i,!!s.multiple,s.multiple?[]:"",!1))}i[yo]=s}catch(m){be(t,t.return,m)}}break;case 6:if(qt(e,t),Zt(t),r&4){if(t.stateNode===null)throw Error(A(162));u=t.stateNode,c=t.memoizedProps;try{u.nodeValue=c}catch(m){be(t,t.return,m)}}break;case 3:if(qt(e,t),Zt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ho(e.containerInfo)}catch(m){be(t,t.return,m)}break;case 4:qt(e,t),Zt(t);break;case 13:qt(e,t),Zt(t),u=t.child,u.flags&8192&&u.memoizedState!==null&&(u.alternate===null||u.alternate.memoizedState===null)&&(sf=Te()),r&4&&qm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(c=nt)||u,qt(e,t),nt=c):qt(e,t),Zt(t),r&8192){c=t.memoizedState!==null;e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jy("display",o))}catch(m){be(t,t.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){be(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(c&&!u&&(t.mode&1)!==0)for(M=t,t=t.child;t!==null;){for(u=M=t;M!==null;){switch(c=M,h=c.child,c.tag){case 0:case 11:case 14:case 15:Ys(4,c,c.return);break;case 1:if(Ci(c,c.return),s=c.stateNode,typeof s.componentWillUnmount=="function"){d=c,f=c.return;try{i=d,s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(m){be(d,f,m)}}break;case 5:Ci(c,c.return);break;case 22:if(c.memoizedState!==null){Gm(u);continue}}h!==null?(h.return=c,M=h):Gm(u)}t=t.sibling}}break;case 19:qt(e,t),Zt(t),r&4&&qm(t);break;case 21:break;default:qt(e,t),Zt(t)}}function Zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sw(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ao(i,""),r.flags&=-33);var s=zm(t);$h(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zm(t);Oh(t,a,o);break;default:throw Error(A(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IS(t,e,n){M=t,Tw(t)}function Tw(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$a;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nt;a=$a;var u=nt;if($a=o,(nt=l)&&!u)for(M=i;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Hm(i):l!==null?(l.return=o,M=l):Hm(i);for(;s!==null;)M=s,Tw(s),s=s.sibling;M=i,$a=a,nt=u}Km(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,M=s):Km(t)}}function Km(t){for(;M!==null;){var e=M;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:nt||hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Sm(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ho(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(A(163))}nt||e.flags&512&&Ah(e)}catch(d){be(e,e.return,d)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Gm(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Hm(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hu(4,e)}catch(l){be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){be(e,i,l)}}var s=e.return;try{Ah(e)}catch(l){be(e,s,l)}break;case 5:var o=e.return;try{Ah(e)}catch(l){be(e,o,l)}}}catch(l){be(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var kS=Math.ceil,Cl=kn.ReactCurrentDispatcher,nf=kn.ReactCurrentOwner,Vt=kn.ReactCurrentBatchConfig,te=0,Le=null,De=null,Ye=0,Tt=0,Ni=dr(0),Pe=0,So=null,zr=0,du=0,rf=0,Xs=null,gt=null,sf=0,Gi=1/0,fn=null,Nl=!1,Rh=null,Gn=null,Ra=!1,Vn=null,Dl=0,Js=0,Ph=null,el=-1,tl=0;function ht(){return(te&6)!==0?Te():el!==-1?el:el=Te()}function Hn(t){return(t.mode&1)===0?1:(te&2)!==0&&Ye!==0?Ye&-Ye:uS.transition!==null?(tl===0&&(tl=hv()),tl):(t=ie,t!==0||(t=window.event,t=t===void 0?16:vv(t.type)),t)}function Bt(t,e,n){if(50<Js)throw Js=0,Ph=null,Error(A(185));var r=fu(t,e);return r===null?null:(Go(r,e,n),((te&2)===0||r!==Le)&&(r===Le&&((te&2)===0&&(du|=e),Pe===4&&Pn(r,Ye)),St(r,n),e===1&&te===0&&(t.mode&1)===0&&(Gi=Te()+500,lu&&fr())),r)}function fu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function _w(t){return(Le!==null||Wt!==null)&&(t.mode&1)!==0&&(te&2)===0}function St(t,e){var n=t.callbackNode;ub(t,e);var r=fl(t,t===Le?Ye:0);if(r===0)n!==null&&Zp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zp(n),e===1)t.tag===0?lS(Wm.bind(null,t)):Mv(Wm.bind(null,t)),iS(function(){te===0&&fr()}),n=null;else{switch(dv(r)){case 1:n=Ad;break;case 4:n=uv;break;case 16:n=dl;break;case 536870912:n=cv;break;default:n=dl}n=Pw(n,Cw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Cw(t,e){if(el=-1,tl=0,(te&6)!==0)throw Error(A(327));var n=t.callbackNode;if(Mi()&&t.callbackNode!==n)return null;var r=fl(t,t===Le?Ye:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Al(t,r);else{e=r;var i=te;te|=2;var s=Dw();(Le!==t||Ye!==e)&&(fn=null,Gi=Te()+500,Mr(t,e));do try{CS();break}catch(a){Nw(t,a)}while(1);jd(),Cl.current=s,te=i,De!==null?e=0:(Le=null,Ye=0,e=Pe)}if(e!==0){if(e===2&&(i=uh(t),i!==0&&(r=i,e=Lh(t,i))),e===1)throw n=So,Mr(t,0),Pn(t,r),St(t,Te()),n;if(e===6)Pn(t,r);else{if(i=t.current.alternate,(r&30)===0&&!TS(i)&&(e=Al(t,r),e===2&&(s=uh(t),s!==0&&(r=s,e=Lh(t,s))),e===1))throw n=So,Mr(t,0),Pn(t,r),St(t,Te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Sr(t,gt,fn);break;case 3:if(Pn(t,r),(r&130023424)===r&&(e=sf+500-Te(),10<e)){if(fl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yh(Sr.bind(null,t,gt,fn),e);break}Sr(t,gt,fn);break;case 4:if(Pn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kS(r/1960))-r,10<r){t.timeoutHandle=yh(Sr.bind(null,t,gt,fn),r);break}Sr(t,gt,fn);break;case 5:Sr(t,gt,fn);break;default:throw Error(A(329))}}}return St(t,Te()),t.callbackNode===n?Cw.bind(null,t):null}function Lh(t,e){var n=Xs;return t.current.memoizedState.isDehydrated&&(Mr(t,e).flags|=256),t=Al(t,e),t!==2&&(e=gt,gt=n,e!==null&&Mh(e)),t}function Mh(t){gt===null?gt=t:gt.push.apply(gt,t)}function TS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pn(t,e){for(e&=~rf,e&=~du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yt(e),r=1<<n;t[n]=-1,e&=~r}}function Wm(t){if((te&6)!==0)throw Error(A(327));Mi();var e=fl(t,0);if((e&1)===0)return St(t,Te()),null;var n=Al(t,e);if(t.tag!==0&&n===2){var r=uh(t);r!==0&&(e=r,n=Lh(t,r))}if(n===1)throw n=So,Mr(t,0),Pn(t,e),St(t,Te()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sr(t,gt,fn),St(t,Te()),null}function of(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Gi=Te()+500,lu&&fr())}}function qr(t){Vn!==null&&Vn.tag===0&&(te&6)===0&&Mi();var e=te;te|=1;var n=Vt.transition,r=ie;try{if(Vt.transition=null,ie=1,t)return t()}finally{ie=r,Vt.transition=n,te=e,(te&6)===0&&fr()}}function af(){Tt=Ni.current,de(Ni)}function Mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rS(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Kd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vl();break;case 3:Ki(),de(Et),de(st),Qd();break;case 5:Wd(r);break;case 4:Ki();break;case 13:de(ve);break;case 19:de(ve);break;case 10:Ud(r.type._context);break;case 22:case 23:af()}n=n.return}if(Le=t,De=t=er(t.current,null),Ye=Tt=e,Pe=0,So=null,rf=du=zr=0,gt=Xs=null,Wt!==null){for(e=0;e<Wt.length;e++)if(n=Wt[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wt=null}return t}function Nw(t,e){do{var n=De;try{if(jd(),Ja.current=_l,Tl){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tl=!1}if(Ur=0,Ve=Re=we=null,Qs=!1,xo=0,nf.current=null,n===null||n.return===null){Pe=1,So=e,De=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Om(o);if(f!==null){f.flags&=-257,$m(f,o,a,s,e),f.mode&1&&Am(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var k=new Set;k.add(l),e.updateQueue=k}else m.add(l);break e}else{if((e&1)===0){Am(s,u,e),lf();break e}l=Error(A(426))}}else if(pe&&a.mode&1){var C=Om(o);if(C!==null){(C.flags&65536)===0&&(C.flags|=256),$m(C,o,a,s,e),Gd(l);break e}}s=l,Pe!==4&&(Pe=2),Xs===null?Xs=[s]:Xs.push(s),l=tf(l,a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=hw(a,l,e);bm(a,g);break e;case 1:s=l;var p=a.type,y=a.stateNode;if((a.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gn===null||!Gn.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=dw(a,s,e);bm(a,b);break e}}a=a.return}while(a!==null)}Ow(n)}catch(I){e=I,De===n&&n!==null&&(De=n=n.return);continue}break}while(1)}function Dw(){var t=Cl.current;return Cl.current=_l,t===null?_l:t}function lf(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Le===null||(zr&268435455)===0&&(du&268435455)===0||Pn(Le,Ye)}function Al(t,e){var n=te;te|=2;var r=Dw();(Le!==t||Ye!==e)&&(fn=null,Mr(t,e));do try{_S();break}catch(i){Nw(t,i)}while(1);if(jd(),te=n,Cl.current=r,De!==null)throw Error(A(261));return Le=null,Ye=0,Pe}function _S(){for(;De!==null;)Aw(De)}function CS(){for(;De!==null&&!eb();)Aw(De)}function Aw(t){var e=Rw(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?Ow(t):De=e,nf.current=null}function Ow(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=vS(n,e,Tt),n!==null){De=n;return}}else{if(n=ES(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,De=null;return}}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Pe===0&&(Pe=5)}function Sr(t,e,n){var r=ie,i=Vt.transition;try{Vt.transition=null,ie=1,NS(t,e,n,r)}finally{Vt.transition=i,ie=r}return null}function NS(t,e,n,r){do Mi();while(Vn!==null);if((te&6)!==0)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cb(t,s),t===Le&&(De=Le=null,Ye=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ra||(Ra=!0,Pw(dl,function(){return Mi(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Vt.transition,Vt.transition=null;var o=ie;ie=1;var a=te;te|=4,nf.current=null,SS(t,n),kw(n,t),Yb(mh),pl=!!ph,mh=ph=null,t.current=n,IS(n),tb(),te=a,ie=o,Vt.transition=s}else t.current=n;if(Ra&&(Ra=!1,Vn=t,Dl=i),s=t.pendingLanes,s===0&&(Gn=null),ib(n.stateNode),St(t,Te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(Nl)throw Nl=!1,t=Rh,Rh=null,t;return(Dl&1)!==0&&t.tag!==0&&Mi(),s=t.pendingLanes,(s&1)!==0?t===Ph?Js++:(Js=0,Ph=t):Js=0,fr(),null}function Mi(){if(Vn!==null){var t=dv(Dl),e=Vt.transition,n=ie;try{if(Vt.transition=null,ie=16>t?16:t,Vn===null)var r=!1;else{if(t=Vn,Vn=null,Dl=0,(te&6)!==0)throw Error(A(331));var i=te;for(te|=4,M=t.current;M!==null;){var s=M,o=s.child;if((M.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:Ys(8,c,s)}var h=c.child;if(h!==null)h.return=c,M=h;else for(;M!==null;){c=M;var d=c.sibling,f=c.return;if(bw(c),c===u){M=null;break}if(d!==null){d.return=f,M=d;break}M=f}}}var m=s.alternate;if(m!==null){var k=m.child;if(k!==null){m.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(k!==null)}}M=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Ys(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,M=g;break e}M=s.return}}var p=t.current;for(M=p;M!==null;){o=M;var y=o.child;if((o.subtreeFlags&2064)!==0&&y!==null)y.return=o,M=y;else e:for(o=p;M!==null;){if(a=M,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:hu(9,a)}}catch(I){be(a,a.return,I)}if(a===o){M=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,M=b;break e}M=a.return}}if(te=i,fr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ru,t)}catch{}r=!0}return r}finally{ie=n,Vt.transition=e}}return!1}function Qm(t,e,n){e=tf(n,e),e=hw(t,e,1),Kn(t,e),e=ht(),t=fu(t,1),t!==null&&(Go(t,1,e),St(t,e))}function be(t,e,n){if(t.tag===3)Qm(t,t,n);else for(;e!==null;){if(e.tag===3){Qm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gn===null||!Gn.has(r))){t=tf(n,t),t=dw(e,t,1),Kn(e,t),t=ht(),e=fu(e,1),e!==null&&(Go(e,1,t),St(e,t));break}}e=e.return}}function DS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Ye&n)===n&&(Pe===4||Pe===3&&(Ye&130023424)===Ye&&500>Te()-sf?Mr(t,0):rf|=n),St(t,e)}function $w(t,e){e===0&&((t.mode&1)===0?e=1:(e=Sa,Sa<<=1,(Sa&130023424)===0&&(Sa=4194304)));var n=ht();t=fu(t,e),t!==null&&(Go(t,e,n),St(t,n))}function AS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$w(t,n)}function OS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),$w(t,n)}var Rw;Rw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)vt=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return vt=!1,xS(t,e,n);vt=(t.flags&131072)!==0}else vt=!1,pe&&(e.flags&1048576)!==0&&jv(e,Il,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=Ui(e,st.current);Li(e,n),i=Xd(null,e,r,t,i,n);var s=Jd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(s=!0,wl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zd(e),i.updater=uu,e.stateNode=i,i._reactInternals=e,bh(e,r,t,n),e=Ch(null,e,r,!0,s,n)):(e.tag=0,pe&&s&&qd(e),at(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RS(r),t=Kt(r,t),i){case 0:e=_h(null,e,r,t,n);break e;case 1:e=Lm(null,e,r,t,n);break e;case 11:e=Rm(null,e,r,t,n);break e;case 14:e=Pm(null,e,r,Kt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),_h(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Lm(t,e,r,i,n);case 3:e:{if(ww(e),t===null)throw Error(A(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Fv(t,e),bl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(A(423)),e=Mm(t,e,r,n,i);break e}else if(r!==i){i=Error(A(424)),e=Mm(t,e,r,n,i);break e}else for(yt=mn(e.stateNode.containerInfo.firstChild),_t=e,pe=!0,Ht=null,n=qv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),r===i){e=bn(t,e,n);break e}at(t,e,r,n)}e=e.child}return e;case 5:return Kv(e),t===null&&Ih(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,gh(r,i)?o=null:s!==null&&gh(r,s)&&(e.flags|=32),vw(t,e),at(t,e,o,n),e.child;case 6:return t===null&&Ih(e),null;case 13:return xw(t,e,n);case 4:return Hd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qi(e,null,r,n):at(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Rm(t,e,r,i,n);case 7:return at(t,e,e.pendingProps,n),e.child;case 8:return at(t,e,e.pendingProps.children,n),e.child;case 12:return at(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ue(xl,r._currentValue),r._currentValue=o,s!==null)if(Xt(s.value,o)){if(s.children===i.children&&!Et.current){e=bn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}at(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Li(e,n),i=jt(i),r=r(i),e.flags|=1,at(t,e,r,n),e.child;case 14:return r=e.type,i=Kt(r,e.pendingProps),i=Kt(r.type,i),Pm(t,e,r,i,n);case 15:return gw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,bt(r)?(t=!0,wl(e)):t=!1,Li(e,n),Bv(e,r,i),bh(e,r,i,n),Ch(null,e,r,!0,t,n);case 19:return Ew(t,e,n);case 22:return yw(t,e,n)}throw Error(A(156,e.tag))};function Pw(t,e){return lv(t,e)}function $S(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new $S(t,e,n,r)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RS(t){if(typeof t=="function")return uf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cd)return 11;if(t===Nd)return 14}return 2}function er(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")uf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wi:return Fr(n.children,i,s,e);case _d:o=8,i|=8;break;case Wc:return t=Mt(12,n,e,i|2),t.elementType=Wc,t.lanes=s,t;case Qc:return t=Mt(13,n,e,i),t.elementType=Qc,t.lanes=s,t;case Yc:return t=Mt(19,n,e,i),t.elementType=Yc,t.lanes=s,t;case Ky:return Ol(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zy:o=10;break e;case qy:o=9;break e;case Cd:o=11;break e;case Nd:o=14;break e;case On:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Mt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function Ol(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=Ky,t.lanes=n,t.stateNode={},t}function Tc(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function _c(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cf(t,e,n,r,i,s,o,a,l){return t=new PS(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(s),t}function LS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Lw(t){if(!t)return Zn;t=t._reactInternals;e:{if(si(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(bt(n))return Lv(t,n,e)}return e}function Mw(t,e,n,r,i,s,o,a,l){return t=cf(n,r,!0,t,i,s,o,a,l),t.context=Lw(null),n=t.current,r=ht(),i=Hn(n),s=wn(r,i),s.callback=e!=null?e:null,Kn(n,s),t.current.lanes=i,Go(t,i,r),St(t,r),t}function pu(t,e,n,r){var i=e.current,s=ht(),o=Hn(i);return n=Lw(n),e.context===null?e.context=n:e.pendingContext=n,e=wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Kn(i,e),t=Bt(i,o,s),t!==null&&Xa(t,i,o),o}function $l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ym(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hf(t,e){Ym(t,e),(t=t.alternate)&&Ym(t,e)}function MS(){return null}var Fw=typeof reportError=="function"?reportError:function(t){console.error(t)};function df(t){this._internalRoot=t}mu.prototype.render=df.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));pu(t,e,null,null)};mu.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qr(function(){pu(null,t,null,null)}),e[En]=null}};function mu(t){this._internalRoot=t}mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=mv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rn.length&&e!==0&&e<Rn[n].priority;n++);Rn.splice(n,0,t),n===0&&yv(t)}};function ff(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xm(){}function FS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$l(o);s.call(u)}}var o=Mw(e,r,t,0,null,!1,!1,"",Xm);return t._reactRootContainer=o,t[En]=o.current,mo(t.nodeType===8?t.parentNode:t),qr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$l(l);a.call(u)}}var l=cf(t,0,!1,null,null,!1,!1,"",Xm);return t._reactRootContainer=l,t[En]=l.current,mo(t.nodeType===8?t.parentNode:t),qr(function(){pu(e,l,n,r)}),l}function yu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$l(o);a.call(l)}}pu(e,o,t,i)}else o=FS(n,e,t,i,r);return $l(o)}fv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fs(e.pendingLanes);n!==0&&(Od(e,n|1),St(e,Te()),(te&6)===0&&(Gi=Te()+500,fr()))}break;case 13:var r=ht();qr(function(){return Bt(t,1,r)}),hf(t,1)}};$d=function(t){if(t.tag===13){var e=ht();Bt(t,134217728,e),hf(t,134217728)}};pv=function(t){if(t.tag===13){var e=ht(),n=Hn(t);Bt(t,n,e),hf(t,n)}};mv=function(){return ie};gv=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};oh=function(t,e,n){switch(e){case"input":if(Zc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=au(r);if(!i)throw Error(A(90));Hy(r),Zc(r,i)}}}break;case"textarea":Qy(t,n);break;case"select":e=n.value,e!=null&&Oi(t,!!n.multiple,e,!1)}};nv=of;rv=qr;var VS={usingClientEntryPoint:!1,Events:[Wo,Si,au,ev,tv,of]},Cs={findFiberByHostInstance:Ar,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},BS={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ov(t),t===null?null:t.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||MS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{ru=Pa.inject(BS),on=Pa}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VS;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(e))throw Error(A(200));return LS(t,e,null,n)};Ot.createRoot=function(t,e){if(!ff(t))throw Error(A(299));var n=!1,r="",i=Fw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cf(t,1,!1,null,null,n,!1,r,i),t[En]=e.current,mo(t.nodeType===8?t.parentNode:t),new df(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=ov(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return qr(t)};Ot.hydrate=function(t,e,n){if(!gu(e))throw Error(A(200));return yu(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!ff(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Fw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Mw(e,null,t,1,n!=null?n:null,i,!1,s,o),t[En]=e.current,mo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mu(e)};Ot.render=function(t,e,n){if(!gu(e))throw Error(A(200));return yu(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!gu(t))throw Error(A(40));return t._reactRootContainer?(qr(function(){yu(null,null,t,!1,function(){t._reactRootContainer=null,t[En]=null})}),!0):!1};Ot.unstable_batchedUpdates=of;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gu(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return yu(t,e,n,!1,r)};Ot.version="18.1.0-next-22edb9f77-20220426";function Vw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vw)}catch(t){console.error(t)}}Vw(),Fy.exports=Ot;var Jm=Fy.exports;Gc.createRoot=Jm.createRoot,Gc.hydrateRoot=Jm.hydrateRoot;var Fh={exports:{}},vu={exports:{}},jS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",US=jS,zS=US;function Bw(){}function jw(){}jw.resetWarningCache=Bw;var qS=function(){function t(r,i,s,o,a,l){if(l!==zS){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jw,resetWarningCache:Bw};return n.PropTypes=n,n};vu.exports=qS();var Vh={exports:{}},Bh={exports:{}},pf={};(function(t){function e(p){try{return k.insertRule(p,k.cssRules.length)}catch{console.warn("react-reveal - animation failed")}}function n(p,y,b,I,v){var w=Math.log(I),E=Math.log(v),O=(E-w)/(b-y);return Math.exp(w+O*(p-y))}function r(p){if(!k)return"";var y="@keyframes "+(C+f)+"{"+p+"}",b=m[p];return b?""+C+b:(k.insertRule(y,k.cssRules.length),m[p]=f,""+C+f++)}function i(){h||(t.globalHide=h=!0,window.removeEventListener("scroll",i,!0),e("."+o+" { opacity: 0; }"),window.removeEventListener("orientationchange",i,!0),window.document.removeEventListener("visibilitychange",i))}function s(p){var y=p.ssrFadeout;t.fadeOutEnabled=y}Object.defineProperty(t,"__esModule",{value:!0}),t.insertRule=e,t.cascade=n,t.animation=r,t.hideAll=i,t.default=s;var o=t.namespace="react-reveal";t.defaults={duration:1e3,delay:0,count:1};var a=t.ssr=!0,l=t.observerMode=!1,u=t.raf=function(p){return window.setTimeout(p,66)},c=t.disableSsr=function(){return t.ssr=a=!1};t.fadeOutEnabled=!1,t.ssrFadeout=function(){var p=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return t.fadeOutEnabled=p};var h=t.globalHide=!1;t.ie10=!1;var d=t.collapseend=void 0,f=1,m={},k=!1,C=o+"-"+Math.floor(1e15*Math.random())+"-";if(typeof window!="undefined"&&window.name!=="nodejs"&&window.document&&typeof navigator!="undefined"){t.observerMode=l="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&/\{\s*\[native code\]\s*\}/.test(""+IntersectionObserver),t.raf=u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||u,t.ssr=a=window.document.querySelectorAll("div[data-reactroot]").length>0,navigator.appVersion.indexOf("MSIE 10")!==-1&&(t.ie10=!0),a&&"performance"in window&&"timing"in window.performance&&"domContentLoadedEventEnd"in window.performance.timing&&window.performance.timing.domLoading&&Date.now()-window.performance.timing.domLoading<300&&(t.ssr=a=!1),a&&window.setTimeout(c,1500),l||(t.collapseend=d=document.createEvent("Event"),d.initEvent("collapseend",!0,!0));var g=document.createElement("style");document.head.appendChild(g),g.sheet&&g.sheet.cssRules&&g.sheet.insertRule&&(k=g.sheet,window.addEventListener("scroll",i,!0),window.addEventListener("orientationchange",i,!0),window.document.addEventListener("visibilitychange",i))}})(pf);(function(t,e){function n(b){return b&&b.__esModule?b:{default:b}}function r(b,I,v){return I in b?Object.defineProperty(b,I,{value:v,enumerable:!0,configurable:!0,writable:!0}):b[I]=v,b}function i(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")}function s(b,I){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||typeof I!="object"&&typeof I!="function"?b:I}function o(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);b.prototype=Object.create(I&&I.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(b,I):b.__proto__=I)}Object.defineProperty(e,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l=function(){function b(I,v){var w=[],E=!0,O=!1,_=void 0;try{for(var F,B=I[Symbol.iterator]();!(E=(F=B.next()).done)&&(w.push(F.value),!v||w.length!==v);E=!0);}catch(Y){O=!0,_=Y}finally{try{!E&&B.return&&B.return()}finally{if(O)throw _}}return w}return function(I,v){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return b(I,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(b){for(var I=1;I<arguments.length;I++){var v=arguments[I];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(b[w]=v[w])}return b},c=function(){function b(I,v){for(var w=0;w<v.length;w++){var E=v[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}return function(I,v,w){return v&&b(I.prototype,v),w&&b(I,w),I}}(),h=he.exports,d=n(h),f=vu.exports,m=pf,k=(0,f.shape)({make:f.func,duration:f.number.isRequired,delay:f.number.isRequired,forever:f.bool,count:f.number.isRequired,style:f.object.isRequired,reverse:f.bool}),C={collapse:f.bool,collapseEl:f.element,cascade:f.bool,wait:f.number,force:f.bool,disabled:f.bool,appear:f.bool,enter:f.bool,exit:f.bool,fraction:f.number,refProp:f.string,innerRef:f.func,onReveal:f.func,unmountOnExit:f.bool,mountOnEnter:f.bool,inEffect:k.isRequired,outEffect:(0,f.oneOfType)([k,(0,f.oneOf)([!1])]).isRequired,ssrReveal:f.bool,collapseOnly:f.bool,ssrFadeout:f.bool},g={fraction:.2,refProp:"ref"},p={transitionGroup:f.object},y=function(b){function I(v,w){i(this,I);var E=s(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,v,w));return E.isOn=v.when===void 0||!!v.when,E.state={collapse:v.collapse?I.getInitialCollapseStyle(v):void 0,style:{opacity:E.isOn&&!v.ssrReveal||!v.outEffect?void 0:0}},E.savedChild=!1,E.isShown=!1,m.observerMode?E.handleObserve=E.handleObserve.bind(E):(E.revealHandler=E.makeHandler(E.reveal),E.resizeHandler=E.makeHandler(E.resize)),E.saveRef=E.saveRef.bind(E),E}return o(I,b),c(I,[{key:"saveRef",value:function(v){this.childRef&&this.childRef(v),this.props.innerRef&&this.props.innerRef(v),this.el!==v&&(this.el=v&&"offsetHeight"in v?v:void 0,this.observe(this.props,!0))}},{key:"invisible",value:function(){this&&this.el&&(this.savedChild=!1,this.isShown||(this.setState({hasExited:!0,collapse:this.props.collapse?u({},this.state.collapse,{visibility:"hidden"}):null,style:{opacity:0}}),!m.observerMode&&this.props.collapse&&window.document.dispatchEvent(m.collapseend)))}},{key:"animationEnd",value:function(v,w,E){var O=this,_=E.forever,F=E.count,B=E.delay,Y=E.duration;if(!_){var X=function(){O&&O.el&&(O.animationEndTimeout=void 0,v.call(O))};this.animationEndTimeout=window.setTimeout(X,B+(Y+(w?Y:0)*F))}}},{key:"getDimensionValue",value:function(){return this.el.offsetHeight+parseInt(window.getComputedStyle(this.el,null).getPropertyValue("margin-top"),10)+parseInt(window.getComputedStyle(this.el,null).getPropertyValue("margin-bottom"),10)}},{key:"collapse",value:function(v,w,E){var O=E.duration+(w.cascade?E.duration:0),_=this.isOn?this.getDimensionValue():0,F=void 0,B=void 0;if(w.collapseOnly)F=E.duration/3,B=E.delay;else{var Y=O>>2,X=Y>>1;F=Y,B=E.delay+(this.isOn?0:O-Y-X),v.style.animationDuration=O-Y+(this.isOn?X:-X)+"ms",v.style.animationDelay=E.delay+(this.isOn?Y-X:0)+"ms"}return v.collapse={height:_,transition:"height "+F+"ms ease "+B+"ms",overflow:w.collapseOnly?"hidden":void 0},v}},{key:"animate",value:function(v){if(this&&this.el&&(this.unlisten(),this.isShown!==this.isOn)){this.isShown=this.isOn;var w=!this.isOn&&v.outEffect,E=v[w?"outEffect":"inEffect"],O="style"in E&&E.style.animationName||void 0,_=void 0;v.collapseOnly?_={hasAppeared:!0,hasExited:!1,style:{opacity:1}}:((v.outEffect||this.isOn)&&E.make&&(O=E.make),_={hasAppeared:!0,hasExited:!1,collapse:void 0,style:u({},E.style,{animationDuration:E.duration+"ms",animationDelay:E.delay+"ms",animationIterationCount:E.forever?"infinite":E.count,opacity:1,animationName:O}),className:E.className}),this.setState(v.collapse?this.collapse(_,v,E):_),w?(this.savedChild=d.default.cloneElement(this.getChild()),this.animationEnd(this.invisible,v.cascade,E)):this.savedChild=!1,this.onReveal(v)}}},{key:"onReveal",value:function(v){v.onReveal&&this.isOn&&(this.onRevealTimeout&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)),v.wait?this.onRevealTimeout=window.setTimeout(v.onReveal,v.wait):v.onReveal())}},{key:"componentWillUnmount",value:function(){this.unlisten(),m.ssr&&(0,m.disableSsr)()}},{key:"handleObserve",value:function(v,w){l(v,1)[0].intersectionRatio>0&&(w.disconnect(),this.observer=null,this.reveal(this.props,!0))}},{key:"observe",value:function(v){var w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.el&&m.observerMode){if(this.observer){if(!w)return;this.observer.disconnect()}else if(w)return;this.observer=new IntersectionObserver(this.handleObserve,{threshold:v.fraction}),this.observer.observe(this.el)}}},{key:"reveal",value:function(v){var w=this,E=arguments.length>1&&arguments[1]!==void 0&&arguments[1];m.globalHide||(0,m.hideAll)(),this&&this.el&&(v||(v=this.props),m.ssr&&(0,m.disableSsr)(),this.isOn&&this.isShown&&v.spy!==void 0?(this.isShown=!1,this.setState({style:{}}),window.setTimeout(function(){return w.reveal(v)},200)):E||this.inViewport(v)||v.force?this.animate(v):m.observerMode?this.observe(v):this.listen())}},{key:"componentDidMount",value:function(){var v=this;if(this.el&&!this.props.disabled){this.props.collapseOnly||("make"in this.props.inEffect&&this.props.inEffect.make(!1,this.props),this.props.when!==void 0&&this.props.outEffect&&"make"in this.props.outEffect&&this.props.outEffect.make(!0,this.props));var w=this.context.transitionGroup,E=w&&!w.isMounting?!("enter"in this.props&&this.props.enter===!1):this.props.appear;return this.isOn&&((this.props.when!==void 0||this.props.spy!==void 0)&&!E||m.ssr&&!m.fadeOutEnabled&&!this.props.ssrFadeout&&this.props.outEffect&&!this.props.ssrReveal&&I.getTop(this.el)<window.pageYOffset+window.innerHeight)?(this.isShown=!0,this.setState({hasAppeared:!0,collapse:this.props.collapse?{height:this.getDimensionValue()}:this.state.collapse,style:{opacity:1}}),void this.onReveal(this.props)):m.ssr&&(m.fadeOutEnabled||this.props.ssrFadeout)&&this.props.outEffect&&I.getTop(this.el)<window.pageYOffset+window.innerHeight?(this.setState({style:{opacity:0,transition:"opacity 1000ms 1000ms"}}),void window.setTimeout(function(){return v.reveal(v.props,!0)},2e3)):void(this.isOn&&(this.props.force?this.animate(this.props):this.reveal(this.props)))}}},{key:"cascade",value:function(v){var w=this,E=void 0;E=typeof v=="string"?v.split("").map(function(oe,kt){return d.default.createElement("span",{key:kt,style:{display:"inline-block",whiteSpace:"pre"}},oe)}):d.default.Children.toArray(v);var O=this.props[this.isOn||!this.props.outEffect?"inEffect":"outEffect"],_=O.duration,F=O.reverse,B=E.length,Y=2*_;this.props.collapse&&(Y=parseInt(this.state.style.animationDuration,10),_=Y/2);var X=F?B:0;return E=E.map(function(oe){return(oe===void 0?"undefined":a(oe))==="object"&&oe?d.default.cloneElement(oe,{style:u({},oe.props.style,w.state.style,{animationDuration:Math.round((0,m.cascade)(F?X--:X++,0,B,_,Y))+"ms"})}):oe})}},{key:"componentWillReceiveProps",value:function(v){if(v.when!==void 0&&(this.isOn=!!v.when),v.fraction!==this.props.fraction&&this.observe(v,!0),!this.isOn&&v.onExited&&"exit"in v&&v.exit===!1)return void v.onExited();v.disabled||(v.collapse&&!this.props.collapse&&(this.setState({style:{},collapse:I.getInitialCollapseStyle(v)}),this.isShown=!1),v.when===this.props.when&&v.spy===this.props.spy||this.reveal(v),this.onRevealTimeout&&!this.isOn&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)))}},{key:"getChild",value:function(){if(this.savedChild&&!this.props.disabled)return this.savedChild;if(a(this.props.children)==="object"){var v=d.default.Children.only(this.props.children);return"type"in v&&typeof v.type=="string"||this.props.refProp!=="ref"?v:d.default.createElement("div",null,v)}return d.default.createElement("div",null,this.props.children)}},{key:"render",value:function(){var v=void 0;v=this.state.hasAppeared?!this.props.unmountOnExit||!this.state.hasExited||this.isOn:!this.props.mountOnEnter||this.isOn;var w=this.getChild();typeof w.ref=="function"&&(this.childRef=w.ref);var E=!1,O=w.props,_=O.style,F=O.className,B=O.children,Y=this.props.disabled?F:(this.props.outEffect?m.namespace:"")+(this.state.className?" "+this.state.className:"")+(F?" "+F:"")||void 0,X=void 0;typeof this.state.style.animationName=="function"&&(this.state.style.animationName=this.state.style.animationName(!this.isOn,this.props)),this.props.cascade&&!this.props.disabled&&B&&this.state.style.animationName?(E=this.cascade(B),X=u({},_,{opacity:1})):X=this.props.disabled?_:u({},_,this.state.style);var oe=u({},this.props.props,r({className:Y,style:X},this.props.refProp,this.saveRef)),kt=d.default.cloneElement(w,oe,v?E||B:void 0);return this.props.collapse!==void 0?this.props.collapseEl?d.default.cloneElement(this.props.collapseEl,{style:u({},this.props.collapseEl.style,this.props.disabled?void 0:this.state.collapse),children:kt}):d.default.createElement("div",{style:this.props.disabled?void 0:this.state.collapse,children:kt}):kt}},{key:"makeHandler",value:function(v){var w=this,E=function(){v.call(w,w.props),w.ticking=!1};return function(){w.ticking||((0,m.raf)(E),w.ticking=!0)}}},{key:"inViewport",value:function(v){if(!this.el||window.document.hidden)return!1;var w=this.el.offsetHeight,E=window.pageYOffset-I.getTop(this.el),O=Math.min(w,window.innerHeight)*(m.globalHide?v.fraction:0);return E>O-window.innerHeight&&E<w-O}},{key:"resize",value:function(v){this&&this.el&&this.isOn&&this.inViewport(v)&&(this.unlisten(),this.isShown=this.isOn,this.setState({hasExited:!this.isOn,hasAppeared:!0,collapse:void 0,style:{opacity:this.isOn||!v.outEffect?1:0}}),this.onReveal(v))}},{key:"listen",value:function(){m.observerMode||this.isListener||(this.isListener=!0,window.addEventListener("scroll",this.revealHandler,{passive:!0}),window.addEventListener("orientationchange",this.revealHandler,{passive:!0}),window.document.addEventListener("visibilitychange",this.revealHandler,{passive:!0}),window.document.addEventListener("collapseend",this.revealHandler,{passive:!0}),window.addEventListener("resize",this.resizeHandler,{passive:!0}))}},{key:"unlisten",value:function(){!m.observerMode&&this.isListener&&(window.removeEventListener("scroll",this.revealHandler,{passive:!0}),window.removeEventListener("orientationchange",this.revealHandler,{passive:!0}),window.document.removeEventListener("visibilitychange",this.revealHandler,{passive:!0}),window.document.removeEventListener("collapseend",this.revealHandler,{passive:!0}),window.removeEventListener("resize",this.resizeHandler,{passive:!0}),this.isListener=!1),this.onRevealTimeout&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)),this.animationEndTimeout&&(this.animationEndTimeout=window.clearTimeout(this.animationEndTimeout))}}],[{key:"getInitialCollapseStyle",value:function(v){return{height:0,visibility:v.when?void 0:"hidden"}}},{key:"getTop",value:function(v){for(;v.offsetTop===void 0;)v=v.parentNode;for(var w=v.offsetTop;v.offsetParent;w+=v.offsetTop)v=v.offsetParent;return w}}]),I}(d.default.Component);y.propTypes=C,y.defaultProps=g,y.contextTypes=p,y.displayName="RevealBase",e.default=y,t.exports=e.default})(Bh,Bh.exports);(function(t,e){function n(u){return u&&u.__esModule?u:{default:u}}function r(u,c,h,d){return"in"in u&&(u.when=u.in),o.default.Children.count(d)<2?o.default.createElement(l.default,i({},u,{inEffect:c,outEffect:h,children:d})):(d=o.default.Children.map(d,function(f){return o.default.createElement(l.default,i({},u,{inEffect:c,outEffect:h,children:f}))}),"Fragment"in o.default?o.default.createElement(o.default.Fragment,null,d):o.default.createElement("span",null,d))}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(u[d]=h[d])}return u};e.default=r;var s=he.exports,o=n(s),a=Bh.exports,l=n(a);t.exports=e.default})(Vh,Vh.exports);(function(t,e){function n(d){return d&&d.__esModule?d:{default:d}}function r(d,f){var m={};for(var k in d)f.indexOf(k)>=0||Object.prototype.hasOwnProperty.call(d,k)&&(m[k]=d[k]);return m}function i(d,f){var m=f.left,k=f.right,C=f.up,g=f.down,p=f.top,y=f.bottom,b=f.mirror,I=f.opposite,v=(m?1:0)|(k?2:0)|(p||g?4:0)|(y||C?8:0)|(b?16:0)|(I?32:0)|(d?64:0);if(h.hasOwnProperty(v))return h[v];if(!b!=!(d&&I)){var w=[k,m,y,p,g,C];m=w[0],k=w[1],p=w[2],y=w[3],C=w[4],g=w[5]}var E=m||k,O=p||y||C||g,_=E||O,F=void 0,B=void 0,Y=void 0,X=void 0,oe=void 0;return _?d?(B=E?(m?"":"-")+"42px":"0",Y=O?(g||p?"-":"")+"60px":"0",X=E?(k?"":"-")+"2000px":"0",oe=O?(C||y?"":"-")+"2000px":"0",F=`40% {
          opacity: 1;
          transform: scale3d(.475, .475, .475) translate3d(`+B+", "+Y+`, 0);
        }
        to {
          opacity: 0;
          transform: scale(.1) translate3d(`+X+", "+oe+`, 0);
          transform-origin: `+(O?"center bottom":(m?"left":"right")+" center")+`;
        }`):(B=E?(m?"-":"")+"1000px":"0",Y=O?(g||p?"-":"")+"1000px":"0",X=E?(k?"-":"")+"10px":"0",oe=O?(C||y?"-":"")+"60px":"0",F=`from {
          opacity: 0;
          transform: scale3d(.1, .1, .1) translate3d(`+B+", "+Y+`, 0);
          animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);
        }
        60% {
          opacity: 1;
          transform: scale3d(.475, .475, .475) translate3d(`+X+", "+oe+`, 0);
          animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);
        }`):F=(d?"to":"from")+" {opacity: 0; transform: scale3d(.1, .1, .1);} "+(d?"from":"to")+" { opacity: 1; transform: none;}",h[v]=(0,u.animation)(F),h[v]}function s(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.defaults,f=d.children,m=(d.out,d.forever),k=d.timeout,C=d.duration,g=C===void 0?u.defaults.duration:C,p=d.delay,y=p===void 0?u.defaults.delay:p,b=d.count,I=b===void 0?u.defaults.count:b,v=r(d,["children","out","forever","timeout","duration","delay","count"]),w={make:i,duration:k===void 0?g:k,delay:y,forever:m,count:I,style:{animationFillMode:"both"},reverse:v.left};return(0,l.default)(v,w,w,f)}Object.defineProperty(e,"__esModule",{value:!0});var o=vu.exports,a=Vh.exports,l=n(a),u=pf,c={out:o.bool,left:o.bool,right:o.bool,top:o.bool,bottom:o.bool,mirror:o.bool,opposite:o.bool,duration:o.number,timeout:o.number,delay:o.number,count:o.number,forever:o.bool},h={};s.propTypes=c,e.default=s,t.exports=e.default})(Fh,Fh.exports);var La=Dy(Fh.exports),Uw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zm=jn.createContext&&jn.createContext(Uw),Wn=globalThis&&globalThis.__assign||function(){return Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wn.apply(this,arguments)},KS=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function zw(t){return t&&t.map(function(e,n){return jn.createElement(e.tag,Wn({key:n},e.attr),zw(e.child))})}function GS(t){return function(e){return jn.createElement(HS,Wn({attr:Wn({},t.attr)},e),zw(t.child))}}function HS(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=KS(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),jn.createElement("svg",Wn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Wn(Wn({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&jn.createElement("title",null,s),t.children)};return Zm!==void 0?jn.createElement(Zm.Consumer,null,function(n){return e(n)}):e(Uw)}function WS(t){return GS({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 4h18v2H3V4zm6 7h12v2H9v-2zm-6 7h18v2H3v-2z"}}]}]})(t)}var mf={exports:{}},wu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=he.exports,YS=Symbol.for("react.element"),XS=Symbol.for("react.fragment"),JS=Object.prototype.hasOwnProperty,ZS=QS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eI={key:!0,ref:!0,__self:!0,__source:!0};function qw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JS.call(e,r)&&!eI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YS,type:t,key:s,ref:o,props:i,_owner:ZS.current}}wu.Fragment=XS;wu.jsx=qw;wu.jsxs=qw;mf.exports=wu;const x=mf.exports.jsx,$=mf.exports.jsxs,tI=()=>{const[t,e]=he.exports.useState(!1);return $("nav",{className:"navigation ",children:[$("a",{href:"/",className:"brand-name",children:["{","C","}"]}),x("button",{className:"hamburger",onClick:()=>{e(!t)},children:x(WS,{})}),x("div",{className:t?"navigation-menu expanded ":"navigation-menu",children:$("ul",{children:[x("li",{children:$("a",{href:"#about",onClick:()=>{e(!1)},children:[" ",x("span",{className:"nav-number",children:"00."}),"About"]})}),x("li",{children:$("a",{href:"#experience",onClick:()=>{e(!1)},children:[" ",x("span",{className:"nav-number",children:"01."}),"Experience"]})}),x("li",{children:$("a",{href:"#project",onClick:()=>{e(!1)},children:[" ",x("span",{className:"nav-number",children:"02."}),"Projects"]})}),x("li",{children:$("a",{href:"#contact",onClick:()=>{e(!1)},children:[" ",x("span",{className:"nav-number",children:"03."}),"Contact"]})}),$("button",{className:"mobile-resume-btn",onClick:()=>{e(!1)},children:[" ",x("a",{href:"https://firebasestorage.googleapis.com/v0/b/contactme-2970e.appspot.com/o/Blockchain.pdf?alt=media&token=8876339f-3cf5-4539-97f6-52670a289abb",target:"_blank",children:"Resume"})]})]})}),x("button",{className:"desktop-resume-btn",children:x("a",{href:"https://firebasestorage.googleapis.com/v0/b/contactme-2970e.appspot.com/o/Blockchain.pdf?alt=media&token=8876339f-3cf5-4539-97f6-52670a289abb",target:"_blank",children:"Resume"})})]})};var Kw="/assets/github.c99613e0.svg",Gw="/assets/in.b8b5e19e.svg",Hw="/assets/twitter.78a85560.svg",nI="/assets/Vector.46ec93bb.svg",rI="/assets/hash.0f80d6dd.svg";const iI=({about:t,intro:e,qoute:n})=>$("div",{className:"relative flex flex-col items-start justify-start max-w-[600px] w-full md:h-[550px] h-[700px]",children:[$("div",{className:"flex items-center space-x-2 px-4 py-3 bg-[#131C2E] rounded-t-lg w-full",children:[x("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),x("div",{className:"w-3 h-3 bg-yellow-300 rounded-full"}),x("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),$("div",{className:"glass-pane relative rounded-b-lg w-full flex-1 p-6 md:p-8 overflow-hidden shadow-lg",children:[x("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0a192f]/40 via-[#17233b]/40 to-[#28415E]/50 pointer-events-none backdrop-blur-md"}),e.trim()===""?x("div",{className:"typing-demo text-2xl text-white relative",children:"$:"}):$("div",{className:"relative  text-white",children:[$("h1",{className:"text-3xl md:text-4xl font-bold leading-snug",children:["Hello, I'm ",x("span",{className:"text-primary",children:"Umar"})]}),x("h2",{className:"text-lg md:text-xl mt-2 text-white/80",children:"Web3 Engineer & Coffee-Fueled Code Wizard"}),x("div",{className:"mt-6 bg-[#131C2E] bg-opacity-70 px-4 py-3 rounded-md text-sm leading-relaxed font-mono",children:x("pre",{className:"text-silver whitespace-pre-wrap",children:`const developer = {
  name: "Umar",
  role: "Web3 Engineer",
  specialty: "Decentralized Applications & Blockchain Integration",
  motto: "Building the future, one block at a time"
};`})}),x("p",{className:"mt-6 text-sm md:text-base text-silver leading-relaxed",children:e}),x("div",{className:" flex justify-end mt-10",children:x("div",{className:"flex items-center justify-end",children:x("a",{href:"#about",children:$("div",{className:"bg-primary text-black px-5 py-2 rounded-md text-sm font-semibold hover:bg-[#13FFC4] transition-colors duration-200",children:[">"," Know me_"]})})})})]})]})]}),sI=({email:t,about:e,intro:n,qoute:r,twitter:i,github:s,linkdin:o})=>{const a=[{img:Kw,to:s},{img:Hw,to:i},{img:Gw,to:o}];return $("div",{className:"text-white grid md:grid-cols-1 place-items-center relative",children:[$("div",{className:"flex",children:[x(iI,{intro:n,about:e,qoute:r}),x("div",{className:"md:w-[450px] hidden md:block"})]}),x("div",{className:"hidden md:block fixed bottom-0 top-24 right-0",children:x("img",{src:nI,alt:"decorative vector"})}),x("div",{className:"hidden md:block fixed top-24 right-8",children:x("a",{href:`mailto:${t}`,className:"rotate-180 font-bold",style:{writingMode:"vertical-lr"},children:t})}),x("div",{className:"fixed w-full bottom-1 left-0 hidden md:block",children:x("img",{src:rI,width:"130px",height:"300px",alt:"decorative hash"})}),x("div",{className:"fixed w-full bottom-1 left-10 hidden md:block",children:a.map((l,u)=>x("a",{href:l.to,target:"_blank",rel:"noopener noreferrer",children:x("div",{className:"rounded-3xl bg-[#64FFDA] w-6 my-5 transition-transform hover:-translate-y-1 hover:scale-110",children:x("img",{src:l.img,className:"inline-block h-5 w-5 rounded-full ring-8 ring-[#64FFDA]",alt:"social icon"})})},u))})]})};var Cc="/assets/urg.d87fe91e.jpg",oI="/assets/githubW.5e6a68ac.svg",aI="/assets/linkdin.d66ecab4.svg",lI="/assets/twitterW.febb3b97.svg",jh={exports:{}};(function(t,e){(function(n,r){r(e,he.exports,vu.exports)})(void 0,function(n,r,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=a(r),o=a(i);function a(w){return w&&w.__esModule?w:{default:w}}function l(w){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(O){return typeof O}:l=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},l(w)}function u(w,E){if(w==null)return{};var O=c(w,E),_,F;if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(w);for(F=0;F<B.length;F++)_=B[F],!(E.indexOf(_)>=0)&&(!Object.prototype.propertyIsEnumerable.call(w,_)||(O[_]=w[_]))}return O}function c(w,E){if(w==null)return{};var O={},_=Object.keys(w),F,B;for(B=0;B<_.length;B++)F=_[B],!(E.indexOf(F)>=0)&&(O[F]=w[F]);return O}function h(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function d(w,E){for(var O=0;O<E.length;O++){var _=E[O];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}function f(w,E,O){return E&&d(w.prototype,E),O&&d(w,O),w}function m(w,E){return E&&(l(E)==="object"||typeof E=="function")?E:C(w)}function k(w){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},k(w)}function C(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function g(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&p(w,E)}function p(w,E){return p=Object.setPrototypeOf||function(_,F){return _.__proto__=F,_},p(w,E)}function y(w,E,O){return E in w?Object.defineProperty(w,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):w[E]=O,w}var b=1e-4,I=function(E,O){return Math.abs(E-O)<b},v=function(w){g(E,w);function E(){var O,_;h(this,E);for(var F=arguments.length,B=new Array(F),Y=0;Y<F;Y++)B[Y]=arguments[Y];return _=m(this,(O=k(E)).call.apply(O,[this].concat(B))),y(C(_),"onResize",function(){_.rafId&&window.cancelAnimationFrame(_.rafId),_.rafId=window.requestAnimationFrame(_.update.bind(C(_)))}),y(C(_),"onToggled",function(X){typeof _.props.onToggled=="function"&&setTimeout(function(){return _.props.onToggled(X)},0)}),y(C(_),"onTruncated",function(){typeof _.props.onTruncated=="function"&&setTimeout(function(){return _.props.onTruncated()},0)}),y(C(_),"onCalculated",function(){typeof _.props.onCalculated=="function"&&setTimeout(function(){return _.props.onCalculated()},0)}),y(C(_),"update",function(){var X=window.getComputedStyle(_.scope),oe=[X["font-weight"],X["font-style"],X["font-size"],X["font-family"],X["letter-spacing"]].join(" ");_.canvas.font=oe,_.forceUpdate()}),_}return f(E,[{key:"componentDidMount",value:function(){var _=document.createElement("canvas"),F=document.createDocumentFragment(),B=window.getComputedStyle(this.scope),Y=[B["font-weight"],B["font-style"],B["font-size"],B["font-family"]].join(" ");F.appendChild(_),this.canvas=_.getContext("2d"),this.canvas.font=Y,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function(_){return this.canvas.measureText(_).width}},{key:"getRenderText",value:function(){var _=this.props;_.containerClassName,_.element;var F=_.line;_.onCalculated,_.onTruncated,_.onToggled;var B=_.text,Y=_.textElement,X=_.textTruncateChild,oe=_.truncateText,kt=_.maxCalculateTimes,Jt=u(_,["containerClassName","element","line","onCalculated","onTruncated","onToggled","text","textElement","textTruncateChild","truncateText","maxCalculateTimes"]),L=this.scope.getBoundingClientRect().width;if(L===0)return null;var q=this.measureWidth(B);if(L>q||I(L,q))return this.onToggled(!1),(0,r.createElement)(Y,Jt,B);var G="";if(X&&typeof X.type=="string"){var ae=X.type;(ae.indexOf("span")>=0||ae.indexOf("a")>=0)&&(G=X.props.children)}for(var Q=1,zt=B.length,Ee="",dn=0,$e=0,Rt=F,ws=0,ya=!1,Lp=!1,ec=0,tc=-1,nc="",vE=0;Rt-- >0;){for(nc=Rt?"":oe+(G?" "+G:"");Q<=zt;)if(Ee=B.substr($e,Q),ws=this.measureWidth(Ee+nc),ws<L)dn=B.indexOf(" ",Q+1),dn===-1?(Q+=1,ya=!1):(ya=!0,Q=dn);else{do{if(vE++>=kt)break;Ee=B.substr($e,Q),Rt||Q--,Ee[Ee.length-1]===" "&&(Ee=B.substr($e,Q-1)),ya?(tc=Ee.lastIndexOf(" "),tc>-1?(Q=tc,Rt&&Q++,Ee=B.substr($e,Q)):(Q--,Ee=B.substr($e,Q))):(Q--,Ee=B.substr($e,Q)),ws=this.measureWidth(Ee+nc)}while((ws>L||I(ws,L))&&Ee.length>0);$e+=Q;break}if(Q>=zt){$e=zt;break}ya&&!Lp&&B.substr(ec,Q).indexOf(" ")===-1&&(Lp=B.substr(ec,Q).indexOf(" ")===-1,Rt--),ec=Q+1}return $e===zt?(this.onToggled(!1),(0,r.createElement)(Y,Jt,B)):(this.onTruncated(),this.onToggled(!0),s.default.createElement("span",Jt,(0,r.createElement)(Y,Jt,B.substr(0,$e)+oe+" "),X))}},{key:"render",value:function(){var _=this,F=this.props,B=F.element,Y=F.text,X=F.style,oe=X===void 0?{}:X,kt=F.containerClassName,Jt=F.line;F.onCalculated,F.onTruncated,F.onToggled;var L=F.textElement;F.textTruncateChild,F.truncateText,F.maxCalculateTimes;var q=u(F,["element","text","style","containerClassName","line","onCalculated","onTruncated","onToggled","textElement","textTruncateChild","truncateText","maxCalculateTimes"]),G=oe.fontWeight,ae=oe.fontStyle,Q=oe.fontSize,zt=oe.fontFamily,Ee=this.scope&&Jt?this.getRenderText():(0,r.createElement)(L,q,Y),dn={ref:function(Rt){_.scope=Rt},className:kt,style:{overflow:"hidden",fontWeight:G,fontStyle:ae,fontSize:Q,fontFamily:zt}};return this.scope&&this.onCalculated(),(0,r.createElement)(B,dn,Ee)}}]),E}(r.Component);y(v,"propTypes",{containerClassName:o.default.string,element:o.default.string,line:o.default.oneOfType([o.default.number,o.default.bool]),onCalculated:o.default.func,onTruncated:o.default.func,onToggled:o.default.func,text:o.default.string,textElement:o.default.elementType,textTruncateChild:o.default.node,truncateText:o.default.string,maxCalculateTimes:o.default.number}),y(v,"defaultProps",{element:"div",line:1,text:"",textElement:"span",truncateText:"\u2026",maxCalculateTimes:10}),n.default=v,t.exports=n.default})})(jh,jh.exports);var uI=Dy(jh.exports);const cI=({fName:t,lName:e,role:n,bio:r,desc:i,githubLink:s,twitterLink:o,linkdinLink:a})=>{const[l,u]=he.exports.useState(!1);return $("div",{className:"bg-[#0F2538] rounded-xl px-4 text-white  py-2 custom_shadow w-72 ",children:[$("div",{className:"mb-5  font-semibold \xA0text-xl ",children:[t," ",x("br",{}),e]}),x(uI,{line:l?9999:3,element:"small",truncateText:"\u2026",text:i}),$("div",{className:"grid grid-cols-2 items-center mt-3",children:[x("div",{className:"text-sm",children:n}),x("div",{className:"flex ",children:[{img:oI,link:s},{img:lI,link:o},{img:aI,link:a}].map(h=>x("a",{className:"mx-2",target:"_blank",href:h.link,children:x("img",{src:h.img,width:"17px"})}))})]})]})};const hI=({about:t})=>{const e=[{fname:"Shams",lname:"Khalil",desc:"Software architect and developer from Nigeria, Loves programming anything programmable including\u2026",role:"C.T.O Lexington Technologies",github:"https://github.com/shamskhalil",twitter:"https://x.com/shamskhalil",linkedin:"https://www.linkedin.com/in/shamskhalil/"},{fname:"Mubarak",lname:"Sa'eed",desc:"Software architect and developer from Nigeria, Loves programming anything programmable including\u2026",role:"Software Engineer Moniepoint Inc.",github:"https://github.com/codeswot",twitter:"https://x.com/codeswot",linkedin:"https://www.linkedin.com/in/codeswot/"},{fname:"Abdulbasit",lname:"",desc:"Software architect and developer from Nigeria, Loves programming anything programmable including\u2026",role:"C.T.O Lexington Technologies",github:"https://github.com/codesahir",twitter:"https://github.com/AbdulbasitSaid",linkedin:"https://www.linkedin.com/in/codesahir"}];return $("div",{className:"grid grid-cols-1 place-items-center",children:[x("div",{className:"",children:x("div",{className:"bg sm:block md:hidden w-full mt-10 md:mt-0 ",children:x("img",{src:Cc,className:"hidden sm:block"})})}),$("div",{className:" flex  space-x-10   mt-3   ",children:[$("div",{className:"md:max-w-[590px] mt-10 md:mt-0",children:[x("div",{className:"mb-7 flex justify-center",children:x("img",{src:Cc,width:"300px",className:"hide_md w-full"})}),$("div",{children:[$("div",{className:"text-3xl font-semibold mb-4 text-white",children:[$("span",{className:"text-primary mr-2",children:[">"," 01."]}),"About"]}),x("div",{className:" text-lg font-medium text-white   ",children:t}),$("div",{className:"mt-8 text-white",children:[$("div",{className:"text-lg font-bold mb-2",children:[">"," ",x("span",{className:"text-primary",children:"I love_"})]}),x("div",{className:"w-96 flex justify-between text-white  text-sm",children:["React js","Next js","Vue js","Node js","Bitcoin","Solana"].map(n=>x("div",{children:$("div",{children:[x("span",{className:"text-primary",children:"."}),n]})}))})]})]}),x("div",{className:"md:flex md:flex-row md:space-x-10 mb-4",children:$("div",{className:"text-xl my-10 text-white ",children:[">"," ",x("span",{className:"text-primary",children:"Mentors_"})]})})]}),x("div",{className:"hidden md:block",children:x("img",{src:Cc,width:"350px",className:"mt-10"})})]}),x("div",{className:"md:flex md:flex-row md:space-x-10  grid md:grid-cols-1  mb-4 gap-8 ",children:e.map(n=>x(cI,{role:n.role,about:n.desc,fName:n.fname,lName:n.lname,bio:n.desc,desc:n.desc,githubLink:n.github,twitterLink:n.twitter,linkdinLink:n.linkedin}))})]})};const dI=({exp:t})=>{const[e,n]=he.exports.useState(!1),[r,i]=he.exports.useState(!1),[s,o]=he.exports.useState(!1),[a,l]=he.exports.useState(!1);return he.exports.useEffect(()=>{setTimeout(()=>{n(!0)},3e3)},[]),$("div",{className:"text-white mt-14",children:[x("div",{className:"grid grid-cols-1 place-items-center  ",children:$("div",{className:"h-[1px] w-full bg-white relative",children:[x("div",{className:"flex items-center absolute  ",children:x("div",{className:"bg-gray-50 rounded-full p-4 custom_container cursor-pointer ml-4",onClick:()=>{i(!1),o(!1),l(!1),n(!0)},children:x("div",{className:e?"bg-primary rotate-[-46.46deg] sheet":"bg-[#C4C4C4] rotate-[-46.46deg] sheet",children:x("div",{className:" d_text rotate-[46.46deg] ",children:x("div",{className:e?"rounded-full w-8 h-8 text-center bg-[#353353] absolute left-7 pt-1 text-sm  text-white":"rounded-full w-8 h-8 text-center bg-white absolute left-7 pt-1 text-sm  text-black",children:"3"})})})})}),x("div",{className:"flex items-center absolute left-[7rem]",children:x("div",{className:"bg-gray-50 rounded-full p-4 custom_container ma-20 cursor-pointer",onClick:()=>{o(!1),l(!1),n(!1),i(!0)},children:x("div",{className:r?"bg-primary rotate-[-46.46deg] sheet":"bg-[#C4C4C4] rotate-[-46.46deg] sheet",children:x("div",{className:" d_text rotate-[46.46deg] ",children:x("div",{className:r?"rounded-full w-8 h-8 text-center bg-[#353353] absolute left-7 pt-1 text-sm  text-white":"rounded-full w-8 h-8 text-center bg-white absolute left-7 pt-1 text-sm  text-black",children:"2"})})})})}),x("div",{className:"flex items-center absolute left-[14rem]",children:x("div",{className:"bg-gray-50 rounded-full p-4 custom_container ma-20 cursor-pointer",onClick:()=>{l(!1),n(!1),i(!1),o(!0)},children:x("div",{className:s?"bg-primary rotate-[-46.46deg] sheet":"bg-[#C4C4C4] rotate-[-46.46deg] sheet",children:x("div",{className:" d_text rotate-[46.46deg] ",children:x("div",{className:s?"rounded-full w-8 h-8 text-center bg-[#353353] absolute left-7 pt-1 text-sm  text-white":"rounded-full w-8 h-8 text-center bg-white absolute left-7 pt-1 text-sm  text-black",children:"1"})})})})}),x("div",{className:"flex items-center absolute left-[20rem]",children:x("div",{className:"bg-gray-50 rounded-full p-4 custom_container ma-20 cursor-pointer",onClick:()=>{n(!1),i(!1),o(!1),l(!0)},children:x("div",{className:a?"bg-primary rotate-[-46.46deg] sheet":"bg-[#C4C4C4] rotate-[-46.46deg] sheet",children:x("div",{className:" d_text rotate-[46.46deg] ",children:x("div",{className:a?"rounded-full w-8 h-8 text-center bg-[#353353] absolute left-7 pt-1 text-sm  text-white":"rounded-full w-8 h-8 text-center bg-white absolute left-7 pt-1 text-sm  text-black",children:"0"})})})})})]})}),$("div",{className:"mt-14",children:[e?x(fI,{title:"Frontend Developer",startDate:"Feb 2023 ",tasks:[`Developed and maintained user-friendly interfaces using React.js and Next.js.
Collaborated with cross-functional teams to enhance web application features.
Improved web performance and implemented best practices for SEO.
Technologies used: React.js, Next.js, Tailwind CSS, Rest API.`],endDate:"Dec 2023 ",company:"Hawkish Group"}):null,r?x(pI,{title:"Web Developer",startDate:"Apr 2021",tasks:[`Built and optimized responsive web applications using Vue.js.
Implemented dynamic UI components and ensured cross-browser compatibility.
Participated in code reviews and contributed to team knowledge sharing sessions.
Technologies used: Vue.js, Vuetify, Vuex, Node js`],endDate:"Jan 2023",company:"Bridgingspace"}):null,s?x(mI,{title:"Frontend Developer",startDate:"Apr 2020",endDate:"Dec 2020",company:"Lexington Hub Technologies",tasks:[`Assisted in the development of web applications under the guidance of senior developers.
Gained hands-on experience with HTML, CSS, and JavaScript.
Worked on improving user experience and interface design.
Technologies used: HTML, CSS, JavaScript, React, Git, GitHub.`]}):null,a?x(gI,{title:"Web3 Engineer",startDate:"2023",company:"Freelancing",tasks:["I've worked with clients from Discord on various projects, including building NFT marketplaces, DApps, and Telegram bots. One notable project was a Solana Telegram bot (buy bot) that utilized the Jupiter API for swaps. I've also contributed to the Alby Bitcoin Lightning browser extension and Geyser, a crowdfunding platform with Bitcoin"],endDate:"till date"}):null]})]})};function fI({title:t,startDate:e,tasks:n,endDate:r,company:i}){return $("div",{children:[x("h2",{className:"text-[#E6F1FF] text-3xl mb-3",children:i}),x("h2",{className:"text-[#E6F1FF] text-large mb-3",children:t}),$("h6",{className:"text-[14px] font-[200]",children:[e," - ",r]}),n.map(s=>$("div",{className:"my-6 text-base md:w-57",children:[x("span",{className:"text-primary ",children:". "})," ",s]}))]})}function pI({title:t,startDate:e,tasks:n,endDate:r,company:i}){return $("div",{children:[x("h2",{className:"text-[#E6F1FF] text-3xl mb-3",children:i}),x("h2",{className:"text-[#E6F1FF] text-large mb-3",children:t}),$("h6",{className:"text-[14px] font-[200]",children:[e," - ",r]}),n.map(s=>$("div",{className:"my-6 text-base md:w-57",children:[x("span",{className:"text-primary ",children:". "})," ",s]}))]})}function mI({title:t,startDate:e,tasks:n,endDate:r,company:i}){return $("div",{children:[x("h2",{className:"text-[#E6F1FF] text-3xl mb-3",children:i}),x("h2",{className:"text-[#E6F1FF] text-large mb-3",children:t}),$("h6",{className:"text-[14px] font-[200]",children:[e," - ",r]}),n.map(s=>$("div",{className:"my-6 text-base md:w-57",children:[x("span",{className:"text-primary ",children:". "})," ",s]}))]})}function gI({title:t,startDate:e,tasks:n,endDate:r,company:i}){return $("div",{children:[x("h2",{className:"text-[#E6F1FF] text-3xl mb-3",children:i}),x("h2",{className:"text-[#E6F1FF] text-large mb-3",children:t}),$("h6",{className:"text-[14px] font-[200]",children:[e," - ",r]}),n.map(s=>$("div",{className:"my-6 text-base md:w-57",children:[x("span",{className:"text-primary ",children:". "})," ",s]}))]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ww(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},wI=function(t){const e=Ww(t);return vI.encodeByteArray(e,!0)},Rl=function(t){return wI(t).replace(/\./g,"")};function Pl(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!xI(n)||(t[n]=Pl(t[n],e[n]));return t}function xI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Rl(JSON.stringify(n)),Rl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SI(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function II(){return typeof self=="object"&&self.self===self}function kI(){return!SI()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qw(){return typeof indexedDB=="object"}function TI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="FirebaseError";class oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_I,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CI(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new oi(i,a,r)}}function CI(t,e){return t.replace(NI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(tg(s)&&tg(o)){if(!zh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tg(t){return t!==null&&typeof t=="object"}function DI(t,e){const n=new AI(t,e);return n.subscribe.bind(n)}class AI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OI(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nc),i.error===void 0&&(i.error=Nc),i.complete===void 0&&(i.complete=Nc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t){return t&&t._delegate?t._delegate:t}class Kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PI(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(t){return t===Ir?void 0:t}function PI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $I(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=[];var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const Yw={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},MI=re.INFO,FI={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},VI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yf{constructor(e){this.name=e,this._logLevel=MI,this._logHandler=VI,this._userLogHandler=null,gf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}function BI(t){gf.forEach(e=>{e.setLogLevel(t)})}function jI(t,e){for(const n of gf){let r=null;e&&e.level&&(r=Yw[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r!=null?r:i.logLevel)&&t({level:re[s].toLowerCase(),message:a,args:o,type:i.name})}}}const UI=(t,e)=>e.some(n=>t instanceof n);let ng,rg;function zI(){return ng||(ng=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qI(){return rg||(rg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xw=new WeakMap,qh=new WeakMap,Jw=new WeakMap,Dc=new WeakMap,vf=new WeakMap;function KI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xw.set(n,t)}).catch(()=>{}),vf.set(e,t),e}function GI(t){if(qh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qh.set(t,e)}let Kh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HI(t){Kh=t(Kh)}function WI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ac(this),e,...n);return Jw.set(r,e.sort?e.sort():[e]),Qn(r)}:qI().includes(t)?function(...e){return t.apply(Ac(this),e),Qn(Xw.get(this))}:function(...e){return Qn(t.apply(Ac(this),e))}}function QI(t){return typeof t=="function"?WI(t):(t instanceof IDBTransaction&&GI(t),UI(t,zI())?new Proxy(t,Kh):t)}function Qn(t){if(t instanceof IDBRequest)return KI(t);if(Dc.has(t))return Dc.get(t);const e=QI(t);return e!==t&&(Dc.set(t,e),vf.set(e,t)),e}const Ac=t=>vf.get(t);function YI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Qn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qn(o.result),l.oldVersion,l.newVersion,Qn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const XI=["get","getKey","getAll","getAllKeys","count"],JI=["put","add","delete","clear"],Oc=new Map;function ig(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Oc.get(e))return Oc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XI.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Oc.set(e,s),s}HI(t=>Bp(Vp({},t),{get:(e,n,r)=>ig(e,n)||t.get(e,n,r),has:(e,n)=>!!ig(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ek(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ek(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gh="@firebase/app",sg="0.7.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new yf("@firebase/app"),tk="@firebase/app-compat",nk="@firebase/analytics-compat",rk="@firebase/analytics",ik="@firebase/app-check-compat",sk="@firebase/app-check",ok="@firebase/auth",ak="@firebase/auth-compat",lk="@firebase/database",uk="@firebase/database-compat",ck="@firebase/functions",hk="@firebase/functions-compat",dk="@firebase/installations",fk="@firebase/installations-compat",pk="@firebase/messaging",mk="@firebase/messaging-compat",gk="@firebase/performance",yk="@firebase/performance-compat",vk="@firebase/remote-config",wk="@firebase/remote-config-compat",xk="@firebase/storage",Ek="@firebase/storage-compat",bk="@firebase/firestore",Sk="@firebase/firestore-compat",Ik="firebase",kk="9.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]",Tk={[Gh]:"fire-core",[tk]:"fire-core-compat",[rk]:"fire-analytics",[nk]:"fire-analytics-compat",[sk]:"fire-app-check",[ik]:"fire-app-check-compat",[ok]:"fire-auth",[ak]:"fire-auth-compat",[lk]:"fire-rtdb",[uk]:"fire-rtdb-compat",[ck]:"fire-fn",[hk]:"fire-fn-compat",[dk]:"fire-iid",[fk]:"fire-iid-compat",[pk]:"fire-fcm",[mk]:"fire-fcm-compat",[gk]:"fire-perf",[yk]:"fire-perf-compat",[vk]:"fire-rc",[wk]:"fire-rc-compat",[xk]:"fire-gcs",[Ek]:"fire-gcs-compat",[bk]:"fire-fst",[Sk]:"fire-fst-compat","fire-js":"fire-js",[Ik]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Map,Io=new Map;function Ll(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zw(t,e){t.container.addOrOverwriteComponent(e)}function Hi(t){const e=t.name;if(Io.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Io.set(e,t);for(const n of tr.values())Ll(n,t);return!0}function e0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _k(t,e,n=Hr){e0(t,e).clearInstance(n)}function Ck(){Io.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},nr=new xu("app","Firebase",Nk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=kk;function t0(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Hr,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw nr.create("bad-app-name",{appName:String(r)});const i=tr.get(r);if(i){if(zh(t,i.options)&&zh(n,i.config))return i;throw nr.create("duplicate-app",{appName:r})}const s=new LI(r);for(const a of Io.values())s.addComponent(a);const o=new Dk(t,n,s);return tr.set(r,o),o}function Ak(t=Hr){const e=tr.get(t);if(!e)throw nr.create("no-app",{appName:t});return e}function Ok(){return Array.from(tr.values())}async function n0(t){const e=t.name;tr.has(e)&&(tr.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Yn(t,e,n){var r;let i=(r=Tk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Hi(new Kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function r0(t,e){if(t!==null&&typeof t!="function")throw nr.create("invalid-log-argument");jI(t,e)}function i0(t){BI(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="firebase-heartbeat-database",Rk=1,ko="firebase-heartbeat-store";let $c=null;function s0(){return $c||($c=YI($k,Rk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ko)}}}).catch(t=>{throw nr.create("idb-open",{originalErrorMessage:t.message})})),$c}async function Pk(t){var e;try{return(await s0()).transaction(ko).objectStore(ko).get(o0(t))}catch(n){if(n instanceof oi)Gr.warn(n.message);else{const r=nr.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Gr.warn(r.message)}}}async function og(t,e){var n;try{const i=(await s0()).transaction(ko,"readwrite");return await i.objectStore(ko).put(e,o0(t)),i.done}catch(r){if(r instanceof oi)Gr.warn(r.message);else{const i=nr.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Gr.warn(i.message)}}}function o0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=1024,Mk=30*24*60*60*1e3;class Fk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ag();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Mk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ag(),{heartbeatsToSend:n,unsentEntries:r}=Vk(this._heartbeatsCache.heartbeats),i=Rl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ag(){return new Date().toISOString().substring(0,10)}function Vk(t,e=Lk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qw()?TI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Pk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return og(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return og(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lg(t){return Rl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){Hi(new Kr("platform-logger",e=>new ZI(e),"PRIVATE")),Hi(new Kr("heartbeat",e=>new Fk(e),"PRIVATE")),Yn(Gh,sg,t),Yn(Gh,sg,"esm2017"),Yn("fire-js","")}jk("");var Uk=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:wf,_DEFAULT_ENTRY_NAME:Hr,_addComponent:Ll,_addOrOverwriteComponent:Zw,_apps:tr,_clearComponents:Ck,_components:Io,_getProvider:e0,_registerComponent:Hi,_removeServiceInstance:_k,deleteApp:n0,getApp:Ak,getApps:Ok,initializeApp:t0,onLog:r0,registerVersion:Yn,setLogLevel:i0,FirebaseError:oi},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n){this._delegate=e,this.firebase=n,Ll(e,new Kr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),n0(this._delegate)))}_getService(e,n=Hr){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Hr){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ll(this._delegate,e)}_addOrOverwriteComponent(e){Zw(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},ug=new xu("app-compat","Firebase",qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Yn,setLogLevel:i0,onLog:r0,apps:null,SDK_VERSION:wf,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:Uk}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Hr,!eg(e,u))throw ug.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const h=t0(u,c);if(eg(e,h.name))return e[h.name];const d=new t(h,n);return e[h.name]=d,d}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,h=c.replace("-compat","");if(Hi(u)&&u.type==="PUBLIC"){const d=(f=i())=>{if(typeof f[h]!="function")throw ug.create("invalid-app-argument",{appName:c});return f[h]()};u.serviceProps!==void 0&&Pl(d,u.serviceProps),n[h]=d,t.prototype[h]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){const t=Kk(zk);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:a0,extendNamespace:e,createSubscribe:DI,ErrorFactory:xu,deepExtend:Pl});function e(n){Pl(t,n)}return t}const Gk=a0();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new yf("@firebase/app-compat"),Hk="@firebase/app-compat",Wk="0.1.34";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t){Yn(Hk,Wk,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(II()&&self.firebase!==void 0){cg.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&cg.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Eu=Gk;Qk();var Yk="firebase",Xk="9.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eu.registerVersion(Yk,Xk,"app-compat");var Jk=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},j,xf=xf||{},K=Jk||self;function Ml(){}function bu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Yo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Zk(t){return Object.prototype.hasOwnProperty.call(t,Rc)&&t[Rc]||(t[Rc]=++eT)}var Rc="closure_uid_"+(1e9*Math.random()>>>0),eT=0;function tT(t,e,n){return t.call.apply(t.bind,arguments)}function nT(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rt=tT:rt=nT,rt.apply(null,arguments)}function Ma(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function pr(){this.s=this.s,this.o=this.o}var rT=0;pr.prototype.s=!1;pr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),rT!=0)&&Zk(this)};pr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const l0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ef(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(bu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function it(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var iT=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",Ml,e),K.removeEventListener("test",Ml,e)}catch{}return t}();function Fl(t){return/^[\s\xa0]*$/.test(t)}var dg=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Pc(t,e){return t<e?-1:t>e?1:0}function Su(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function nn(t){return Su().indexOf(t)!=-1}function bf(t){return bf[" "](t),t}bf[" "]=Ml;function sT(t){var e=lT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var oT=nn("Opera"),Wi=nn("Trident")||nn("MSIE"),u0=nn("Edge"),Hh=u0||Wi,c0=nn("Gecko")&&!(Su().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge"))&&!(nn("Trident")||nn("MSIE"))&&!nn("Edge"),aT=Su().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge");function h0(){var t=K.document;return t?t.documentMode:void 0}var Vl;e:{var Lc="",Mc=function(){var t=Su();if(c0)return/rv:([^\);]+)(\)|;)/.exec(t);if(u0)return/Edge\/([\d\.]+)/.exec(t);if(Wi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(aT)return/WebKit\/(\S+)/.exec(t);if(oT)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mc&&(Lc=Mc?Mc[1]:""),Wi){var Fc=h0();if(Fc!=null&&Fc>parseFloat(Lc)){Vl=String(Fc);break e}}Vl=Lc}var lT={};function uT(){return sT(function(){let t=0;const e=dg(String(Vl)).split("."),n=dg("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Pc(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Pc(i[2].length==0,s[2].length==0)||Pc(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Wh;if(K.document&&Wi){var fg=h0();Wh=fg||parseInt(Vl,10)||void 0}else Wh=void 0;var cT=Wh;function To(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(c0){e:{try{bf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:hT[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&To.X.h.call(this)}}Ze(To,it);var hT={2:"touch",3:"pen",4:"mouse"};To.prototype.h=function(){To.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xo="closure_listenable_"+(1e6*Math.random()|0),dT=0;function fT(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++dT,this.ba=this.ea=!1}function Iu(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Sf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function d0(t){const e={};for(const n in t)e[n]=t[n];return e}const pg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<pg.length;s++)n=pg[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ku(t){this.src=t,this.g={},this.h=0}ku.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Yh(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new fT(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Qh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=l0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Iu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Yh(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var If="closure_lm_"+(1e6*Math.random()|0),Vc={};function p0(t,e,n,r,i){if(r&&r.once)return g0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)p0(t,e[s],n,r,i);return null}return n=_f(n),t&&t[Xo]?t.N(e,n,Yo(r)?!!r.capture:!!r,i):m0(t,e,n,!1,r,i)}function m0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Yo(i)?!!i.capture:!!i,a=Tf(t);if(a||(t[If]=a=new ku(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=pT(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iT||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(v0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pT(){function t(n){return e.call(t.src,t.listener,n)}const e=mT;return t}function g0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)g0(t,e[s],n,r,i);return null}return n=_f(n),t&&t[Xo]?t.O(e,n,Yo(r)?!!r.capture:!!r,i):m0(t,e,n,!0,r,i)}function y0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)y0(t,e[s],n,r,i);else r=Yo(r)?!!r.capture:!!r,n=_f(n),t&&t[Xo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Yh(s,n,r,i),-1<n&&(Iu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Tf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Yh(e,n,r,i)),(n=-1<t?e[t]:null)&&kf(n))}function kf(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Xo])Qh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(v0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tf(e))?(Qh(n,t),n.h==0&&(n.src=null,e[If]=null)):Iu(t)}}}function v0(t){return t in Vc?Vc[t]:Vc[t]="on"+t}function mT(t,e){if(t.ba)t=!0;else{e=new To(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&kf(t),t=n.call(r,e)}return t}function Tf(t){return t=t[If],t instanceof ku?t:null}var Bc="__closure_events_fn_"+(1e9*Math.random()>>>0);function _f(t){return typeof t=="function"?t:(t[Bc]||(t[Bc]=function(e){return t.handleEvent(e)}),t[Bc])}function ze(){pr.call(this),this.i=new ku(this),this.P=this,this.I=null}Ze(ze,pr);ze.prototype[Xo]=!0;ze.prototype.removeEventListener=function(t,e,n,r){y0(this,t,e,n,r)};function Xe(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var i=e;e=new it(r,t),f0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Fa(o,r,!0,e)&&i}if(o=e.g=t,i=Fa(o,r,!0,e)&&i,i=Fa(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Fa(o,r,!1,e)&&i}ze.prototype.M=function(){if(ze.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Iu(n[r]);delete t.g[e],t.h--}}this.I=null};ze.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Fa(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Qh(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cf=K.JSON.stringify;function gT(){var t=E0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class yT{constructor(){this.h=this.g=null}add(e,n){const r=w0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var w0=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new vT,t=>t.reset());class vT{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wT(t){K.setTimeout(()=>{throw t},0)}function x0(t,e){Xh||xT(),Jh||(Xh(),Jh=!0),E0.add(t,e)}var Xh;function xT(){var t=K.Promise.resolve(void 0);Xh=function(){t.then(ET)}}var Jh=!1,E0=new yT;function ET(){for(var t;t=gT();){try{t.h.call(t.g)}catch(n){wT(n)}var e=w0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jh=!1}function Tu(t,e){ze.call(this),this.h=t||1,this.g=e||K,this.j=rt(this.kb,this),this.l=Date.now()}Ze(Tu,ze);j=Tu.prototype;j.ca=!1;j.R=null;j.kb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Xe(this,"tick"),this.ca&&(Nf(this),this.start()))}};j.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nf(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}j.M=function(){Tu.X.M.call(this),Nf(this),delete this.g};function Df(t,e,n){if(typeof t=="function")n&&(t=rt(t,n));else if(t&&typeof t.handleEvent=="function")t=rt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function b0(t){t.g=Df(()=>{t.g=null,t.i&&(t.i=!1,b0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class bT extends pr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b0(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(t){pr.call(this),this.h=t,this.g={}}Ze(_o,pr);var mg=[];function S0(t,e,n,r){Array.isArray(n)||(n&&(mg[0]=n.toString()),n=mg);for(var i=0;i<n.length;i++){var s=p0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function I0(t){Sf(t.g,function(e,n){this.g.hasOwnProperty(n)&&kf(e)},t),t.g={}}_o.prototype.M=function(){_o.X.M.call(this),I0(this)};_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _u(){this.g=!0}_u.prototype.Aa=function(){this.g=!1};function ST(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function IT(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Di(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+TT(t,n)+(r?" "+r:"")})}function kT(t,e){t.info(function(){return"TIMEOUT: "+e})}_u.prototype.info=function(){};function TT(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Cf(n)}catch{return e}}var ai={},gg=null;function Cu(){return gg=gg||new ze}ai.Oa="serverreachability";function k0(t){it.call(this,ai.Oa,t)}Ze(k0,it);function Co(t){const e=Cu();Xe(e,new k0(e))}ai.STAT_EVENT="statevent";function T0(t,e){it.call(this,ai.STAT_EVENT,t),this.stat=e}Ze(T0,it);function ct(t){const e=Cu();Xe(e,new T0(e,t))}ai.Pa="timingevent";function _0(t,e){it.call(this,ai.Pa,t),this.size=e}Ze(_0,it);function Jo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}var Nu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},C0={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Af(){}Af.prototype.h=null;function yg(t){return t.h||(t.h=t.i())}function N0(){}var Zo={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Of(){it.call(this,"d")}Ze(Of,it);function $f(){it.call(this,"c")}Ze($f,it);var Zh;function Du(){}Ze(Du,Af);Du.prototype.g=function(){return new XMLHttpRequest};Du.prototype.i=function(){return{}};Zh=new Du;function ea(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new _o(this),this.O=_T,t=Hh?125:void 0,this.T=new Tu(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new D0}function D0(){this.i=null,this.g="",this.h=!1}var _T=45e3,ed={},Bl={};j=ea.prototype;j.setTimeout=function(t){this.O=t};function td(t,e,n){t.K=1,t.v=Ou(Sn(e)),t.s=n,t.P=!0,A0(t,null)}function A0(t,e){t.F=Date.now(),ta(t),t.A=Sn(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),V0(n.i,"t",r),t.C=0,n=t.l.H,t.h=new D0,t.g=o1(t.l,n?e:null,!t.s),0<t.N&&(t.L=new bT(rt(t.Ka,t,t.g),t.N)),S0(t.S,t.g,"readystatechange",t.hb),e=t.H?d0(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Co(),ST(t.j,t.u,t.A,t.m,t.U,t.s)}j.hb=function(t){t=t.target;const e=this.L;e&&vn(t)==3?e.l():this.Ka(t)};j.Ka=function(t){try{if(t==this.g)e:{const c=vn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||Hh||this.g&&(this.h.h||this.g.fa()||Eg(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Co(3):Co(2)),Au(this);var n=this.g.aa();this.Y=n;t:if(O0(this)){var r=Eg(this.g);t="";var i=r.length,s=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){$r(this),Zs(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,IT(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fl(a)){var u=a;break t}}u=null}if(n=u)Di(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nd(this,n);else{this.i=!1,this.o=3,ct(12),$r(this),Zs(this);break e}}this.P?($0(this,c,o),Hh&&this.i&&c==3&&(S0(this.S,this.T,"tick",this.gb),this.T.start())):(Di(this.j,this.m,o,null),nd(this,o)),c==4&&$r(this),this.i&&!this.I&&(c==4?n1(this.l,this):(this.i=!1,ta(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ct(12)):(this.o=0,ct(13)),$r(this),Zs(this)}}}catch{}finally{}};function O0(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function $0(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=CT(t,n),i==Bl){e==4&&(t.o=4,ct(14),r=!1),Di(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ed){t.o=4,ct(15),Di(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Di(t.j,t.m,i,null),nd(t,i);O0(t)&&i!=Bl&&i!=ed&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ct(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bf(e),e.K=!0,ct(11))):(Di(t.j,t.m,n,"[Invalid Chunked Response]"),$r(t),Zs(t))}j.gb=function(){if(this.g){var t=vn(this.g),e=this.g.fa();this.C<e.length&&(Au(this),$0(this,t,e),this.i&&t!=4&&ta(this))}};function CT(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Bl:(n=Number(e.substring(n,r)),isNaN(n)?ed:(r+=1,r+n>e.length?Bl:(e=e.substr(r,n),t.C=r+n,e)))}j.cancel=function(){this.I=!0,$r(this)};function ta(t){t.V=Date.now()+t.O,R0(t,t.O)}function R0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Jo(rt(t.fb,t),e)}function Au(t){t.B&&(K.clearTimeout(t.B),t.B=null)}j.fb=function(){this.B=null;const t=Date.now();0<=t-this.V?(kT(this.j,this.A),this.K!=2&&(Co(),ct(17)),$r(this),this.o=2,Zs(this)):R0(this,this.V-t)};function Zs(t){t.l.G==0||t.I||n1(t.l,t)}function $r(t){Au(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Nf(t.T),I0(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function nd(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||rd(n.h,t))){if(!t.J&&rd(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)zl(n),Pu(n);else break e;Vf(n),ct(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Jo(rt(n.bb,n),6e3));if(1>=U0(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Rr(n,11)}else if((t.J||n.g==t)&&zl(n),!Fl(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Rf(s,s.h),s.h=null))}if(r.D){const k=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.za=k,me(r.F,r.D,k))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=s1(r,r.H?r.ka:null,r.V),o.J){z0(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Au(a),ta(a)),r.g=o}else e1(r);0<n.i.length&&Lu(n)}else u[0]!="stop"&&u[0]!="close"||Rr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Rr(n,7):Ff(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Co(4)}catch{}}function NT(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map!="undefined"&&t instanceof Map||typeof Set!="undefined"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(bu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function DT(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map!="undefined"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set!="undefined"&&t instanceof Set)){if(bu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function P0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=DT(t),r=NT(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var L0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AT(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vr){this.h=e!==void 0?e:t.h,jl(this,t.j),this.s=t.s,this.g=t.g,Ul(this,t.m),this.l=t.l,e=t.i;var n=new No;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),vg(this,n),this.o=t.o}else t&&(n=String(t).match(L0))?(this.h=!!e,jl(this,n[1]||"",!0),this.s=Bs(n[2]||""),this.g=Bs(n[3]||"",!0),Ul(this,n[4]),this.l=Bs(n[5]||"",!0),vg(this,n[6]||"",!0),this.o=Bs(n[7]||"")):(this.h=!!e,this.i=new No(null,this.h))}Vr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(js(e,wg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(js(e,wg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(js(n,n.charAt(0)=="/"?RT:$T,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",js(n,LT)),t.join("")};function Sn(t){return new Vr(t)}function jl(t,e,n){t.j=n?Bs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ul(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vg(t,e,n){e instanceof No?(t.i=e,MT(t.i,t.h)):(n||(e=js(e,PT)),t.i=new No(e,t.h))}function me(t,e,n){t.i.set(e,n)}function Ou(t){return me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function js(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,OT),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function OT(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wg=/[#\/\?@]/g,$T=/[#\?:]/g,RT=/[#\?]/g,PT=/[#\?@]/g,LT=/#/g;function No(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mr(t){t.g||(t.g=new Map,t.h=0,t.i&&AT(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=No.prototype;j.add=function(t,e){mr(this),this.i=null,t=us(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function M0(t,e){mr(t),e=us(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function F0(t,e){return mr(t),e=us(t,e),t.g.has(e)}j.forEach=function(t,e){mr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.oa=function(){mr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.W=function(t){mr(this);let e=[];if(typeof t=="string")F0(this,t)&&(e=e.concat(this.g.get(us(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return mr(this),this.i=null,t=us(this,t),F0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function V0(t,e,n){M0(t,e),0<n.length&&(t.i=null,t.g.set(us(t,e),Ef(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function us(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MT(t,e){e&&!t.j&&(mr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(M0(this,r),V0(this,i,n))},t)),t.j=e}var FT=class{constructor(t,e){this.h=t,this.g=e}};function B0(t){this.l=t||VT,K.PerformanceNavigationTiming?(t=K.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var VT=10;function j0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function U0(t){return t.h?1:t.g?t.g.size:0}function rd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Rf(t,e){t.g?t.g.add(e):t.h=e}function z0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}B0.prototype.cancel=function(){if(this.i=q0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function q0(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ef(t.i)}function Pf(){}Pf.prototype.stringify=function(t){return K.JSON.stringify(t,void 0)};Pf.prototype.parse=function(t){return K.JSON.parse(t,void 0)};function BT(){this.g=new Pf}function jT(t,e,n){const r=n||"";try{P0(t,function(i,s){let o=i;Yo(i)&&(o=Cf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function UT(t,e){const n=new _u;if(K.Image){const r=new Image;r.onload=Ma(Va,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ma(Va,n,r,"TestLoadImage: error",!1,e),r.onabort=Ma(Va,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ma(Va,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Va(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function na(t){this.l=t.$b||null,this.j=t.ib||!1}Ze(na,Af);na.prototype.g=function(){return new $u(this.l,this.j)};na.prototype.i=function(t){return function(){return t}}({});function $u(t,e){ze.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Lf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze($u,ze);var Lf=0;j=$u.prototype;j.open=function(t,e){if(this.readyState!=Lf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Do(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||K).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=Lf};j.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Do(this)),this.g&&(this.readyState=3,Do(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K0(this)}else t.text().then(this.Ua.bind(this),this.ga.bind(this))};function K0(t){t.j.read().then(t.Sa.bind(t)).catch(t.ga.bind(t))}j.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ra(this):Do(this),this.readyState==3&&K0(this)}};j.Ua=function(t){this.g&&(this.response=this.responseText=t,ra(this))};j.Ta=function(t){this.g&&(this.response=t,ra(this))};j.ga=function(){this.g&&ra(this)};function ra(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Do(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Do(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zT=K.JSON.parse;function Oe(t){ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=G0,this.K=this.L=!1}Ze(Oe,ze);var G0="",qT=/^https?$/i,KT=["POST","PUT"];j=Oe.prototype;j.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zh.g(),this.C=this.u?yg(this.u):yg(Zh),this.g.onreadystatechange=rt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){xg(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=K.FormData&&t instanceof K.FormData,!(0<=l0(KT,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Q0(this),0<this.B&&((this.K=GT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.qa,this)):this.A=Df(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){xg(this,s)}};function GT(t){return Wi&&uT()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.qa=function(){typeof xf!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function xg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,H0(t),Ru(t)}function H0(t){t.D||(t.D=!0,Xe(t,"complete"),Xe(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xe(this,"complete"),Xe(this,"abort"),Ru(this))};j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ru(this,!0)),Oe.X.M.call(this)};j.Ha=function(){this.s||(this.F||this.v||this.l?W0(this):this.eb())};j.eb=function(){W0(this)};function W0(t){if(t.h&&typeof xf!="undefined"&&(!t.C[1]||vn(t)!=4||t.aa()!=2)){if(t.v&&vn(t)==4)Df(t.Ha,0,t);else if(Xe(t,"readystatechange"),vn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(L0)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!qT.test(i?i.toLowerCase():"")}n=r}if(n)Xe(t,"complete"),Xe(t,"success");else{t.m=6;try{var o=2<vn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",H0(t)}}finally{Ru(t)}}}}function Ru(t,e){if(t.g){Q0(t);const n=t.g,r=t.C[0]?Ml:null;t.g=null,t.C=null,e||Xe(t,"ready");try{n.onreadystatechange=r}catch{}}}function Q0(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function vn(t){return t.g?t.g.readyState:0}j.aa=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}};j.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Ra=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zT(e)}};function Eg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case G0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}j.Ea=function(){return this.m};j.Na=function(){return typeof this.j=="string"?this.j:String(this.j)};function Y0(t){let e="";return Sf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Mf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Y0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):me(t,e,n))}function Ns(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function X0(t){this.Ca=0,this.i=[],this.j=new _u,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Ns("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Ns("baseRetryDelayMs",5e3,t),this.ab=Ns("retryDelaySeedMs",1e4,t),this.Za=Ns("forwardChannelMaxRetries",2,t),this.ta=Ns("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Yb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new B0(t&&t.concurrentRequestLimit),this.Fa=new BT,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=t&&t.Wb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}j=X0.prototype;j.ma=8;j.G=1;function Ff(t){if(J0(t),t.G==3){var e=t.U++,n=Sn(t.F);me(n,"SID",t.I),me(n,"RID",e),me(n,"TYPE","terminate"),ia(t,n),e=new ea(t,t.j,e,void 0),e.K=2,e.v=Ou(Sn(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&(new Image().src=e.v,n=!0),n||(e.g=o1(e.l,null),e.g.da(e.v)),e.F=Date.now(),ta(e)}i1(t)}function Pu(t){t.g&&(Bf(t),t.g.cancel(),t.g=null)}function J0(t){Pu(t),t.u&&(K.clearTimeout(t.u),t.u=null),zl(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&K.clearTimeout(t.m),t.m=null)}function Lu(t){j0(t.h)||t.m||(t.m=!0,x0(t.Ja,t),t.C=0)}function HT(t,e){return U0(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Ya?0:t.Za)?!1:(t.m=Jo(rt(t.Ja,t,e),r1(t,t.C)),t.C++,!0)}j.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ea(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=d0(s),f0(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Z0(this,i,e),n=Sn(this.F),me(n,"RID",t),me(n,"CVER",22),this.D&&me(n,"X-HTTP-Session-Id",this.D),ia(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Y0(s)))+"&"+e:this.o&&Mf(n,this.o,s)),Rf(this.h,i),this.Xa&&me(n,"TYPE","init"),this.O?(me(n,"$req",e),me(n,"SID","null"),i.Z=!0,td(i,n,null)):td(i,n,e),this.G=2}}else this.G==3&&(t?bg(this,t):this.i.length==0||j0(this.h)||bg(this))};function bg(t,e){var n;e?n=e.m:n=t.U++;const r=Sn(t.F);me(r,"SID",t.I),me(r,"RID",n),me(r,"AID",t.T),ia(t,r),t.o&&t.s&&Mf(r,t.o,t.s),n=new ea(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Z0(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Rf(t.h,n),td(n,r,e)}function ia(t,e){t.ia&&Sf(t.ia,function(n,r){me(e,r,n)}),t.l&&P0({},function(n,r){me(e,r,n)})}function Z0(t,e,n){n=Math.min(t.i.length,n);var r=t.l?rt(t.l.Qa,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{jT(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function e1(t){t.g||t.u||(t.Z=1,x0(t.Ia,t),t.A=0)}function Vf(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Jo(rt(t.Ia,t),r1(t,t.A)),t.A++,!0)}j.Ia=function(){if(this.u=null,t1(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Jo(rt(this.cb,this),t)}};j.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ct(10),Pu(this),t1(this))};function Bf(t){t.B!=null&&(K.clearTimeout(t.B),t.B=null)}function t1(t){t.g=new ea(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Sn(t.sa);me(e,"RID","rpc"),me(e,"SID",t.I),me(e,"CI",t.L?"0":"1"),me(e,"AID",t.T),me(e,"TYPE","xmlhttp"),ia(t,e),t.o&&t.s&&Mf(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ou(Sn(e)),n.s=null,n.P=!0,A0(n,t)}j.bb=function(){this.v!=null&&(this.v=null,Pu(this),Vf(this),ct(19))};function zl(t){t.v!=null&&(K.clearTimeout(t.v),t.v=null)}function n1(t,e){var n=null;if(t.g==e){zl(t),Bf(t),t.g=null;var r=2}else if(rd(t.h,e))n=e.D,z0(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Cu(),Xe(r,new _0(r,n)),Lu(t)}else e1(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&HT(t,e)||r==2&&Vf(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Rr(t,5);break;case 4:Rr(t,10);break;case 3:Rr(t,6);break;default:Rr(t,2)}}}function r1(t,e){let n=t.Wa+Math.floor(Math.random()*t.ab);return t.l||(n*=2),n*e}function Rr(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=rt(t.jb,t);n||(n=new Vr("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||jl(n,"https"),Ou(n)),UT(n.toString(),r)}else ct(2);t.G=0,t.l&&t.l.va(e),i1(t),J0(t)}j.jb=function(t){t?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function i1(t){if(t.G=0,t.la=[],t.l){const e=q0(t.h);(e.length!=0||t.i.length!=0)&&(hg(t.la,e),hg(t.la,t.i),t.h.i.length=0,Ef(t.i),t.i.length=0),t.l.ua()}}function s1(t,e,n){var r=n instanceof Vr?Sn(n):new Vr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ul(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Vr(null,void 0);r&&jl(s,r),e&&(s.g=e),i&&Ul(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&me(r,n,e),me(r,"VER",t.ma),ia(t,r),r}function o1(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Oe(new na({ib:!0})):new Oe(t.ra),e.L=t.H,e}function a1(){}j=a1.prototype;j.xa=function(){};j.wa=function(){};j.va=function(){};j.ua=function(){};j.Qa=function(){};function ql(){if(Wi&&!(10<=Number(cT)))throw Error("Environmental error: no available transport.")}ql.prototype.g=function(t,e){return new Dt(t,e)};function Dt(t,e){ze.call(this),this.g=new X0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Xb)&&!Fl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new cs(this)}Ze(Dt,ze);Dt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;ct(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=s1(t,null,t.V),Lu(t)};Dt.prototype.close=function(){Ff(this.g)};Dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Cf(t),t=n);e.i.push(new FT(e.$a++,t)),e.G==3&&Lu(e)};Dt.prototype.M=function(){this.g.l=null,delete this.j,Ff(this.g),delete this.g,Dt.X.M.call(this)};function l1(t){Of.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(l1,Of);function u1(){$f.call(this),this.status=1}Ze(u1,$f);function cs(t){this.g=t}Ze(cs,a1);cs.prototype.xa=function(){Xe(this.g,"a")};cs.prototype.wa=function(t){Xe(this.g,new l1(t))};cs.prototype.va=function(t){Xe(this.g,new u1)};cs.prototype.ua=function(){Xe(this.g,"b")};ql.prototype.createWebChannel=ql.prototype.g;Dt.prototype.send=Dt.prototype.u;Dt.prototype.open=Dt.prototype.m;Dt.prototype.close=Dt.prototype.close;Nu.NO_ERROR=0;Nu.TIMEOUT=8;Nu.HTTP_ERROR=6;C0.COMPLETE="complete";N0.EventType=Zo;Zo.OPEN="a";Zo.CLOSE="b";Zo.ERROR="c";Zo.MESSAGE="d";ze.prototype.listen=ze.prototype.N;Oe.prototype.listenOnce=Oe.prototype.O;Oe.prototype.getLastError=Oe.prototype.Na;Oe.prototype.getLastErrorCode=Oe.prototype.Ea;Oe.prototype.getStatus=Oe.prototype.aa;Oe.prototype.getResponseJson=Oe.prototype.Ra;Oe.prototype.getResponseText=Oe.prototype.fa;Oe.prototype.send=Oe.prototype.da;var WT=function(){return new ql},QT=function(){return Cu()},jc=Nu,YT=C0,XT=ai,Sg={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},JT=na,Ba=N0,ZT=Oe;const Ig="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs="9.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new yf("@firebase/firestore");function id(){return rr.logLevel}function e_(t){rr.setLogLevel(t)}function D(t,...e){if(rr.logLevel<=re.DEBUG){const n=e.map(jf);rr.debug(`Firestore (${hs}): ${t}`,...n)}}function _e(t,...e){if(rr.logLevel<=re.ERROR){const n=e.map(jf);rr.error(`Firestore (${hs}): ${t}`,...n)}}function Qi(t,...e){if(rr.logLevel<=re.WARN){const n=e.map(jf);rr.warn(`Firestore (${hs}): ${t}`,...n)}}function jf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(t="Unexpected state"){const e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+t;throw _e(e),new Error(e)}function z(t,e){t||V()}function t_(t,e){t||V()}function P(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}}class r_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i_{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new je;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new je,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new je)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(z(typeof r.accessToken=="string"),new c1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return z(e===null||typeof e=="string"),new Be(e)}}class s_{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(z(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class o_{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new s_(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l_{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(z(typeof n.token=="string"),this.A=n.token,new a_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u_(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function H(t,e){return t<e?-1:t>e?1:0}function Yi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function d1(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new N(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new N(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?H(this.nanoseconds,e.nanoseconds):H(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new ye(0,0))}static max(){return new U(new ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,r){n===void 0?n=0:n>e.length&&V(),r===void 0?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ao.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ao?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ee extends Ao{construct(e,n,r){return new ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new N(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const c_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ce extends Ao{construct(e,n,r){return new Ce(e,n,r)}static isValidIdentifier(e){return c_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ce.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ce(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new N(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new N(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new N(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new N(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ce(n)}static emptyPath(){return new Ce([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.path=e}static fromPath(e){return new R(ee.fromString(e))}static fromName(e){return new R(ee.fromString(e).popFirst(5))}static empty(){return new R(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function sd(t){return t.fields.find(e=>e.kind===2)}function kr(t){return t.fields.filter(e=>e.kind!==2)}f1.UNKNOWN_ID=-1;class h_{constructor(e,n){this.fieldPath=e,this.kind=n}}class Kl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Kl(0,At.min())}}function p1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new At(i,R.empty(),e)}function m1(t){return new At(t.readTime,t.key,-1)}class At{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new At(U.min(),R.empty(),-1)}static max(){return new At(U.max(),R.empty(),-1)}}function Uf(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=R.comparator(t.documentKey,e.documentKey),n!==0?n:H(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gr(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==g1)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,r)=>{n(e)})}static reject(e){return new S((n,r)=>{r(e)})}static waitFor(e){return new S((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=S.resolve(!1);for(const r of e)n=n.next(i=>i?S.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new S((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new S((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new je,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new eo(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=zf(r.target.error);this.P.reject(new eo(e,i))}}static open(e,n,r,i){try{return new Mu(n,e.transaction(i,r))}catch(s){throw new eo(n,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new f_(n)}}class Qt{constructor(e,n,r){this.name=e,this.version=n,this.S=r,Qt.D(Uh())===12.2&&_e("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),Tr(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Qw())return!1;if(Qt.N())return!0;const e=Uh(),n=Qt.D(e),r=0<n&&n<10,i=Qt.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new eo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new N(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new N(T.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new eo(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.$(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.F(e);const a=Mu.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.V(),u)).catch(u=>(a.abort(u),S.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class d_{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Tr(this.U.delete())}}class eo extends N{constructor(e,n){super(T.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function yr(t){return t.name==="IndexedDbTransactionError"}class f_{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tr(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),Tr(this.store.add(e))}get(e){return Tr(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),Tr(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),Tr(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new S((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new S((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new S((r,i)=>{n.onerror=s=>{const o=zf(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new S((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new d_(a),u=n(a.primaryKey,a.value,l);if(u instanceof S){const c=u.catch(h=>(l.done(),S.reject(h)));r.push(c)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>S.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Tr(t){return new S((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=zf(r.target.error);n(i)}})}let kg=!1;function zf(t){const e=Qt.D(Uh());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new N("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kg||(kg=!0,setTimeout(()=>{throw r},0)),r}}return t}class p_{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){D("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{D("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){yr(n)?D("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await gr(n)}await this.nt(6e4)})}}class m_{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,s=!0;return S.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return D("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(D("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=m1(s);Uf(o,r)>0&&(r=o)}),new At(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt.at=-1;class Ie{constructor(e,n){this.comparator=e,this.root=n||He.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ja(this.root,e,this.comparator,!0)}}class ja{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:He.RED,this.left=i!=null?i:He.EMPTY,this.right=s!=null?s:He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new He(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return He.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new He(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _g(this.data.getIterator())}getIteratorFrom(e){return new _g(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof se)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new se(this.comparator);return n.data=e,n}}class _g{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pi(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.fields=e,e.sort(Ce.comparator)}static empty(){return new Ct([])}unionWith(e){let n=new se(Ce.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ct(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(){return typeof atob!="undefined"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Me(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Me(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return H(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Me.EMPTY_BYTE_STRING=new Me("");const y_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(t){if(z(!!t),typeof t=="string"){let e=0;const n=y_.exec(t);if(z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wr(t){return typeof t=="string"?Me.fromBase64String(t):Me.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function w1(t){const e=t.mapValue.fields.__previous_value__;return qf(e)?w1(e):e}function Oo(t){const e=ir(t.mapValue.fields.__local_write_time__.timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class sr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sr&&e.projectId===this.projectId&&e.database===this.database}}function sa(t){return t==null}function $o(t){return t===0&&1/t==-1/0}function x1(t){return typeof t=="number"&&Number.isInteger(t)&&!$o(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rl={nullValue:"NULL_VALUE"};function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qf(t)?4:E1(t)?9007199254740991:10:V()}function cn(t,e){if(t===e)return!0;const n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oo(t).isEqual(Oo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ir(r.timestampValue),o=ir(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Wr(r.bytesValue).isEqual(Wr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Se(r.geoPointValue.latitude)===Se(i.geoPointValue.latitude)&&Se(r.geoPointValue.longitude)===Se(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Se(r.integerValue)===Se(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Se(r.doubleValue),o=Se(i.doubleValue);return s===o?$o(s)===$o(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Yi(t.arrayValue.values||[],e.arrayValue.values||[],cn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Tg(s)!==Tg(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!cn(s[a],o[a])))return!1;return!0}(t,e);default:return V()}}function Ro(t,e){return(t.values||[]).find(n=>cn(n,e))!==void 0}function or(t,e){if(t===e)return 0;const n=Qr(t),r=Qr(e);if(n!==r)return H(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return H(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Se(i.integerValue||i.doubleValue),a=Se(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Cg(t.timestampValue,e.timestampValue);case 4:return Cg(Oo(t),Oo(e));case 5:return H(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Wr(i),a=Wr(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=H(o[l],a[l]);if(u!==0)return u}return H(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=H(Se(i.latitude),Se(s.latitude));return o!==0?o:H(Se(i.longitude),Se(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=or(o[l],a[l]);if(u)return u}return H(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Bn.mapValue&&s===Bn.mapValue)return 0;if(i===Bn.mapValue)return 1;if(s===Bn.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=H(a[c],u[c]);if(h!==0)return h;const d=or(o[a[c]],l[u[c]]);if(d!==0)return d}return H(a.length,u.length)}(t.mapValue,e.mapValue);default:throw V()}}function Cg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return H(t,e);const n=ir(t),r=ir(e),i=H(n.seconds,r.seconds);return i!==0?i:H(n.nanos,r.nanos)}function Fi(t){return od(t)}function od(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ir(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,R.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=od(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${od(r.fields[a])}`;return s+"}"}(t.mapValue):V();var e,n}function Yr(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ad(t){return!!t&&"integerValue"in t}function Po(t){return!!t&&"arrayValue"in t}function Ng(t){return!!t&&"nullValue"in t}function Dg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function il(t){return!!t&&"mapValue"in t}function to(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=to(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=to(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function w_(t){return"nullValue"in t?rl:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Yr(sr.empty(),R.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:V()}function x_(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Yr(sr.empty(),R.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Bn:V()}function Ag(t,e){const n=or(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Og(t,e){const n=or(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.value=e}static empty(){return new We({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!il(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(n)}setAll(e){let n=Ce.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=to(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());il(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];il(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){li(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new We(to(this.value))}}function b1(t){const e=[];return li(t.fields,(n,r)=>{const i=new Ce([n]);if(il(r)){const s=b1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ct(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new le(e,0,U.min(),U.min(),We.empty(),0)}static newFoundDocument(e,n,r){return new le(e,1,n,U.min(),r,0)}static newNoDocument(e,n){return new le(e,2,n,U.min(),We.empty(),0)}static newUnknownDocument(e,n){return new le(e,3,n,U.min(),We.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=We.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=We.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof le&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new le(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function $g(t,e=null,n=[],r=[],i=null,s=null,o=null){return new E_(t,e,n,r,i,s,o)}function Xr(t){const e=P(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Fi(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fi(r)).join(",")),e.ht=n}return e.ht}function b_(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Fi(r.value)}`;var r}).join(", ")}]`),sa(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Fi(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Fi(n)).join(",")),`Target(${e})`}function oa(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!D_(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!cn(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mg(t.startAt,e.startAt)&&Mg(t.endAt,e.endAt)}function Gl(t){return R.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Hl(t,e){return t.filters.filter(n=>n instanceof Qe&&n.field.isEqual(e))}function Rg(t,e,n){let r=rl,i=!0;for(const s of Hl(t,e)){let o=rl,a=!0;switch(s.op){case"<":case"<=":o=w_(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=rl}Ag({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Ag({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Pg(t,e,n){let r=Bn,i=!0;for(const s of Hl(t,e)){let o=Bn,a=!0;switch(s.op){case">=":case">":o=x_(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Bn}Og({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Og({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}class Qe extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new S_(e,n,r):n==="array-contains"?new T_(e,r):n==="in"?new __(e,r):n==="not-in"?new C_(e,r):n==="array-contains-any"?new N_(e,r):new Qe(e,n,r)}static lt(e,n,r){return n==="in"?new I_(e,r):new k_(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(or(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.ft(or(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class S_ extends Qe{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.ft(n)}}class I_ extends Qe{constructor(e,n){super(e,"in",n),this.keys=S1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k_ extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=S1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function S1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class T_ extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Po(n)&&Ro(n.arrayValue,this.value)}}class __ extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ro(this.value.arrayValue,n)}}class C_ extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ro(this.value.arrayValue,n)}}class N_ extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Po(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ro(this.value.arrayValue,r))}}class ar{constructor(e,n){this.position=e,this.inclusive=n}}class Vi{constructor(e,n="asc"){this.field=e,this.dir=n}}function D_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Lg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=R.comparator(R.fromName(o.referenceValue),n.key):r=or(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function I1(t,e,n,r,i,s,o,a){return new Tn(t,e,n,r,i,s,o,a)}function ds(t){return new Tn(t)}function Fg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kf(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Gf(t){for(const e of t.filters)if(e.dt())return e.field;return null}function Hf(t){return t.collectionGroup!==null}function Xi(t){const e=P(t);if(e._t===null){e._t=[];const n=Gf(e),r=Kf(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new Vi(n)),e._t.push(new Vi(Ce.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Vi(Ce.keyField(),s))}}}return e._t}function It(t){const e=P(t);if(!e.wt)if(e.limitType==="F")e.wt=$g(e.path,e.collectionGroup,Xi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Xi(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Vi(s.field,o))}const r=e.endAt?new ar(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ar(e.startAt.position,e.startAt.inclusive):null;e.wt=$g(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Wl(t,e,n){return new Tn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function aa(t,e){return oa(It(t),It(e))&&t.limitType===e.limitType}function k1(t){return`${Xr(It(t))}|lt:${t.limitType}`}function ld(t){return`Query(target=${b_(It(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Lg(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Xi(n),r)||n.endAt&&!function(i,s,o){const a=Lg(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Xi(n),r))}(t,e)}function T1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _1(t){return(e,n)=>{let r=!1;for(const i of Xi(t)){const s=A_(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function A_(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?or(a,l):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$o(e)?"-0":e}}function N1(t){return{integerValue:""+t}}function D1(t,e){return x1(e)?N1(e):C1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function O_(t,e,n){return t instanceof Ji?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Jr?O1(t,e):t instanceof Zr?$1(t,e):function(r,i){const s=A1(r,i),o=Vg(s)+Vg(r.yt);return ad(s)&&ad(r.yt)?N1(o):C1(r.It,o)}(t,e)}function $_(t,e,n){return t instanceof Jr?O1(t,e):t instanceof Zr?$1(t,e):n}function A1(t,e){return t instanceof Zi?ad(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ji extends Fu{}class Jr extends Fu{constructor(e){super(),this.elements=e}}function O1(t,e){const n=R1(e);for(const r of t.elements)n.some(i=>cn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zr extends Fu{constructor(e){super(),this.elements=e}}function $1(t,e){let n=R1(e);for(const r of t.elements)n=n.filter(i=>!cn(i,r));return{arrayValue:{values:n}}}class Zi extends Fu{constructor(e,n){super(),this.It=e,this.yt=n}}function Vg(t){return Se(t.integerValue||t.doubleValue)}function R1(t){return Po(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.field=e,this.transform=n}}function R_(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Jr&&r instanceof Jr||n instanceof Zr&&r instanceof Zr?Yi(n.elements,r.elements,cn):n instanceof Zi&&r instanceof Zi?cn(n.yt,r.yt):n instanceof Ji&&r instanceof Ji}(t.transform,e.transform)}class P_{constructor(e,n){this.version=e,this.transformResults=n}}class ge{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ge}static exists(e){return new ge(void 0,e)}static updateTime(e){return new ge(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vu{}function P1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ps(t.key,ge.none()):new fs(t.key,t.data,ge.none());{const n=t.data,r=We.empty();let i=new se(Ce.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _n(t.key,r,new Ct(i.toArray()),ge.none())}}function L_(t,e,n){t instanceof fs?function(r,i,s){const o=r.value.clone(),a=jg(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof _n?function(r,i,s){if(!sl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=jg(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(L1(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function no(t,e,n,r){return t instanceof fs?function(i,s,o,a){if(!sl(i.precondition,s))return o;const l=i.value.clone(),u=Ug(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof _n?function(i,s,o,a){if(!sl(i.precondition,s))return o;const l=Ug(i.fieldTransforms,a,s),u=s.data;return u.setAll(L1(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return sl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function M_(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=A1(r.transform,i||null);s!=null&&(n===null&&(n=We.empty()),n.set(r.field,s))}return n||null}function Bg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Yi(n,r,(i,s)=>R_(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fs extends Vu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _n extends Vu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function L1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jg(t,e,n){const r=new Map;z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$_(o,a,n[i]))}return r}function Ug(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,O_(s,o,e))}return r}class ps extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qf extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,Z;function M1(t){switch(t){default:return V();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function F1(t){if(t===void 0)return _e("GRPC error has no .code"),T.UNKNOWN;switch(t){case Ne.OK:return T.OK;case Ne.CANCELLED:return T.CANCELLED;case Ne.UNKNOWN:return T.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return T.INTERNAL;case Ne.UNAVAILABLE:return T.UNAVAILABLE;case Ne.UNAUTHENTICATED:return T.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case Ne.NOT_FOUND:return T.NOT_FOUND;case Ne.ALREADY_EXISTS:return T.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return T.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case Ne.ABORTED:return T.ABORTED;case Ne.OUT_OF_RANGE:return T.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return T.UNIMPLEMENTED;case Ne.DATA_LOSS:return T.DATA_LOSS;default:return V()}}(Z=Ne||(Ne={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Ie(R.comparator);function xt(){return V_}const V1=new Ie(R.comparator);function Us(...t){let e=V1;for(const n of t)e=e.insert(n.key,n);return e}function B1(t){let e=V1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rn(){return ro()}function j1(){return ro()}function ro(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}const B_=new Ie(R.comparator),j_=new se(R.comparator);function W(...t){let e=j_;for(const n of t)e=e.add(n);return e}const U_=new se(H);function Bu(){return U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n)),new ua(U.min(),r,Bu(),xt(),W())}}class ca{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ca(Me.EMPTY_BYTE_STRING,n,W(),W(),W())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class U1{constructor(e,n){this.targetId=e,this.At=n}}class z1{constructor(e,n,r=Me.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zg{constructor(){this.Rt=0,this.bt=Kg(),this.Pt=Me.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=W(),n=W(),r=W();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new ca(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=Kg()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class z_{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=xt(),this.qt=qg(),this.Kt=new se(H)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(Gl(s))if(r===0){const o=new R(s.path);this.jt(n,o,le.newNoDocument(o,U.min()))}else z(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Gl(a.target)){const l=new R(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,le.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=W();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new ua(e,n,this.Kt,this.Ut,r);return this.Ut=xt(),this.qt=qg(),this.Kt=new se(H),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new zg,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new se(H),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new zg),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function qg(){return new Ie(R.comparator)}function Kg(){return new Ie(R.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),K_=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class G_{constructor(e,n){this.databaseId=e,this.gt=n}}function Lo(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q1(t,e){return t.gt?e.toBase64():e.toUint8Array()}function H_(t,e){return Lo(t,e.toTimestamp())}function Ue(t){return z(!!t),U.fromTimestamp(function(e){const n=ir(e);return new ye(n.seconds,n.nanos)}(t))}function Yf(t,e){return function(n){return new ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function K1(t){const e=ee.fromString(t);return z(Z1(e)),e}function Mo(t,e){return Yf(t.databaseId,e.path)}function ln(t,e){const n=K1(e);if(n.get(1)!==t.databaseId.projectId)throw new N(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new N(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(H1(n))}function ud(t,e){return Yf(t.databaseId,e)}function G1(t){const e=K1(t);return e.length===4?ee.emptyPath():H1(e)}function Fo(t){return new ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H1(t){return z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gg(t,e,n){return{name:Mo(t,e),fields:n.value.mapValue.fields}}function W1(t,e,n){const r=ln(t,e.name),i=Ue(e.updateTime),s=new We({mapValue:{fields:e.fields}}),o=le.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function W_(t,e){return"found"in e?function(n,r){z(!!r.found),r.found.name,r.found.updateTime;const i=ln(n,r.found.name),s=Ue(r.found.updateTime),o=new We({mapValue:{fields:r.found.fields}});return le.newFoundDocument(i,s,o)}(t,e):"missing"in e?function(n,r){z(!!r.missing),z(!!r.readTime);const i=ln(n,r.missing),s=Ue(r.readTime);return le.newNoDocument(i,s)}(t,e):V()}function Q_(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:V()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(z(u===void 0||typeof u=="string"),Me.fromBase64String(u||"")):(z(u===void 0||u instanceof Uint8Array),Me.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?T.UNKNOWN:F1(l.code);return new N(u,l.message||"")}(o);n=new z1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ln(t,r.document.name),s=Ue(r.document.updateTime),o=new We({mapValue:{fields:r.document.fields}}),a=le.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new ol(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ln(t,r.document),s=r.readTime?Ue(r.readTime):U.min(),o=le.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ol([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ln(t,r.document),s=r.removedTargetIds||[];n=new ol([],s,i,null)}else{if(!("filter"in e))return V();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new F_(i),o=r.targetId;n=new U1(o,s)}}return n}function Vo(t,e){let n;if(e instanceof fs)n={update:Gg(t,e.key,e.value)};else if(e instanceof ps)n={delete:Mo(t,e.key)};else if(e instanceof _n)n={update:Gg(t,e.key,e.data),updateMask:nC(e.fieldMask)};else{if(!(e instanceof Qf))return V();n={verify:Mo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ji)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Jr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zi)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:H_(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:V()}(t,e.precondition)),n}function cd(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?ge.updateTime(Ue(i.updateTime)):i.exists!==void 0?ge.exists(i.exists):ge.none()}(e.currentDocument):ge.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)z(o.setToServerValue==="REQUEST_TIME"),a=new Ji;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new Jr(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new Zr(u)}else"increment"in o?a=new Zi(s,o.increment):V();const l=Ce.fromServerFormat(o.fieldPath);return new la(l,a)}(t,i)):[];if(e.update){e.update.name;const i=ln(t,e.update.name),s=new We({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Ct(l.map(u=>Ce.fromServerFormat(u)))}(e.updateMask);return new _n(i,s,o,n,r)}return new fs(i,s,n,r)}if(e.delete){const i=ln(t,e.delete);return new ps(i,n)}if(e.verify){const i=ln(t,e.verify);return new Qf(i,n)}return V()}function Y_(t,e){return t&&t.length>0?(z(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ue(r.updateTime):Ue(i);return s.isEqual(U.min())&&(s=Ue(i)),new P_(s,r.transformResults||[])}(n,e))):[]}function Q1(t,e){return{documents:[ud(t,e.path)]}}function Y1(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ud(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ud(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(Dg(h.value))return{unaryFilter:{field:mi(h.field),op:"IS_NAN"}};if(Ng(h.value))return{unaryFilter:{field:mi(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Dg(h.value))return{unaryFilter:{field:mi(h.field),op:"IS_NOT_NAN"}};if(Ng(h.value))return{unaryFilter:{field:mi(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mi(h.field),op:Z_(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:mi(c.field),direction:J_(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||sa(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function X1(t){let e=G1(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){z(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=J1(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Vi(Ai(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,sa(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new ar(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new ar(d,h)}(n.endAt)),I1(e,i,o,s,a,"F",l,u)}function X_(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function J1(t){return t?t.unaryFilter!==void 0?[tC(t)]:t.fieldFilter!==void 0?[eC(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>J1(e)).reduce((e,n)=>e.concat(n)):V():[]}function J_(t){return q_[t]}function Z_(t){return K_[t]}function mi(t){return{fieldPath:t.canonicalString()}}function Ai(t){return Ce.fromServerFormat(t.fieldPath)}function eC(t){return Qe.create(Ai(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(t.fieldFilter.op),t.fieldFilter.value)}function tC(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ai(t.unaryFilter.field);return Qe.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ai(t.unaryFilter.field);return Qe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ai(t.unaryFilter.field);return Qe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ai(t.unaryFilter.field);return Qe.create(i,"!=",{nullValue:"NULL_VALUE"});default:return V()}}function nC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Z1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hg(e)),e=rC(t.get(n),e);return Hg(e)}function rC(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Hg(t){return t+""}function sn(t){const e=t.length;if(z(e>=2),e===2)return z(t.charAt(0)===""&&t.charAt(1)===""),ee.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&V(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:V()}s=o+2}return new ee(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t,e){return[t,dt(e)]}function ex(t,e,n){return[t,dt(e),n]}const iC={},sC=["prefixPath","collectionGroup","readTime","documentId"],oC=["prefixPath","collectionGroup","documentId"],aC=["collectionGroup","readTime","prefixPath","documentId"],lC=["canonicalId","targetId"],uC=["targetId","path"],cC=["path","targetId"],hC=["collectionId","parent"],dC=["indexId","uid"],fC=["uid","sequenceNumber"],pC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mC=["indexId","uid","orderedDocumentKey"],gC=["userId","collectionPath","documentId"],yC=["userId","collectionPath","largestBatchId"],vC=["userId","collectionGroup","largestBatchId"],tx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wC=[...tx,"documentOverlays"],nx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rx=nx,xC=[...rx,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends y1{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function qe(t,e){const n=P(t);return Qt.O(n.ie,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&L_(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=no(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=no(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=j1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=P1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),W())}isEqual(e){return this.batchId===e.batchId&&Yi(this.mutations,e.mutations,(n,r)=>Bg(n,r))&&Yi(this.baseMutations,e.baseMutations,(n,r)=>Bg(n,r))}}class Jf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){z(e.mutations.length===r.length);let i=B_;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Jf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,r,i,s=U.min(),o=U.min(),a=Me.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Xn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.re=e}}function EC(t,e){let n;if(e.document)n=W1(t.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=R.fromSegments(e.noDocument.path),i=ti(e.noDocument.readTime);n=le.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return V();{const r=R.fromSegments(e.unknownDocument.path),i=ti(e.unknownDocument.version);n=le.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new ye(r[0],r[1]);return U.fromTimestamp(i)}(e.readTime)),n}function Qg(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ql(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:Mo(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Lo(i,s.version.toTimestamp())}}(t.re,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ei(e.version)};else{if(!e.isUnknownDocument())return V();r.unknownDocument={path:n.path.toArray(),version:ei(e.version)}}return r}function Ql(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ei(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ti(t){const e=new ye(t.seconds,t.nanoseconds);return U.fromTimestamp(e)}function _r(t,e){const n=(e.baseMutations||[]).map(s=>cd(t.re,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>cd(t.re,s)),i=ye.fromMillis(e.localWriteTimeMs);return new Xf(e.batchId,i,n,r)}function zs(t){const e=ti(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ti(t.lastLimboFreeSnapshotVersion):U.min();let r;var i;return t.query.documents!==void 0?(z((i=t.query).documents.length===1),r=It(ds(G1(i.documents[0])))):r=function(s){return It(X1(s))}(t.query),new Xn(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Me.fromBase64String(t.resumeToken))}function sx(t,e){const n=ei(e.snapshotVersion),r=ei(e.lastLimboFreeSnapshotVersion);let i;i=Gl(e.target)?Q1(t.re,e.target):Y1(t.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xr(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ep(t){const e=X1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wl(e,e.limit,"L"):e}function Uc(t,e){return new Zf(e.largestBatchId,cd(t.re,e.overlayMutation))}function Yg(t,e){const n=e.path.lastSegment();return[t,dt(e.path.popLast()),n]}function Xg(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:ei(r.readTime),documentKey:dt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{getBundleMetadata(e,n){return Jg(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ti(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return Jg(e).put({bundleId:(r=n).id,createTime:ei(Ue(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return Zg(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:ep(i.bundledQuery),readTime:ti(i.readTime)};var i})}saveNamedQuery(e,n){return Zg(e).put(function(r){return{name:r.name,readTime:ei(Ue(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function Jg(t){return qe(t,"bundles")}function Zg(t){return qe(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){const r=n.uid||"";return new ju(e,r)}getOverlay(e,n){return Ds(e).get(Yg(this.userId,n)).next(r=>r?Uc(this.It,r):null)}getOverlays(e,n){const r=rn();return S.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Zf(n,o);i.push(this.ue(e,a))}),S.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(dt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ds(e).Y("collectionPathOverlayIndex",a))}),S.waitFor(s)}getOverlaysForCollection(e,n,r){const i=rn(),s=dt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ds(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Uc(this.It,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=rn();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ds(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const h=Uc(this.It,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):c.done()}).next(()=>s)}ue(e,n){return Ds(e).put(function(r,i,s){const[o,a,l]=Yg(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Vo(r.re,s.mutation)}}(this.It,this.userId,n))}}function Ds(t){return qe(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Se(e.integerValue));else if("doubleValue"in e){const r=Se(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),$o(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),typeof r=="string"?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Wr(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?E1(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):V()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const i of Object.keys(r))this._e(i,n),this.ae(r[i],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const i of r)this.ae(i,n)}ge(e,n){this.le(n,37),R.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}Cr.Te=new Cr;function SC(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function ey(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=SC(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class IC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ae(r.value),r=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Pe(r.value),r=n.next();this.ve()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=n.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=n.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const n=this.Ce(e),r=ey(n);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ne(e){const n=this.Ce(e),r=ey(n);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ae(e){const n=255&e;n===0?(this.Me(0),this.Me(255)):n===255?(this.Me(255),this.Me(0)):this.Me(n)}Pe(e){const n=255&e;n===0?(this.Fe(0),this.Fe(255)):n===255?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kC{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class TC{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class As{constructor(){this.Be=new IC,this.Le=new kC(this.Be),this.Ue=new TC(this.Be)}seed(e){this.Be.seed(e)}qe(e){return e===0?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Nr(this.indexId,this.documentKey,this.arrayValue,r)}}function xr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=ty(t.arrayValue,e.arrayValue),n!==0?n:(n=ty(t.directionalValue,e.directionalValue),n!==0?n:R.comparator(t.documentKey,e.documentKey)))}function ty(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const r=n;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const n=sd(e);if(n!==void 0&&!this.ze(n))return!1;const r=kr(e);let i=0,s=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(this.je!==void 0){const o=r[i];if(!this.He(this.je,o)||!this.Je(this.Ge[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ge.length||!this.Je(this.Ge[s++],o))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.Ye=new tp}addToCollectionParentIndex(e,n){return this.Ye.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(At.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(At.min())}updateCollectionGroup(e,n,r){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class tp{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new se(ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new se(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Uint8Array(0);class NC{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new tp,this.Ze=new vr(r=>Xr(r),(r,i)=>oa(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const s={collectionId:r,parent:dt(i)};return ny(e).put(s)}return S.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[d1(n),""],!1,!0);return ny(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(sn(o.parent))}return r})}addFieldIndex(e,n){const r=za(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=$s(e);return s.next(a=>{o.put(Xg(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=za(e),i=$s(e),s=Os(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Os(e);let i=!0;const s=new Map;return S.forEach(this.tn(n),o=>this.en(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=W();const a=[];return S.forEach(s,(l,u)=>{var c;D("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(y=>`${y.fieldPath}:${y.kind}`).join(",")}`} to execute ${Xr(n)}`);const h=function(y,b){const I=sd(b);if(I===void 0)return null;for(const v of Hl(y,I.fieldPath))switch(v.op){case"array-contains-any":return v.value.arrayValue.values||[];case"array-contains":return[v.value]}return null}(u,l),d=function(y,b){const I=new Map;for(const v of kr(b))for(const w of Hl(y,v.fieldPath))switch(w.op){case"==":case"in":I.set(v.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return I.set(v.fieldPath.canonicalString(),w.value),Array.from(I.values())}return null}(u,l),f=function(y,b){const I=[];let v=!0;for(const w of kr(b)){const E=w.kind===0?Rg(y,w.fieldPath,y.startAt):Pg(y,w.fieldPath,y.startAt);I.push(E.value),v&&(v=E.inclusive)}return new ar(I,v)}(u,l),m=function(y,b){const I=[];let v=!0;for(const w of kr(b)){const E=w.kind===0?Pg(y,w.fieldPath,y.endAt):Rg(y,w.fieldPath,y.endAt);I.push(E.value),v&&(v=E.inclusive)}return new ar(I,v)}(u,l),k=this.nn(l,u,f),C=this.nn(l,u,m),g=this.sn(l,u,d),p=this.rn(l.indexId,h,k,f.inclusive,C,m.inclusive,g);return S.forEach(p,y=>r.J(y,n.limit).next(b=>{b.forEach(I=>{const v=R.fromSegments(I.documentKey);o.has(v)||(o=o.add(v),a.push(v))})}))}).next(()=>a)}return S.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let h=0;h<l;++h){const d=n?this.on(n[h/u]):Ua,f=this.un(e,d,r[h%u],i),m=this.cn(e,d,s[h%u],o),k=a.map(C=>this.un(e,d,C,!0));c.push(...this.createRange(f,m,k))}return c}un(e,n,r,i){const s=new Nr(e,R.empty(),n,r);return i?s:s.Ke()}cn(e,n,r,i){const s=new Nr(e,R.empty(),n,r);return i?s.Ke():s}en(e,n){const r=new _C(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.We(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;return S.forEach(this.tn(n),i=>this.en(e,i).next(s=>{s?r!==0&&s.fields.length<function(o){let a=new se(Ce.comparator),l=!1;for(const u of o.filters){const c=u;c.field.isKeyField()||(c.op==="array-contains"||c.op==="array-contains-any"?l=!0:a=a.add(c.field))}for(const u of o.orderBy)u.field.isKeyField()||(a=a.add(u.field));return a.size+(l?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,n){const r=new As;for(const i of kr(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.qe(i.kind);Cr.Te.ce(s,o)}return r.$e()}on(e){const n=new As;return Cr.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const r=new As;return Cr.Te.ce(Yr(this.databaseId,n),r.qe(function(i){const s=kr(i);return s.length===0?0:s[s.length-1].kind}(e))),r.$e()}sn(e,n,r){if(r===null)return[];let i=[];i.push(new As);let s=0;for(const o of kr(e)){const a=r[s++];for(const l of i)if(this.ln(n,o.fieldPath)&&Po(a))i=this.fn(i,o,a);else{const u=l.qe(o.kind);Cr.Te.ce(a,u)}}return this.dn(i)}nn(e,n,r){return this.sn(e,n,r.position)}dn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].$e();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new As;l.seed(a.$e()),Cr.Te.ce(o,l.qe(n.kind)),s.push(l)}return s}ln(e,n){return!!e.filters.find(r=>r instanceof Qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=za(e),i=$s(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return S.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const h=c?new Kl(c.sequenceNumber,new At(ti(c.readTime),new R(sn(c.documentKey)),c.largestBatchId)):Kl.empty(),d=u.fields.map(([f,m])=>new h_(Ce.fromServerFormat(f),m));return new f1(u.indexId,u.collectionGroup,d,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:H(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=za(e),s=$s(e);return this._n(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>S.forEach(a,l=>s.put(Xg(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return S.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?S.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),S.forEach(a,l=>this.wn(e,i,l).next(u=>{const c=this.mn(s,l);return u.isEqual(c)?S.resolve():this.gn(e,s,l,u,c)}))))})}yn(e,n,r,i){return Os(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,n.key),documentKey:n.key.path.toArray()})}pn(e,n,r,i){return Os(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Os(e);let s=new se(xr);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,n)])},(o,a)=>{s=s.add(new Nr(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}mn(e,n){let r=new se(xr);const i=this.an(n,e);if(i==null)return r;const s=sd(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Po(o))for(const a of o.arrayValue.values||[])r=r.add(new Nr(n.indexId,e.key,this.on(a),i))}else r=r.add(new Nr(n.indexId,e.key,Ua,i));return r}gn(e,n,r,i,s){D("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,h){const d=a.getIterator(),f=l.getIterator();let m=pi(d),k=pi(f);for(;m||k;){let C=!1,g=!1;if(m&&k){const p=u(m,k);p<0?g=!0:p>0&&(C=!0)}else m!=null?g=!0:C=!0;C?(c(k),k=pi(f)):g?(h(m),m=pi(d)):(m=pi(d),k=pi(f))}}(i,s,xr,a=>{o.push(this.yn(e,n,r,a))},a=>{o.push(this.pn(e,n,r,a))}),S.waitFor(o)}_n(e){let n=1;return $s(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>xr(o,a)).filter((o,a,l)=>!a||xr(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=xr(o,e),l=xr(o,n);if(a===0)i[0]=e.Ke();else if(a>0&&l<0)i.push(o),i.push(o.Ke());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Ua,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Ua,[]]));return s}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ry)}getMinOffset(e,n){return S.mapArray(this.tn(n),r=>this.en(e,r).next(i=>i||V())).next(ry)}}function ny(t){return qe(t,"collectionParents")}function Os(t){return qe(t,"indexEntries")}function za(t){return qe(t,"indexConfiguration")}function $s(t){return qe(t,"indexState")}function ry(t){z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Uf(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new At(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mt(e,mt.DEFAULT_COLLECTION_PERCENTILE,mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,h,d)=>(a++,d.delete()));s.push(l.next(()=>{z(a===1)}));const u=[];for(const c of n.mutations){const h=ex(e,c.key.path,n.batchId);s.push(i.delete(h)),u.push(c.key)}return S.waitFor(s).next(()=>u)}function Yl(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw V();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mt.DEFAULT_COLLECTION_PERCENTILE=10,mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mt.DEFAULT=new mt(41943040,mt.DEFAULT_COLLECTION_PERCENTILE,mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mt.DISABLED=new mt(-1,0,0);class Uu{constructor(e,n,r,i){this.userId=e,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,n,r,i){z(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Uu(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dn(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=yi(e),o=Dn(e);return o.add({}).next(a=>{z(typeof a=="number");const l=new Xf(a,n,r,i),u=function(d,f,m){const k=m.baseMutations.map(g=>Vo(d.re,g)),C=m.mutations.map(g=>Vo(d.re,g));return{userId:f,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:k,mutations:C}}(this.It,this.userId,l),c=[];let h=new se((d,f)=>H(d.canonicalString(),f.canonicalString()));for(const d of i){const f=ex(this.userId,d.key.path,a);h=h.add(d.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,iC))}return h.forEach(d=>{c.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.In[a]=l.keys()}),S.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Dn(e).get(n).next(r=>r?(z(r.userId===this.userId),_r(this.It,r)):null)}Tn(e,n){return this.In[n]?S.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Dn(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(z(a.batchId>=r),s=_r(this.It,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Dn(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dn(e).W("userMutationsIndex",n).next(r=>r.map(i=>_r(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=al(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return yi(e).Z({range:i},(o,a,l)=>{const[u,c,h]=o,d=sn(c);if(u===this.userId&&n.path.isEqual(d))return Dn(e).get(h).next(f=>{if(!f)throw V();z(f.userId===this.userId),s.push(_r(this.It,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new se(H);const i=[];return n.forEach(s=>{const o=al(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=yi(e).Z({range:a},(u,c,h)=>{const[d,f,m]=u,k=sn(f);d===this.userId&&s.path.isEqual(k)?r=r.add(m):h.done()});i.push(l)}),S.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=al(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new se(H);return yi(e).Z({range:o},(l,u,c)=>{const[h,d,f]=l,m=sn(d);h===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(f)):c.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Dn(e).get(s).next(o=>{if(o===null)throw V();z(o.userId===this.userId),r.push(_r(this.It,o))}))}),S.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return ox(e.ie,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),S.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return S.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return yi(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=sn(s[1]);i.push(l)}else a.done()}).next(()=>{z(i.length===0)})})}containsKey(e,n){return ax(e,this.userId,n)}Rn(e){return lx(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ax(t,e,n){const r=al(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return yi(t).Z({range:s,X:!0},(a,l,u)=>{const[c,h,d]=a;c===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function Dn(t){return qe(t,"mutations")}function yi(t){return qe(t,"documentMutations")}function lx(t){return qe(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ni(0)}static vn(){return new ni(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new ni(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>U.fromTimestamp(new ye(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>gi(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(z(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return gi(e).Z((o,a)=>{const l=zs(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>S.waitFor(s)).next(()=>i)}forEachTarget(e,n){return gi(e).Z((r,i)=>{const s=zs(i);n(s)})}Vn(e){return sy(e).get("targetGlobalKey").next(n=>(z(n!==null),n))}Sn(e,n){return sy(e).put("targetGlobalKey",n)}Dn(e,n){return gi(e).put(sx(this.It,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Xr(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return gi(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=zs(a);oa(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ln(e);return n.forEach(o=>{const a=dt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),S.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ln(e);return S.forEach(n,s=>{const o=dt(s.path);return S.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ln(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ln(e);let s=W();return i.Z({range:r,X:!0},(o,a,l)=>{const u=sn(o[1]),c=new R(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=dt(n.path),i=IDBKeyRange.bound([r],[d1(r)],!1,!0);let s=0;return Ln(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}se(e,n){return gi(e).get(n).next(r=>r?zs(r):null)}}function gi(t){return qe(t,"targets")}function sy(t){return qe(t,"targetGlobal")}function Ln(t){return qe(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy([t,e],[n,r]){const i=H(t,n);return i===0?H(e,r):i}class AC{constructor(e){this.xn=e,this.buffer=new se(oy),this.Nn=0}kn(){return++this.Nn}Mn(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();oy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.On=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return this.On!==null}Fn(e){D("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yr(n)?D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await gr(n)}await this.Fn(3e5)})}}class $C{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return S.resolve(wt.at);const r=new AC(n);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(D("LruGarbageCollector","Garbage collection skipped; disabled"),S.resolve(iy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iy):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),id()<=re.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),S.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new $C(r,i)}(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}qn(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return qa(e,r)}removeReference(e,n,r){return qa(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return qa(e,n)}Gn(e,n){return function(r,i){let s=!1;return lx(r).tt(o=>ax(r,o,i).next(a=>(a&&(s=!0),S.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,a)=>{if(a<=n){const l=this.Gn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,U.min()),Ln(e).delete([0,dt(o.path)])))});i.push(l)}}).next(()=>S.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return qa(e,n)}Kn(e,n){const r=Ln(e);let i,s=wt.at;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==wt.at&&n(new R(sn(i)),s),s=u,i=l):s=wt.at}).next(()=>{s!==wt.at&&n(new R(sn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qa(t,e){return Ln(t).put(function(n,r){return{targetId:0,path:dt(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,le.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?S.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Er(e).put(r)}removeEntry(e,n,r){return Er(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Ql(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=le.newInvalidDocument(n);return Er(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Rs(n))},(i,s)=>{r=this.jn(n,s)}).next(()=>r)}Wn(e,n){let r={size:0,document:le.newInvalidDocument(n)};return Er(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Rs(n))},(i,s)=>{r={document:this.jn(n,s),size:Yl(s)}}).next(()=>r)}getEntries(e,n){let r=xt();return this.zn(e,n,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,n){let r=xt(),i=new Ie(R.comparator);return this.zn(e,n,(s,o)=>{const a=this.jn(s,o);r=r.insert(s,a),i=i.insert(s,Yl(o))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return S.resolve();let i=new se(uy);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Rs(i.first()),Rs(i.last())),o=i.getIterator();let a=o.getNext();return Er(e).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const h=R.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&uy(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.j(Rs(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),Ql(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Er(e).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=xt();for(const l of o){const u=this.jn(R.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);a=a.insert(u.key,u)}return a})}getAllFromCollectionGroup(e,n,r,i){let s=xt();const o=ly(n,r),a=ly(n,At.max());return Er(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const h=this.jn(R.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new LC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return ay(e).get("remoteDocumentGlobalKey").next(n=>(z(!!n),n))}Qn(e,n){return ay(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=EC(this.It,n);if(!(r.isNoDocument()&&r.version.isEqual(U.min())))return r}return le.newInvalidDocument(e)}}function cx(t){return new PC(t)}class LC extends ux{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new vr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new se((s,o)=>H(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Xn.get(s);if(n.push(this.Yn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=Qg(this.Yn.It,o);i=i.add(s.path.popLast()),r+=Yl(l)-a.size,n.push(this.Yn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=Qg(this.Yn.It,o.convertToNoDocument(U.min()));n.push(this.Yn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Yn.updateMetadata(e,r)),S.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function ay(t){return qe(t,"remoteDocumentGlobal")}function Er(t){return qe(t,"remoteDocumentsV14")}function Rs(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ly(t,e){const n=e.documentKey.path.toArray();return[t,Ql(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function uy(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=H(n[s],r[s]),i)return i;return i=H(n.length,r.length),i||(i=H(n[n.length-2],r[r.length-2]),i||H(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&no(r.mutation,i,Ct.empty(),ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,W()).next(()=>r))}getLocalViewOfDocuments(e,n,r=W()){const i=rn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Us();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=rn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,W()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xt();const o=ro(),a=ro();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof _n)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),no(c.mutation,u,c.mutation.getFieldMask(),ye.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new MC(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ro();let i=new Ie((o,a)=>o-a),s=W();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ct.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||W()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=j1();c.forEach(d=>{if(!s.has(d)){const f=P1(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return S.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return R.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hf(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):S.resolve(rn());let a=-1,l=s;return o.next(u=>S.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?S.resolve():this.getBaseDocument(e,c,h).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,W())).next(c=>({batchId:a,changes:B1(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=Us();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Us();return this.indexManager.getCollectionParents(e,i).next(o=>S.forEach(o,a=>{const l=function(u,c){return new Tn(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,le.newInvalidDocument(u)))});let o=Us();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&no(u.mutation,l,Ct.empty(),ye.now()),Wf(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):S.resolve(le.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return S.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ue(r.createTime)}),S.resolve()}getNamedQuery(e,n){return S.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:ep(r.bundledQuery),readTime:Ue(r.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.overlays=new Ie(R.comparator),this.es=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rn();return S.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),S.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),S.resolve()}getOverlaysForCollection(e,n,r){const i=rn(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return S.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ie((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=rn(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=rn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return S.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zf(n,r));let s=this.es.get(n);s===void 0&&(s=W(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.ns=new se(Fe.ss),this.rs=new se(Fe.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Fe(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Fe(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new R(new ee([])),r=new Fe(n,e),i=new Fe(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new R(new ee([])),r=new Fe(n,e),i=new Fe(n,e+1);let s=W();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Fe(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fe{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return R.comparator(e.key,n.key)||H(e._s,n._s)}static os(e,n){return H(e._s,n._s)||R.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new se(Fe.ss)}checkEmpty(e){return S.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Xf(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Fe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return S.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new se(H);return n.forEach(i=>{const s=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),S.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new Fe(new R(s),0);let a=new se(H);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),S.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){z(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return S.forEach(n.mutations,i=>{const s=new Fe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Fe(n,0),i=this.gs.firstAfterOrEqual(r);return S.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,S.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.Es=e,this.docs=new Ie(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return S.resolve(r?r.document.mutableCopy():le.newInvalidDocument(n))}getEntries(e,n){let r=xt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():le.newInvalidDocument(i))}),S.resolve(r)}getAllFromCollection(e,n,r){let i=xt();const s=new R(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||Uf(m1(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return S.resolve(i)}getAllFromCollectionGroup(e,n,r,i){V()}As(e,n){return S.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UC(this)}getSize(e){return S.resolve(this.size)}}class UC extends ux{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),S.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.persistence=e,this.Rs=new vr(n=>Xr(n),oa),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.bs=0,this.Ps=new np,this.targetCount=0,this.vs=ni.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),S.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ni(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.Dn(n),S.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),S.waitFor(s).next(()=>i)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return S.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),S.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),S.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return S.resolve(r)}containsKey(e,n){return S.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new wt(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new zC(this),this.indexManager=new CC,this.remoteDocumentCache=function(r){return new jC(r)}(r=>this.referenceDelegate.xs(r)),this.It=new ix(n),this.Ns=new FC(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new BC(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new qC(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return S.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class qC extends y1{constructor(e){super(),this.currentSequenceNumber=e}}class zu{constructor(e){this.persistence=e,this.Fs=new np,this.$s=null}static Bs(e){return new zu(e)}get Ls(){if(this.$s)return this.$s;throw V()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),S.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),S.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Ls,r=>{const i=R.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return S.or([()=>S.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.It=e}$(e,n,r,i){const s=new Mu("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wg,{unique:!0}),a.createObjectStore("documentMutations")}(e),cy(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=S.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),cy(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:U.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").W().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wg,{unique:!0});const c=l.store("mutations"),h=u.map(d=>c.put(d));return S.waitFor(h)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.qs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:gC});l.createIndex("collectionPathOverlayIndex",yC,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",vC,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:sC});l.createIndex("documentKeyIndex",oC),l.createIndex("collectionGroupIndex",aC)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:dC}).createIndex("sequenceNumberIndex",fC,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:pC}).createIndex("documentKeyIndex",mC,{unique:!1})}(e))),o}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Yl(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>S.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>S.forEach(a,l=>{z(l.userId===s.userId);const u=_r(this.It,l);return ox(e,s.userId,u).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new ee(o),u=function(c){return[0,dt(c)]}(l);s.push(n.get(u).next(c=>c?S.resolve():(h=>n.put({targetId:0,path:dt(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>S.waitFor(s))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:hC});const r=n.store("collectionParents"),i=new tp,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:dt(l)})}};return n.store("remoteDocuments").Z({X:!0},(o,a)=>{const l=new ee(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([o,a,l],u)=>{const c=sn(a);return s(c.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const s=zs(i),o=sx(this.It,s);return n.put(o)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new R(ee.fromString(u.document.name).popFirst(5)):u.noDocument?R.fromSegments(u.noDocument.path):u.unknownDocument?R.fromSegments(u.unknownDocument.path):V()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>S.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=cx(this.It),s=new dx(zu.Bs,this.It.re);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:W();_r(this.It,l).keys().forEach(h=>c=c.add(h)),a.set(l.userId,c)}),S.forEach(a,(l,u)=>{const c=new Be(u),h=ju.oe(this.It,c),d=s.getIndexManager(c),f=Uu.oe(c,this.It,d,s.referenceDelegate);return new hx(i,f,h,d).recalculateAndSaveOverlaysForDocumentKeys(new hd(n,wt.at),l).next()})})}}function cy(t){t.createObjectStore("targetDocuments",{keyPath:uC}).createIndex("documentTargetsIndex",cC,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lC,{unique:!0}),t.createObjectStore("targetGlobal")}const zc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rp{constructor(e,n,r,i,s,o,a,l,u,c,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=s,this.window=o,this.document=a,this.Js=u,this.Ys=c,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=d=>Promise.resolve(),!rp.C())throw new N(T.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RC(this,i),this.ii=n+"main",this.It=new ix(l),this.ri=new Qt(this.ii,this.Xs,new KC(this.It)),this.Cs=new DC(this.referenceDelegate,this.It),this.remoteDocumentCache=cx(this.It),this.Ns=new bC,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,c===!1&&_e("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new N(T.FAILED_PRECONDITION,zc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new wt(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ka(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(yr(e))return D("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ps(e).get("owner").next(n=>S.resolve(this.mi(n)))}gi(e){return Ka(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=qe(n,"clientMetadata");return r.W().next(i=>{const s=this.Ii(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return S.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.oi)for(const n of e)this.oi.removeItem(this.Ti(n.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?S.resolve(!0):Ps(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new N(T.FAILED_PRECONDITION,zc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ka(e).W().next(r=>this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&D("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new hd(e,wt.at);return this._i(n).next(()=>this.gi(n))}),this.ri.close(),this.Pi()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Ka(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Uu.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new NC(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return ju.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){D("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Xs)===15?xC:o===14?rx:o===13?nx:o===12?wC:o===11?tx:void V();var o;let a;return this.ri.runTransaction(e,i,s,l=>(a=new hd(l,this.Ss?this.Ss.next():wt.at),n==="readwrite-primary"?this.fi(a).next(u=>!!u||this.di(a)).next(u=>{if(!u)throw _e(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new N(T.FAILED_PRECONDITION,g1);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Vi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Vi(e){return Ps(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new N(T.FAILED_PRECONDITION,zc)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ps(e).put("owner",n)}static C(){return Qt.C()}_i(e){const n=Ps(e);return n.get("owner").next(r=>this.mi(r)?(D("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):S.resolve())}pi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(_e(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),kI()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=((n=this.oi)===null||n===void 0?void 0:n.getItem(this.Ti(e)))!==null;return D("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _e("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){_e("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ps(t){return qe(t,"owner")}function Ka(t){return qe(t,"clientMetadata")}function ip(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=W(),i=W();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Mi(e,n,i,r)).next(s=>s||this.Oi(e,n))}ki(e,n){if(Fg(n))return S.resolve(null);let r=It(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wl(n,null,"F"),r=It(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=W(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,Wl(n,null,"F")):this.Bi(e,u,n,l)}))})))}Mi(e,n,r,i){return Fg(n)||i.isEqual(U.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Oi(e,n):(id()<=re.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ld(n)),this.Bi(e,o,n,p1(i,-1)))})}Fi(e,n){let r=new se(_1(e));return n.forEach((i,s)=>{Wf(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return id()<=re.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",ld(n)),this.Ni.getDocumentsMatchingQuery(e,n,At.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Ie(H),this.qi=new vr(s=>Xr(s),oa),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function px(t,e,n,r){return new GC(t,e,n,r)}async function mx(t,e){const n=P(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=W();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function HC(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=S.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(m=>{const k=l.docVersions.get(f);z(k!==null),m.version.compareTo(k)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=W();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gx(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function WC(t,e){const n=P(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(Me.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(m,k,C){return m.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(d,f,c)&&a.push(n.Cs.updateTargetData(s,f))});let l=xt(),u=W();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(yx(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(U.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return S.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function yx(t,e,n){let r=W(),i=W();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xt();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(U.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function QC(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function es(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,S.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Xn(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function ts(t,e,n){const r=P(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yr(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function Xl(t,e,n){const r=P(t);let i=U.min(),s=W();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=P(a),h=c.qi.get(u);return h!==void 0?S.resolve(c.Ui.get(h)):c.Cs.getTargetData(l,u)}(r,o,It(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:W())).next(a=>(xx(r,T1(e),a),{documents:a,Hi:s})))}function vx(t,e){const n=P(t),r=P(n.Cs),i=n.Ui.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.se(s,e).next(o=>o?o.target:null))}function wx(t,e){const n=P(t),r=n.Ki.get(e)||U.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,p1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(xx(n,e,i),i))}function xx(t,e,n){let r=U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}async function YC(t,e,n,r){const i=P(t);let s=W(),o=xt();for(const u of n){const c=e.Ji(u.metadata.name);u.document&&(s=s.add(c));const h=e.Yi(u);h.setReadTime(e.Xi(u.metadata.readTime)),o=o.insert(c,h)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),l=await es(i,function(u){return It(ds(ee.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>yx(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Cs.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Cs.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.Wi,c.zi)).next(()=>c.Wi)))}async function XC(t,e,n=W()){const r=await es(t,It(ep(e.bundledQuery))),i=P(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Ue(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const a=r.withResumeToken(Me.EMPTY_BYTE_STRING,o);return i.Ui=i.Ui.insert(a.targetId,a),i.Cs.updateTargetData(s,a).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}function hy(t,e){return`firestore_clients_${t}_${e}`}function dy(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qc(t,e){return`firestore_targets_${t}_${e}`}class Jl{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new N(i.error.code,i.error.message))),o?new Jl(e,n,i.state,s):(_e("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class io{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new N(r.error.code,r.error.message))),s?new io(e,r.state,i):(_e("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zl{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Bu();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=x1(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Zl(e,s):(_e("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class op{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new op(n.clientId,n.onlineState):(_e("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dd{constructor(){this.activeTargetIds=Bu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kc{constructor(e,n,r,i,s){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ie(H),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=hy(this.persistenceKey,this.sr),this.hr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new dd),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const r of e){if(r===this.sr)continue;const i=this.getItem(hy(this.persistenceKey,r));if(i){const s=Zl.Zi(r,i);s&&(this.ur=this.ur.insert(s.clientId,s))}}this.gr();const n=this.storage.getItem(this.wr);if(n){const r=this.yr(n);r&&this.pr(r)}for(const r of this.cr)this.rr(r);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qc(this.persistenceKey,e));if(r){const i=io.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qc(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return D("SharedClientState","READ",e,n),n}setItem(e,n){D("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){D("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const n=e;if(n.storageArea===this.storage){if(D("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void _e("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.lr.test(n.key)){if(n.newValue==null){const r=this.vr(n.key);return this.Vr(r,null)}{const r=this.Sr(n.key,n.newValue);if(r)return this.Vr(r.clientId,r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Dr(n.key,n.newValue);if(r)return this.Cr(r)}}else if(this._r.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.yr(n.newValue);if(r)return this.pr(r)}}else if(n.key===this.hr){const r=function(i){let s=wt.at;if(i!=null)try{const o=JSON.parse(i);z(typeof o=="number"),s=o}catch(o){_e("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==wt.at&&this.sequenceNumberHandler(r)}else if(n.key===this.mr){const r=this.Mr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Or(i)))}}}else this.cr.push(n)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new Jl(this.currentUser,e,n,r),s=dy(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const n=dy(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){const n={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Rr(e,n,r){const i=qc(this.persistenceKey,e),s=new io(e,n,r);this.setItem(i,s.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return Zl.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Jl.Zi(new Be(s),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return io.Zi(i,n)}yr(e){return op.Zi(e)}Mr(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);D("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Br(o,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Bu();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Ex{constructor(){this.Lr=new dd,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new dd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ao(e,n);D("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(l=>(D("RestConnection","Received: ",l),l),l=>{throw Qi("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+hs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=ZC[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((s,o)=>{const a=new ZT;a.listenOnce(YT.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case jc.NO_ERROR:const u=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(u)),s(u);break;case jc.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),o(new N(T.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const c=a.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(f){const m=f.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(m)>=0?m:T.UNKNOWN}(h.status);o(new N(d,h.message))}else o(new N(T.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new N(T.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=WT(),o=QT(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new JT({})),this.ho(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");D("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const d=new eN({Hr:m=>{h?D("Connection","Not sending because WebChannel is closed:",m):(c||(D("Connection","Opening WebChannel transport."),u.open(),c=!0),D("Connection","WebChannel sending:",m),u.send(m))},Jr:()=>u.close()}),f=(m,k,C)=>{m.listen(k,g=>{try{C(g)}catch(p){setTimeout(()=>{throw p},0)}})};return f(u,Ba.EventType.OPEN,()=>{h||D("Connection","WebChannel transport opened.")}),f(u,Ba.EventType.CLOSE,()=>{h||(h=!0,D("Connection","WebChannel transport closed"),d.io())}),f(u,Ba.EventType.ERROR,m=>{h||(h=!0,Qi("Connection","WebChannel transport errored:",m),d.io(new N(T.UNAVAILABLE,"The operation could not be completed")))}),f(u,Ba.EventType.MESSAGE,m=>{var k;if(!h){const C=m.data[0];z(!!C);const g=C,p=g.error||((k=g[0])===null||k===void 0?void 0:k.error);if(p){D("Connection","WebChannel received error:",p);const y=p.status;let b=function(v){const w=Ne[v];if(w!==void 0)return F1(w)}(y),I=p.message;b===void 0&&(b=T.INTERNAL,I="Unknown error status: "+y+" with message "+p.message),h=!0,d.io(new N(b,I)),u.close()}else D("Connection","WebChannel received:",C),d.ro(C)}}),f(o,XT.STAT_EVENT,m=>{m.stat===Sg.PROXY?D("Connection","Detected buffering proxy"):m.stat===Sg.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return typeof window!="undefined"?window:null}function ll(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){return new G_(t,!0)}class ap{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ap(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(_e(n.toString()),_e("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new N(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nN extends Sx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=Q_(this.It,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?Ue(s.readTime):U.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Fo(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=Gl(a)?{documents:Q1(i,a)}:{query:Y1(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=q1(i,s.resumeToken):s.snapshotVersion.compareTo(U.min())>0&&(o.readTime=Lo(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=X_(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Fo(this.It),n.removeTarget=e,this.Bo(n)}}class rN extends Sx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=Y_(e.writeResults,e.commitTime),r=Ue(e.commitTime);return this.listener.Zo(r,n)}return z(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Fo(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vo(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new N(T.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(T.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new N(T.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class sN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(_e(n),this.ou=!1):D("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{r.enqueueAndForget(async()=>{wr(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=P(a);l._u.add(4),await ms(l),l.gu.set("Unknown"),l._u.delete(4),await da(l)}(this))})}),this.gu=new sN(r,i)}}async function da(t){if(wr(t))for(const e of t.wu)await e(!0)}async function ms(t){for(const e of t.wu)await e(!1)}function qu(t,e){const n=P(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),cp(n)?up(n):ys(n).ko()&&lp(n,e))}function Bo(t,e){const n=P(t),r=ys(n);n.du.delete(e),r.ko()&&Ix(n,e),n.du.size===0&&(r.ko()?r.Fo():wr(n)&&n.gu.set("Unknown"))}function lp(t,e){t.yu.Ot(e.targetId),ys(t).zo(e)}function Ix(t,e){t.yu.Ot(e),ys(t).Ho(e)}function up(t){t.yu=new z_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),ys(t).start(),t.gu.uu()}function cp(t){return wr(t)&&!ys(t).No()&&t.du.size>0}function wr(t){return P(t)._u.size===0}function kx(t){t.yu=void 0}async function aN(t){t.du.forEach((e,n)=>{lp(t,e)})}async function lN(t,e){kx(t),cp(t)?(t.gu.hu(e),up(t)):t.gu.set("Unknown")}async function uN(t,e,n){if(t.gu.set("Online"),e instanceof z1&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await eu(t,r)}else if(e instanceof ol?t.yu.Gt(e):e instanceof U1?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(U.min()))try{const r=await gx(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Me.EMPTY_BYTE_STRING,l.snapshotVersion)),Ix(i,a);const u=new Xn(l.target,a,1,l.sequenceNumber);lp(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await eu(t,r)}}async function eu(t,e,n){if(!yr(e))throw e;t._u.add(1),await ms(t),t.gu.set("Offline"),n||(n=()=>gx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await da(t)})}function Tx(t,e){return e().catch(n=>eu(t,n,e))}async function gs(t){const e=P(t),n=lr(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;cN(e);)try{const i=await QC(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,hN(e,i)}catch(i){await eu(e,i)}_x(e)&&Cx(e)}function cN(t){return wr(t)&&t.fu.length<10}function hN(t,e){t.fu.push(e);const n=lr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function _x(t){return wr(t)&&!lr(t).No()&&t.fu.length>0}function Cx(t){lr(t).start()}async function dN(t){lr(t).eu()}async function fN(t){const e=lr(t);for(const n of t.fu)e.Xo(n.mutations)}async function pN(t,e,n){const r=t.fu.shift(),i=Jf.from(r,e,n);await Tx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gs(t)}async function mN(t,e){e&&lr(t).Yo&&await async function(n,r){if(i=r.code,M1(i)&&i!==T.ABORTED){const s=n.fu.shift();lr(n).Oo(),await Tx(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await gs(n)}var i}(t,e),_x(t)&&Cx(t)}async function py(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=wr(n);n._u.add(3),await ms(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await da(n)}async function fd(t,e){const n=P(t);e?(n._u.delete(2),await da(n)):e||(n._u.add(2),await ms(n),n.gu.set("Unknown"))}function ys(t){return t.pu||(t.pu=function(e,n,r){const i=P(e);return i.su(),new nN(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:aN.bind(null,t),Zr:lN.bind(null,t),Wo:uN.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),cp(t)?up(t):t.gu.set("Unknown")):(await t.pu.stop(),kx(t))})),t.pu}function lr(t){return t.Iu||(t.Iu=function(e,n,r){const i=P(e);return i.su(),new rN(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:dN.bind(null,t),Zr:mN.bind(null,t),tu:fN.bind(null,t),Zo:pN.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await gs(t)):(await t.Iu.stop(),t.fu.length>0&&(D("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new je,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new hp(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vs(t,e){if(_e("AsyncQueue",`${e}: ${t}`),yr(t))return new N(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=Us(),this.sortedSet=new Ie(this.comparator)}static emptySet(e){return new Bi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.Tu=new Ie(R.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):V():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ns{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ns(e,n,Bi.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.Au=void 0,this.listeners=[]}}class yN{constructor(){this.queries=new vr(e=>k1(e),aa),this.onlineState="Unknown",this.Ru=new Set}}async function dp(t,e){const n=P(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new gN),i)try{s.Au=await n.onListen(r)}catch(o){const a=vs(o,`Initialization of query '${ld(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&pp(n)}async function fp(t,e){const n=P(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vN(t,e){const n=P(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&pp(n)}function wN(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function pp(t){t.Ru.forEach(e=>{e.next()})}class mp{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.payload=e,this.byteLength=n}ku(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.It=e}Ji(e){return ln(this.It,e)}Yi(e){return e.metadata.exists?W1(this.It,e.document,!1):le.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ue(e)}}class EN{constructor(e,n,r){this.Mu=e,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Nx(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const r=ee.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Fu(e){const n=new Map,r=new gy(this.It);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||W()).add(s);n.set(o,a)}}return n}async complete(){const e=await YC(this.localStore,new gy(this.It),this.documents,this.Mu.id),n=this.Fu(this.documents);for(const r of this.queries)await XC(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:e}}}function Nx(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.key=e}}class Ax{constructor(e){this.key=e}}class Ox{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=W(),this.mutatedKeys=W(),this.Ku=_1(e),this.Gu=new Bi(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new my,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=Wf(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),k=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let C=!1;d&&f?d.data.isEqual(f.data)?m!==k&&(r.track({type:3,doc:f}),C=!0):this.zu(d,f)||(r.track({type:2,doc:f}),C=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),C=!0):d&&!f&&(r.track({type:1,doc:d}),C=!0,(l||u)&&(a=!0)),C&&(f?(o=o.add(f),s=k?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((u,c)=>function(h,d){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(h)-f(d)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new ns(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new my,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=W(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new Ax(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new Dx(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=W();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return ns.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class bN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SN{constructor(e){this.key=e,this.ec=!1}}class IN{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new vr(a=>k1(a),aa),this.ic=new Map,this.rc=new Set,this.oc=new Ie(R.comparator),this.uc=new Map,this.cc=new np,this.ac={},this.hc=new Map,this.lc=ni.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function kN(t,e){const n=xp(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await es(n.localStore,It(e));n.isPrimaryClient&&qu(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await gp(n,e,r,a==="current")}return i}async function gp(t,e,n,r){t.dc=(c,h,d)=>async function(f,m,k,C){let g=m.view.ju(k);g.$i&&(g=await Xl(f.localStore,m.query,!1).then(({documents:b})=>m.view.ju(b,g)));const p=C&&C.targetChanges.get(m.targetId),y=m.view.applyChanges(g,f.isPrimaryClient,p);return pd(f,m.targetId,y.Yu),y.snapshot}(t,c,h,d);const i=await Xl(t.localStore,e,!0),s=new Ox(e,i.Hi),o=s.ju(i.documents),a=ca.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);pd(t,n,l.Yu);const u=new bN(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}async function TN(t,e){const n=P(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!aa(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ts(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Bo(n.remoteStore,r.targetId),rs(n,r.targetId)}).catch(gr)):(rs(n,r.targetId),await ts(n.localStore,r.targetId,!0))}async function _N(t,e,n){const r=Ep(t);try{const i=await function(s,o){const a=P(s),l=ye.now(),u=o.reduce((d,f)=>d.add(f.key),W());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=xt(),m=W();return a.Gi.getEntries(d,u).next(k=>{f=k,f.forEach((C,g)=>{g.isValidDocument()||(m=m.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(k=>{c=k;const C=[];for(const g of o){const p=M_(g,c.get(g.key).overlayedDocument);p!=null&&C.push(new _n(g.key,p,b1(p.value.mapValue),ge.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,C,o)}).next(k=>{h=k;const C=k.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(d,k.batchId,C)})}).then(()=>({batchId:h.batchId,changes:B1(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ie(H)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Cn(r,i.changes),await gs(r.remoteStore)}catch(i){const s=vs(i,"Failed to persist write");n.reject(s)}}async function $x(t,e){const n=P(t);try{const r=await WC(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?z(o.ec):i.removedDocuments.size>0&&(z(o.ec),o.ec=!1))}),await Cn(n,r,e)}catch(r){await gr(r)}}function yy(t,e,n){const r=P(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=P(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.bu(o)&&(l=!0)}),l&&pp(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CN(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Ie(R.comparator);o=o.insert(s,le.newNoDocument(s,U.min()));const a=W().add(s),l=new ua(U.min(),new Map,new se(H),o,a);await $x(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),wp(r)}else await ts(r.localStore,e,!1).then(()=>rs(r,e,n)).catch(gr)}async function NN(t,e){const n=P(t),r=e.batch.batchId;try{const i=await HC(n.localStore,e);vp(n,r,null),yp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cn(n,i)}catch(i){await gr(i)}}async function DN(t,e,n){const r=P(t);try{const i=await function(s,o){const a=P(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(z(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);vp(r,e,n),yp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cn(r,i)}catch(i){await gr(i)}}async function AN(t,e){const n=P(t);wr(n.remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=P(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.hc.get(r)||[];i.push(e),n.hc.set(r,i)}catch(r){const i=vs(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function yp(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function vp(t,e,n){const r=P(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function rs(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||Rx(t,r)})}function Rx(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(Bo(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),wp(t))}function pd(t,e,n){for(const r of n)r instanceof Dx?(t.cc.addReference(r.key,e),ON(t,r)):r instanceof Ax?(D("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||Rx(t,r.key)):V()}function ON(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(D("SyncEngine","New document in limbo: "+n),t.rc.add(r),wp(t))}function wp(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new R(ee.fromString(e)),r=t.lc.next();t.uc.set(r,new SN(n)),t.oc=t.oc.insert(n,r),qu(t.remoteStore,new Xn(It(ds(n.path)),r,2,wt.at))}}async function Cn(t,e,n){const r=P(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=sp.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.Wo(i),await async function(a,l){const u=P(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>S.forEach(l,h=>S.forEach(h.Si,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>S.forEach(h.Di,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!yr(c))throw c;D("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Ui.get(h),f=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(f);u.Ui=u.Ui.insert(h,m)}}}(r.localStore,s))}async function $N(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await mx(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new N(T.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cn(n,r.ji)}}function RN(t,e){const n=P(t),r=n.uc.get(e);if(r&&r.ec)return W().add(r.key);{let i=W();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}async function PN(t,e){const n=P(t),r=await Xl(n.localStore,e.query,!0),i=e.view.Zu(r);return n.isPrimaryClient&&pd(n,e.targetId,i.Yu),i}async function LN(t,e){const n=P(t);return wx(n.localStore,e).then(r=>Cn(n,r))}async function MN(t,e,n,r){const i=P(t),s=await function(o,a){const l=P(o),u=P(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Tn(c,a).next(h=>h?l.localDocuments.getDocuments(c,h):S.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await gs(i.remoteStore):n==="acknowledged"||n==="rejected"?(vp(i,e,r||null),yp(i,e),function(o,a){P(P(o).mutationQueue).An(a)}(i.localStore,e)):V(),await Cn(i,s)):D("SyncEngine","Cannot apply mutation batch with id: "+e)}async function FN(t,e){const n=P(t);if(xp(n),Ep(n),e===!0&&n.fc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await vy(n,r.toArray());n.fc=!0,await fd(n.remoteStore,!0);for(const s of i)qu(n.remoteStore,s)}else if(e===!1&&n.fc!==!1){const r=[];let i=Promise.resolve();n.ic.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(rs(n,o),ts(n.localStore,o,!0))),Bo(n.remoteStore,o)}),await i,await vy(n,r),function(s){const o=P(s);o.uc.forEach((a,l)=>{Bo(o.remoteStore,l)}),o.cc.fs(),o.uc=new Map,o.oc=new Ie(R.comparator)}(n),n.fc=!1,await fd(n.remoteStore,!1)}}async function vy(t,e,n){const r=P(t),i=[],s=[];for(const o of e){let a;const l=r.ic.get(o);if(l&&l.length!==0){a=await es(r.localStore,It(l[0]));for(const u of l){const c=r.sc.get(u),h=await PN(r,c);h.snapshot&&s.push(h.snapshot)}}else{const u=await vx(r.localStore,o);a=await es(r.localStore,u),await gp(r,Px(u),o,!1)}i.push(a)}return r.nc.Wo(s),i}function Px(t){return I1(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function VN(t){const e=P(t);return P(P(e.localStore).persistence).vi()}async function BN(t,e,n,r){const i=P(t);if(i.fc)return void D("SyncEngine","Ignoring unexpected query state notification.");const s=i.ic.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await wx(i.localStore,T1(s[0])),a=ua.createSynthesizedRemoteEventForCurrentChange(e,n==="current");await Cn(i,o,a);break}case"rejected":await ts(i.localStore,e,!0),rs(i,e,r);break;default:V()}}async function jN(t,e,n){const r=xp(t);if(r.fc){for(const i of e){if(r.ic.has(i)){D("SyncEngine","Adding an already active target "+i);continue}const s=await vx(r.localStore,i),o=await es(r.localStore,s);await gp(r,Px(s),o.targetId,!1),qu(r.remoteStore,o)}for(const i of n)r.ic.has(i)&&await ts(r.localStore,i,!1).then(()=>{Bo(r.remoteStore,i),rs(r,i)}).catch(gr)}}function xp(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$x.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CN.bind(null,e),e.nc.Wo=vN.bind(null,e.eventManager),e.nc._c=wN.bind(null,e.eventManager),e}function Ep(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DN.bind(null,e),e}function UN(t,e,n){const r=P(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(h,d){const f=P(h),m=Ue(d.createTime);return f.persistence.runTransaction("hasNewerBundle","readonly",k=>f.Ns.getBundleMetadata(k,d.id)).then(k=>!!k&&k.createTime.compareTo(m)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(Nx(a));const l=new EN(a,i.localStore,s.It);let u=await s.wc();for(;u;){const h=await l.Ou(u);h&&o._updateProgress(h),u=await s.wc()}const c=await l.complete();return await Cn(i,c.Bu,void 0),await function(h,d){const f=P(h);return f.persistence.runTransaction("Save bundle","readwrite",m=>f.Ns.saveBundleMetadata(m,d))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.$u)}catch(a){return Qi("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Lx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=ha(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return px(this.persistence,new fx,e.initialUser,this.It)}gc(e){return new dx(zu.Bs,this.It)}mc(e){return new Ex}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mx extends Lx{constructor(e,n,r){super(),this.Ec=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ec.initialize(this,e),await Ep(this.Ec.syncEngine),await gs(this.Ec.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}yc(e){return px(this.persistence,new fx,e.initialUser,this.It)}Ic(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new OC(r,e.asyncQueue,n)}Tc(e,n){const r=new m_(n,this.persistence);return new p_(e.asyncQueue,r)}gc(e){const n=ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?mt.withCacheSize(this.cacheSizeBytes):mt.DEFAULT;return new rp(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,bx(),ll(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Ex}}class zN extends Mx{constructor(e,n){super(e,n,!1),this.Ec=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ec.syncEngine;this.sharedClientState instanceof Kc&&(this.sharedClientState.syncEngine={Fr:MN.bind(null,n),$r:BN.bind(null,n),Br:jN.bind(null,n),vi:VN.bind(null,n),Or:LN.bind(null,n)},await this.sharedClientState.start()),await this.persistence.li(async r=>{await FN(this.Ec.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}mc(e){const n=bx();if(!Kc.C(n))throw new N(T.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ip(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kc(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,this.syncEngine),await fd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yN}createDatastore(e){const n=ha(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new tN(i));var i;return function(s,o,a,l){return new iN(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>yy(this.syncEngine,a,0),o=fy.C()?new fy:new JC,new oN(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new IN(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=P(e);D("RemoteStore","RemoteStore shutting down."),n._u.add(5),await ms(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):_e("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.bc=e,this.It=n,this.metadata=new je,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}async getMetadata(){return this.metadata.promise}async wc(){return await this.getMetadata(),this.vc()}async vc(){const e=await this.Vc();if(e===null)return null;const n=this.Pc.decode(e),r=Number(n);isNaN(r)&&this.Sc(`length string (${n}) is not valid number`);const i=await this.Dc(r);return new xN(JSON.parse(i),e.length+r)}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Vc(){for(;this.Cc()<0&&!await this.xc(););if(this.buffer.length===0)return null;const e=this.Cc();e<0&&this.Sc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Dc(e){for(;this.buffer.length<e;)await this.xc()&&this.Sc("Reached the end of bundle when more is expected.");const n=this.Pc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}async xc(){const e=await this.bc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new N(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=P(r),o=Fo(s.It)+"/documents",a={documents:i.map(h=>Mo(s.It,h))},l=await s.fo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(h=>{const d=W_(s.It,h);u.set(d.key.toString(),d)});const c=[];return i.forEach(h=>{const d=u.get(h.toString());z(!!d),c.push(d)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ps(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=R.fromPath(r);this.mutations.push(new Qf(i,this.precondition(i)))}),await async function(n,r){const i=P(n),s=Fo(i.It)+"/documents",o={writes:r.map(a=>Vo(i.It,a))};await i.co("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw V();n=U.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new N(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(U.min())?ge.exists(!1):ge.updateTime(n):ge.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(U.min()))throw new N(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ge.updateTime(n)}return ge.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Nc=r.maxAttempts,this.xo=new ap(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){this.xo.Ao(async()=>{const e=new KN(this.datastore),n=this.Mc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Oc(i)}))}).catch(r=>{this.Oc(r)})})}Mc(e){try{const n=this.updateFunction(e);return!sa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||!M1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=h1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new je;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vs(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fx(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Vx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sp(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>py(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>py(e.remoteStore,s)),t.onlineComponents=e}async function Sp(t){return t.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),await Fx(t,new Lx)),t.offlineComponents}async function Gu(t){return t.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),await Vx(t,new bp)),t.onlineComponents}function Bx(t){return Sp(t).then(e=>e.persistence)}function Ip(t){return Sp(t).then(e=>e.localStore)}function jx(t){return Gu(t).then(e=>e.remoteStore)}function kp(t){return Gu(t).then(e=>e.syncEngine)}async function is(t){const e=await Gu(t),n=e.eventManager;return n.onListen=kN.bind(null,e.syncEngine),n.onUnlisten=TN.bind(null,e.syncEngine),n}function WN(t){return t.asyncQueue.enqueue(async()=>{const e=await Bx(t),n=await jx(t);return e.setNetworkEnabled(!0),function(r){const i=P(r);return i._u.delete(0),da(i)}(n)})}function QN(t){return t.asyncQueue.enqueue(async()=>{const e=await Bx(t),n=await jx(t);return e.setNetworkEnabled(!1),async function(r){const i=P(r);i._u.add(0),await ms(i),i.gu.set("Offline")}(n)})}function YN(t,e){const n=new je;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=P(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new N(T.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=vs(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await Ip(t),e,n)),n.promise}function Ux(t,e,n={}){const r=new je;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Ku({next:h=>{s.enqueueAndForget(()=>fp(i,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new N(T.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new N(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new mp(ds(o.path),u,{includeMetadataChanges:!0,Nu:!0});return dp(i,c)}(await is(t),t.asyncQueue,e,n,r)),r.promise}function XN(t,e){const n=new je;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Xl(r,i,!0),a=new Ox(i,o.Hi),l=a.ju(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=vs(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await Ip(t),e,n)),n.promise}function zx(t,e,n={}){const r=new je;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Ku({next:h=>{s.enqueueAndForget(()=>fp(i,c)),h.fromCache&&a.source==="server"?l.reject(new N(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new mp(o,u,{includeMetadataChanges:!0,Nu:!0});return dp(i,c)}(await is(t),t.asyncQueue,e,n,r)),r.promise}function JN(t,e){const n=new Ku(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){P(r).Ru.add(i),i.next()}(await is(t),n)),()=>{n.Rc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){P(r).Ru.delete(i)}(await is(t),n))}}function ZN(t,e,n){const r=new je;return t.asyncQueue.enqueueAndForget(async()=>{const i=await function(s){return Gu(s).then(o=>o.datastore)}(t);new GN(t.asyncQueue,i,n,e,r).run()}),r.promise}function eD(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,u){return new qN(l,u)}(function(l,u){if(l instanceof Uint8Array)return wy(l,u);if(l instanceof ArrayBuffer)return wy(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,ha(e));t.asyncQueue.enqueueAndForget(async()=>{UN(await kp(t),i,r)})}function tD(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=P(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(await Ip(t),e))}const xy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,n){if(!n)throw new N(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qx(t,e,n,r){if(e===!0&&r===!0)throw new N(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ey(t){if(!R.isDocumentKey(t))throw new N(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function by(t){if(R.isDocumentKey(t))throw new N(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":V()}function ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hu(t);throw new N(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Kx(t,e){if(e<=0)throw new N(T.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new N(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new N(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new n_;switch(n.type){case"gapi":const r=n.client;return new o_(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new N(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=xy.get(e);n&&(D("ComponentProvider","Removing Datastore"),xy.delete(e),n.terminate())}(this),Promise.resolve()}}function nD(t,e,n,r={}){var i;const s=(t=ne(t,fa))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Qi("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Be.MOCK_USER;else{o=bI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new N(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Be(l)}t._authCredentials=new r_(new c1(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new un(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fe(this.firestore,e,this._key)}}class ot{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ot(this.firestore,e,this._query)}}class un extends ot{constructor(e,n,r){super(e,n,ds(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fe(this.firestore,null,new R(e))}withConverter(e){return new un(this.firestore,e,this._path)}}function Gx(t,e,...n){if(t=Ae(t),Tp("collection","path",e),t instanceof fa){const r=ee.fromString(e,...n);return by(r),new un(t,null,r)}{if(!(t instanceof fe||t instanceof un))throw new N(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ee.fromString(e,...n));return by(r),new un(t.firestore,null,r)}}function rD(t,e){if(t=ne(t,fa),Tp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new N(T.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ot(t,null,function(n){return new Tn(ee.emptyPath(),n)}(e))}function tu(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=h1.R()),Tp("doc","path",e),t instanceof fa){const r=ee.fromString(e,...n);return Ey(r),new fe(t,null,new R(r))}{if(!(t instanceof fe||t instanceof un))throw new N(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ee.fromString(e,...n));return Ey(r),new fe(t.firestore,t instanceof un?t.converter:null,new R(r))}}function Hx(t,e){return t=Ae(t),e=Ae(e),(t instanceof fe||t instanceof un)&&(e instanceof fe||e instanceof un)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Wx(t,e){return t=Ae(t),e=Ae(e),t instanceof ot&&e instanceof ot&&t.firestore===e.firestore&&aa(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new ap(this,"async_queue_retry"),this.jc=()=>{const n=ll();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=ll();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=ll();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new je;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!yr(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw _e("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=hp.createAndSchedule(this,e,n,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&V()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function md(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class sD{constructor(){this._progressObserver={},this._taskCompletionResolver=new je,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=-1;class ke extends fa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qx(this),this._firestoreClient.terminate()}}function Ke(t){return t._firestoreClient||Qx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qx(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new v_(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new HN(t._authCredentials,t._appCheckCredentials,t._queue,r)}function aD(t,e){Xx(t=ne(t,ke));const n=Ke(t),r=t._freezeSettings(),i=new bp;return Yx(n,i,new Mx(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function lD(t){Xx(t=ne(t,ke));const e=Ke(t),n=t._freezeSettings(),r=new bp;return Yx(e,r,new zN(r,n.cacheSizeBytes))}function Yx(t,e,n){const r=new je;return t.asyncQueue.enqueue(async()=>{try{await Fx(t,n),await Vx(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===T.FAILED_PRECONDITION||o.code===T.UNIMPLEMENTED:typeof DOMException!="undefined"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;Qi("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function uD(t){if(t._initialized&&!t._terminated)throw new N(T.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new je;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!Qt.C())return Promise.resolve();const r=n+"main";await Qt.delete(r)}(ip(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function cD(t){return function(e){const n=new je;return e.asyncQueue.enqueueAndForget(async()=>AN(await kp(e),n)),n.promise}(Ke(t=ne(t,ke)))}function hD(t){return WN(Ke(t=ne(t,ke)))}function dD(t){return QN(Ke(t=ne(t,ke)))}function fD(t,e){const n=Ke(t=ne(t,ke)),r=new sD;return eD(n,t._databaseId,e,r),r}function pD(t,e){return tD(Ke(t=ne(t,ke)),e).then(n=>n?new ot(t,null,n.query):null)}function Xx(t){if(t._initialized||t._terminated)throw new N(T.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new N(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ce(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hn(Me.fromBase64String(e))}catch(n){throw new N(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hn(Me.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new N(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new N(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return H(this._lat,e._lat)||H(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^__.*__$/;class gD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _n(e,this.data,this.fieldMask,n,this.fieldTransforms):new fs(e,this.data,n,this.fieldTransforms)}}class Jx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _n(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class Qu{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Qu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return nu(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(Zx(this.na)&&mD.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class yD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||ha(e)}fa(e,n,r,i=!1){return new Qu({na:e,methodName:n,la:r,path:Ce.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ci(t){const e=t._freezeSettings(),n=ha(t._databaseId);return new yD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yu(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);Dp("Data must be an object, but it was:",o,r);const a=nE(r,o);let l,u;if(s.merge)l=new Ct(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=gd(e,h,n);if(!o.contains(d))throw new N(T.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);iE(c,d)||c.push(d)}l=new Ct(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new gD(new We(a),l,u)}class pa extends ui{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pa}}function eE(t,e,n){return new Qu({na:3,la:e.settings.la,methodName:t._methodName,ra:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class _p extends ui{_toFieldTransform(e){return new la(e.path,new Ji)}isEqual(e){return e instanceof _p}}class vD extends ui{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=eE(this,e,!0),r=this.da.map(s=>hi(s,n)),i=new Jr(r);return new la(e.path,i)}isEqual(e){return this===e}}class wD extends ui{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=eE(this,e,!0),r=this.da.map(s=>hi(s,n)),i=new Zr(r);return new la(e.path,i)}isEqual(e){return this===e}}class xD extends ui{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new Zi(e.It,D1(e.It,this._a));return new la(e.path,n)}isEqual(e){return this===e}}function Cp(t,e,n,r){const i=t.fa(1,e,n);Dp("Data must be an object, but it was:",i,r);const s=[],o=We.empty();li(r,(l,u)=>{const c=Ap(e,l,n);u=Ae(u);const h=i.ua(c);if(u instanceof pa)s.push(c);else{const d=hi(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new Ct(s);return new Jx(o,a,i.fieldTransforms)}function Np(t,e,n,r,i,s){const o=t.fa(1,e,n),a=[gd(e,r,n)],l=[i];if(s.length%2!=0)throw new N(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(gd(e,s[d])),l.push(s[d+1]);const u=[],c=We.empty();for(let d=a.length-1;d>=0;--d)if(!iE(u,a[d])){const f=a[d];let m=l[d];m=Ae(m);const k=o.ua(f);if(m instanceof pa)u.push(f);else{const C=hi(m,k);C!=null&&(u.push(f),c.set(f,C))}}const h=new Ct(u);return new Jx(c,h,o.fieldTransforms)}function tE(t,e,n,r=!1){return hi(n,t.fa(r?4:3,e))}function hi(t,e){if(rE(t=Ae(t)))return Dp("Unsupported field value:",e,t),nE(t,e);if(t instanceof ui)return function(n,r){if(!Zx(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=hi(o,r.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ae(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return D1(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ye.fromDate(n);return{timestampValue:Lo(r.It,i)}}if(n instanceof ye){const i=new ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Lo(r.It,i)}}if(n instanceof Wu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hn)return{bytesValue:q1(r.It,n._byteString)};if(n instanceof fe){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${Hu(n)}`)}(t,e)}function nE(t,e){const n={};return v1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(t,(r,i)=>{const s=hi(i,e.ia(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof Wu||t instanceof hn||t instanceof fe||t instanceof ui)}function Dp(t,e,n){if(!rE(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Hu(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function gd(t,e,n){if((e=Ae(e))instanceof ur)return e._internalPath;if(typeof e=="string")return Ap(t,e);throw nu("Field path arguments must be of type string or ",t,!1,void 0,n)}const ED=new RegExp("[~\\*/\\[\\]]");function Ap(t,e,n){if(e.search(ED)>=0)throw nu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ur(...e.split("."))._internalPath}catch{throw nu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new N(T.INVALID_ARGUMENT,a+t+l)}function iE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bD extends jo{data(){return super.data()}}function Xu(t,e){return typeof e=="string"?Ap(t,e):e instanceof ur?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class In extends jo{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new so(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class so extends In{data(e={}){return super.data(e)}}class cr{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new so(this._firestore,this._userDataWriter,r.key,r,new Pr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new so(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Pr(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new so(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Pr(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:SD(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}function sE(t,e){return t instanceof In&&e instanceof In?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cr&&e instanceof cr&&t._firestore===e._firestore&&Wx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new N(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ma{}function An(t,...e){for(const n of e)t=n._apply(t);return t}class ID extends ma{constructor(e,n,r){super(),this.wa=e,this.ma=n,this.ga=r,this.type="where"}_apply(e){const n=ci(e.firestore),r=function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new N(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ky(c,u);const f=[];for(const m of c)f.push(Iy(a,i,m));h={arrayValue:{values:f}}}else h=Iy(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ky(c,u),h=tE(o,s,c,u==="in"||u==="not-in");const d=Qe.create(l,u,h);return function(f,m){if(m.dt()){const C=Gf(f);if(C!==null&&!C.isEqual(m.field))throw new N(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${C.toString()}' and '${m.field.toString()}'`);const g=Kf(f);g!==null&&hE(f,m.field,g)}const k=function(C,g){for(const p of C.filters)if(g.indexOf(p.op)>=0)return p.op;return null}(f,function(C){switch(C){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(k!==null)throw k===m.op?new N(T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`):new N(T.INVALID_ARGUMENT,`Invalid query. You cannot use '${m.op.toString()}' filters with '${k.toString()}' filters.`)}(i,d),d}(e._query,"where",n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ot(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Tn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function kD(t,e,n){const r=e,i=Xu("where",t);return new ID(i,r,n)}class TD extends ma{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new N(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new N(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Vi(i,s);return function(a,l){if(Kf(a)===null){const u=Gf(a);u!==null&&hE(a,u,l.field)}}(r,o),o}(e._query,this.wa,this.ya);return new ot(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Tn(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function _D(t,e="asc"){const n=e,r=Xu("orderBy",t);return new TD(r,n)}class aE extends ma{constructor(e,n,r){super(),this.type=e,this.pa=n,this.Ia=r}_apply(e){return new ot(e.firestore,e.converter,Wl(e._query,this.pa,this.Ia))}}function CD(t){return Kx("limit",t),new aE("limit",t,"F")}function ND(t){return Kx("limitToLast",t),new aE("limitToLast",t,"L")}class lE extends ma{constructor(e,n,r){super(),this.type=e,this.Ta=n,this.Ea=r}_apply(e){const n=cE(e,this.type,this.Ta,this.Ea);return new ot(e.firestore,e.converter,function(r,i){return new Tn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function DD(...t){return new lE("startAt",t,!0)}function AD(...t){return new lE("startAfter",t,!1)}class uE extends ma{constructor(e,n,r){super(),this.type=e,this.Ta=n,this.Ea=r}_apply(e){const n=cE(e,this.type,this.Ta,this.Ea);return new ot(e.firestore,e.converter,function(r,i){return new Tn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function OD(...t){return new uE("endBefore",t,!1)}function $D(...t){return new uE("endAt",t,!0)}function cE(t,e,n,r){if(n[0]=Ae(n[0]),n[0]instanceof jo)return function(i,s,o,a,l){if(!a)throw new N(T.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Xi(i))if(c.field.isKeyField())u.push(Yr(s,a.key));else{const h=a.data.field(c.field);if(qf(h))throw new N(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const d=c.field.canonicalString();throw new N(T.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${d}' (used as the orderBy) does not exist.`)}u.push(h)}return new ar(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ci(t.firestore);return function(s,o,a,l,u,c){const h=s.explicitOrderBy;if(u.length>h.length)throw new N(T.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const d=[];for(let f=0;f<u.length;f++){const m=u[f];if(h[f].field.isKeyField()){if(typeof m!="string")throw new N(T.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof m}`);if(!Hf(s)&&m.indexOf("/")!==-1)throw new N(T.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${m}' contains a slash.`);const k=s.path.child(ee.fromString(m));if(!R.isDocumentKey(k))throw new N(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const C=new R(k);d.push(Yr(o,C))}else{const k=tE(a,l,m);d.push(k)}}return new ar(d,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Iy(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new N(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hf(e)&&n.indexOf("/")!==-1)throw new N(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ee.fromString(n));if(!R.isDocumentKey(r))throw new N(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yr(t,new R(r))}if(n instanceof fe)return Yr(t,n._key);throw new N(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hu(n)}.`)}function ky(t,e){if(!Array.isArray(t)||t.length===0)throw new N(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new N(T.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function hE(t,e,n){if(!n.isEqual(e))throw new N(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){const r={};return li(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Wu(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=w1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const n=ir(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ee.fromString(e);z(Z1(r));const i=new sr(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||_e(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class PD extends Op{constructor(e){super(),this.firestore=e}convertBytes(e){return new hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fe(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ci(e)}set(e,n,r){this._verifyNotCommitted();const i=Mn(e,this._firestore),s=Ju(i.converter,n,r),o=Yu(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ge.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Mn(e,this._firestore);let o;return o=typeof(n=Ae(n))=="string"||n instanceof ur?Np(this._dataReader,"WriteBatch.update",s._key,n,r,i):Cp(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ge.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Mn(e,this._firestore);return this._mutations=this._mutations.concat(new ps(n._key,ge.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new N(T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mn(t,e){if((t=Ae(t)).firestore!==e)throw new N(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){t=ne(t,fe);const e=ne(t.firestore,ke);return Ux(Ke(e),t._key).then(n=>$p(e,t,n))}class di extends Op{constructor(e){super(),this.firestore=e}convertBytes(e){return new hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fe(this.firestore,null,n)}}function FD(t){t=ne(t,fe);const e=ne(t.firestore,ke),n=Ke(e),r=new di(e);return YN(n,t._key).then(i=>new In(e,r,t._key,i,new Pr(i!==null&&i.hasLocalMutations,!0),t.converter))}function VD(t){t=ne(t,fe);const e=ne(t.firestore,ke);return Ux(Ke(e),t._key,{source:"server"}).then(n=>$p(e,t,n))}function BD(t){t=ne(t,ot);const e=ne(t.firestore,ke),n=Ke(e),r=new di(e);return oE(t._query),zx(n,t._query).then(i=>new cr(e,r,t,i))}function jD(t){t=ne(t,ot);const e=ne(t.firestore,ke),n=Ke(e),r=new di(e);return XN(n,t._query).then(i=>new cr(e,r,t,i))}function UD(t){t=ne(t,ot);const e=ne(t.firestore,ke),n=Ke(e),r=new di(e);return zx(n,t._query,{source:"server"}).then(i=>new cr(e,r,t,i))}function Ty(t,e,n){t=ne(t,fe);const r=ne(t.firestore,ke),i=Ju(t.converter,e,n);return ga(r,[Yu(ci(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ge.none())])}function _y(t,e,n,...r){t=ne(t,fe);const i=ne(t.firestore,ke),s=ci(i);let o;return o=typeof(e=Ae(e))=="string"||e instanceof ur?Np(s,"updateDoc",t._key,e,n,r):Cp(s,"updateDoc",t._key,e),ga(i,[o.toMutation(t._key,ge.exists(!0))])}function zD(t){return ga(ne(t.firestore,ke),[new ps(t._key,ge.none())])}function qD(t,e){const n=ne(t.firestore,ke),r=tu(t),i=Ju(t.converter,e);return ga(n,[Yu(ci(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ge.exists(!1))]).then(()=>r)}function dE(t,...e){var n,r,i;t=Ae(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||md(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(md(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof fe)u=ne(t.firestore,ke),c=ds(t._key.path),l={next:h=>{e[o]&&e[o]($p(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ne(t,ot);u=ne(h.firestore,ke),c=h._query;const d=new di(u);l={next:f=>{e[o]&&e[o](new cr(u,d,h,f))},error:e[o+1],complete:e[o+2]},oE(t._query)}return function(h,d,f,m){const k=new Ku(m),C=new mp(d,k,f);return h.asyncQueue.enqueueAndForget(async()=>dp(await is(h),C)),()=>{k.Rc(),h.asyncQueue.enqueueAndForget(async()=>fp(await is(h),C))}}(Ke(u),c,a,l)}function KD(t,e){return JN(Ke(t=ne(t,ke)),md(e)?e:{next:e})}function ga(t,e){return function(n,r){const i=new je;return n.asyncQueue.enqueueAndForget(async()=>_N(await kp(n),r,i)),i.promise}(Ke(t),e)}function $p(t,e,n){const r=n.docs.get(e._key),i=new di(t);return new In(t,i,e._key,r,new Pr(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ci(e)}get(e){const n=Mn(e,this._firestore),r=new PD(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return V();const s=i[0];if(s.isFoundDocument())return new jo(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new jo(this._firestore,r,n._key,null,n.converter);throw V()})}set(e,n,r){const i=Mn(e,this._firestore),s=Ju(i.converter,n,r),o=Yu(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Mn(e,this._firestore);let o;return o=typeof(n=Ae(n))=="string"||n instanceof ur?Np(this._dataReader,"Transaction.update",s._key,n,r,i):Cp(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Mn(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Mn(e,this._firestore),r=new di(this._firestore);return super.get(e).then(i=>new In(this._firestore,r,n._key,i._document,new Pr(!1,!1),n.converter))}}function HD(t,e,n){t=ne(t,ke);const r=Object.assign(Object.assign({},RD),n);return function(i){if(i.maxAttempts<1)throw new N(T.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),ZN(Ke(t),i=>e(new GD(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return new pa("deleteField")}function QD(){return new _p("serverTimestamp")}function YD(...t){return new vD("arrayUnion",t)}function XD(...t){return new wD("arrayRemove",t)}function JD(t){return new xD("increment",t)}(function(t,e=!0){(function(n){hs=n})(wf),Hi(new Kr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ke(new i_(n.getProvider("auth-internal")),new l_(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new N(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sr(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Yn(Ig,"3.5.0",t),Yn(Ig,"3.5.0","esm2017")})();const ZD="@firebase/firestore-compat",e2="0.1.25";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new N("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(){if(typeof Uint8Array=="undefined")throw new N("unimplemented","Uint8Arrays are not available in this environment.")}function Ny(){if(!g_())throw new N("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Uo{constructor(e){this._delegate=e}static fromBase64String(e){return Ny(),new Uo(hn.fromBase64String(e))}static fromUint8Array(e){return Cy(),new Uo(hn.fromUint8Array(e))}toBase64(){return Ny(),this._delegate.toBase64()}toUint8Array(){return Cy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){return t2(t,["next","error","complete"])}function t2(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{enableIndexedDbPersistence(e,n){return aD(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return lD(e._delegate)}clearIndexedDbPersistence(e){return uD(e._delegate)}}class fE{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof sr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Qi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){nD(this._delegate,e,n,r)}enableNetwork(){return hD(this._delegate)}disableNetwork(){return dD(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qx("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return cD(this._delegate)}onSnapshotsInSync(e){return KD(this._delegate,e)}get app(){if(!this._appCompat)throw new N("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ss(this,Gx(this._delegate,e))}catch(n){throw ut(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ft(this,tu(this._delegate,e))}catch(n){throw ut(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new lt(this,rD(this._delegate,e))}catch(n){throw ut(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return HD(this._delegate,n=>e(new pE(this,n)))}batch(){return Ke(this._delegate),new mE(new LD(this._delegate,e=>ga(this._delegate,e)))}loadBundle(e){return fD(this._delegate,e)}namedQuery(e){return pD(this._delegate,e).then(n=>n?new lt(this,n):null)}}class Zu extends Op{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(new hn(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ft.forKey(n,this.firestore,null)}}function r2(t){e_(t)}class pE{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Zu(e)}get(e){const n=Lr(e);return this._delegate.get(n).then(r=>new zo(this._firestore,new In(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Lr(e);return r?(Rp("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Lr(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Lr(e);return this._delegate.delete(n),this}}class mE{constructor(e){this._delegate=e}set(e,n,r){const i=Lr(e);return r?(Rp("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Lr(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Lr(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ri{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new so(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qo(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ri.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ri(e,new Zu(e),n),i.set(n,s)),s}}ri.INSTANCES=new WeakMap;class Ft{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Zu(e)}static forPath(e,n,r){if(e.length%2!==0)throw new N("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ft(n,new fe(n._delegate,r,new R(e)))}static forKey(e,n,r){return new Ft(n,new fe(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ss(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ss(this.firestore,Gx(this._delegate,e))}catch(n){throw ut(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ae(e),e instanceof fe?Hx(this._delegate,e):!1}set(e,n){n=Rp("DocumentReference.set",n);try{return n?Ty(this._delegate,e,n):Ty(this._delegate,e)}catch(r){throw ut(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?_y(this._delegate,e):_y(this._delegate,e,n,...r)}catch(i){throw ut(i,"updateDoc()","DocumentReference.update()")}}delete(){return zD(this._delegate)}onSnapshot(...e){const n=gE(e),r=yE(e,i=>new zo(this.firestore,new In(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return dE(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=FD(this._delegate):(e==null?void 0:e.source)==="server"?n=VD(this._delegate):n=MD(this._delegate),n.then(r=>new zo(this.firestore,new In(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ft(this.firestore,e?this._delegate.withConverter(ri.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ut(t,e,n){return t.message=t.message.replace(e,n),t}function gE(t){for(const e of t)if(typeof e=="object"&&!yd(e))return e;return{}}function yE(t,e){var n,r;let i;return yd(t[0])?i=t[0]:yd(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class zo{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ft(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return sE(this._delegate,e._delegate)}}class qo extends zo{data(e){const n=this._delegate.data(e);return t_(n!==void 0),n}}class lt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Zu(e)}where(e,n,r){try{return new lt(this.firestore,An(this._delegate,kD(e,n,r)))}catch(i){throw ut(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new lt(this.firestore,An(this._delegate,_D(e,n)))}catch(r){throw ut(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new lt(this.firestore,An(this._delegate,CD(e)))}catch(n){throw ut(n,"limit()","Query.limit()")}}limitToLast(e){try{return new lt(this.firestore,An(this._delegate,ND(e)))}catch(n){throw ut(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new lt(this.firestore,An(this._delegate,DD(...e)))}catch(n){throw ut(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new lt(this.firestore,An(this._delegate,AD(...e)))}catch(n){throw ut(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new lt(this.firestore,An(this._delegate,OD(...e)))}catch(n){throw ut(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new lt(this.firestore,An(this._delegate,$D(...e)))}catch(n){throw ut(n,"endAt()","Query.endAt()")}}isEqual(e){return Wx(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=jD(this._delegate):(e==null?void 0:e.source)==="server"?n=UD(this._delegate):n=BD(this._delegate),n.then(r=>new vd(this.firestore,new cr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=gE(e),r=yE(e,i=>new vd(this.firestore,new cr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return dE(this._delegate,n,r)}withConverter(e){return new lt(this.firestore,e?this._delegate.withConverter(ri.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class i2{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new qo(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vd{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new lt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qo(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new i2(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new qo(this._firestore,r))})}isEqual(e){return sE(this._delegate,e._delegate)}}class ss extends lt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ft(this.firestore,e):null}doc(e){try{return e===void 0?new Ft(this.firestore,tu(this._delegate)):new Ft(this.firestore,tu(this._delegate,e))}catch(n){throw ut(n,"doc()","CollectionReference.doc()")}}add(e){return qD(this._delegate,e).then(n=>new Ft(this.firestore,n))}isEqual(e){return Hx(this._delegate,e._delegate)}withConverter(e){return new ss(this.firestore,e?this._delegate.withConverter(ri.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Lr(t){return ne(t,fe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(...e){this._delegate=new ur(...e)}static documentId(){return new Pp(Ce.keyField().canonicalString())}isEqual(e){return e=Ae(e),e instanceof ur?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._delegate=e}static serverTimestamp(){const e=QD();return e._methodName="FieldValue.serverTimestamp",new Dr(e)}static delete(){const e=WD();return e._methodName="FieldValue.delete",new Dr(e)}static arrayUnion(...e){const n=YD(...e);return n._methodName="FieldValue.arrayUnion",new Dr(n)}static arrayRemove(...e){const n=XD(...e);return n._methodName="FieldValue.arrayRemove",new Dr(n)}static increment(e){const n=JD(e);return n._methodName="FieldValue.increment",new Dr(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={Firestore:fE,GeoPoint:Wu,Timestamp:ye,Blob:Uo,Transaction:pE,WriteBatch:mE,DocumentReference:Ft,DocumentSnapshot:zo,Query:lt,QueryDocumentSnapshot:qo,QuerySnapshot:vd,CollectionReference:ss,FieldPath:Pp,FieldValue:Dr,setLogLevel:r2,CACHE_SIZE_UNLIMITED:oD};function o2(t,e){t.INTERNAL.registerComponent(new Kr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},s2)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){o2(t,(e,n)=>new fE(e,n,new n2)),t.registerVersion(ZD,e2)}a2(Eu);const l2={apiKey:"AIzaSyAXGgVHRbIXWwrLuI5_41cSpH67HOgtLwE",authDomain:"codeswot.firebaseapp.com",databaseURL:"https://codeswot-default-rtdb.firebaseio.com",projectId:"codeswot",storageBucket:"codeswot.appspot.com",messagingSenderId:"886657193194",appId:"1:886657193194:web:c5753e0ee5264db0d33393"};Eu.initializeApp(l2);const wd=Eu.firestore(),u2=()=>{var c;const[t,e]=he.exports.useState([]),[n,r]=he.exports.useState(!1),[i,s]=he.exports.useState(!1),[o,a]=he.exports.useState(!1),[l,u]=he.exports.useState(!1);return he.exports.useEffect(()=>{wd.collection("experience").onSnapshot(h=>{if(h){let d=h.docs.map(f=>f.data());e(d),setTimeout(()=>{r(!0)},2e3)}})},[]),$("div",{className:"text-white",children:[x("div",{className:"text-center mb-8",children:$("div",{className:"text-3xl text-primary ",children:[">","02 ",x("span",{className:"text-white",children:"Experience"})]})}),x("div",{className:"md:hidden",children:x(dI,{exp:t})}),$("div",{className:"grid grid-cols-2 gap-4text-white place-items-center items-start mt-3  md:space-x-[-220px]   ",children:[x("div",{className:"hidden md:block  ",children:$("div",{className:"bg-white w-[1px] h-[370px] relative",children:[$("div",{className:"flex items-center absolute top-[1rem]",children:[x("div",{className:"bg-gray-50 rounded-full p-4 custom_container ma-20 cursor-pointer",onClick:()=>{r(!1),s(!1),u(!1),a(!0)},children:x("div",{className:o?"bg-primary rotate-[-46.46deg] sheet":"bg-[#C4C4C4] rotate-[-46.46deg] sheet",children:x("div",{className:" d_text rotate-[46.46deg] ",children:x("div",{className:o?"rounded-full w-8 h-8 text-center bg-[#353353] absolute left-7 pt-1 text-sm  text-white":"rounded-full w-8 h-8 text-center bg-white absolute left-7 pt-1 text-sm  text-black",children:"4"})})})}),x("h4",{className:"ml-16",children:"Freelancing"})]}),$("div",{className:"flex items-center absolute top-[6rem]",children:[x("div",{className:"bg-gray-50 rounded-full p-4 custom_container ma-20 cursor-pointer",onClick:()=>{s(!1),a(!1),u(!1),r(!0)},children:x("div",{className:n?"bg-primary rotate-[-46.46deg] sheet":"bg-[#C4C4C4] rotate-[-46.46deg] sheet",children:x("div",{className:" d_text rotate-[46.46deg] ",children:x("div",{className:n?"rounded-full w-8 h-8 text-center bg-[#353353] absolute left-7 pt-1 text-sm  text-white":"rounded-full w-8 h-8 text-center bg-white absolute left-7 pt-1 text-sm  text-black",children:"3"})})})}),x("h4",{className:"ml-16",children:"Hawkish Group"})]}),$("div",{className:"flex items-center absolute top-[13rem]",children:[x("div",{className:"bg-gray-50 rounded-full p-4 custom_container ma-20 cursor-pointer",onClick:()=>{a(!1),u(!1),r(!1),s(!0)},children:x("div",{className:i?"bg-primary rotate-[-46.46deg] sheet":"bg-[#C4C4C4] rotate-[-46.46deg] sheet",children:x("div",{className:" d_text rotate-[46.46deg] ",children:x("div",{className:i?"rounded-full w-8 h-8 text-center bg-[#353353] absolute left-7 pt-1 text-sm  text-white":"rounded-full w-8 h-8 text-center bg-white absolute left-7 pt-1 text-sm  text-black",children:"2"})})})}),x("h4",{className:"ml-16",children:"BridgingSpace"})]}),$("div",{className:"flex items-center absolute top-[18rem]",children:[x("div",{className:"bg-gray-50 rounded-full p-4 custom_container ma-20 cursor-pointer",onClick:()=>{r(!1),s(!1),a(!1),u(!0)},children:x("div",{className:l?"bg-primary rotate-[-46.46deg] sheet":"bg-[#C4C4C4] rotate-[-46.46deg] sheet",children:x("div",{className:" d_text rotate-[46.46deg] ",children:x("div",{className:l?"rounded-full w-8 h-8 text-center bg-[#353353] absolute left-7 pt-1 text-sm  text-white":"rounded-full w-8 h-8 text-center bg-white absolute left-7 pt-1 text-sm  text-black",children:"1"})})})}),x("h4",{className:"ml-16",children:"Lexington Hub"})]})]})}),$("div",{className:"hidden md:block ml-[-30px]",children:[n&&x("div",{children:((c=t[2])==null?void 0:c.title.trim())===""?x("div",{}):x(c2,{title:"Frontend Developer",startDate:"Feb 2023 ",tasks:[`Developed and maintained user-friendly interfaces using React.js and Next.js.
Collaborated with cross-functional teams to enhance web application features.
Improved web performance and implemented best practices for SEO.
Technologies used: React.js, Next.js, Tailwind CSS, Rest API.`],endDate:"Dec 2023 "})}),i?x(h2,{title:"Web Developer",startDate:"Apr 2021",tasks:[`Built and optimized responsive web applications using Vue.js.
Implemented dynamic UI components and ensured cross-browser compatibility.
Participated in code reviews and contributed to team knowledge sharing sessions.
Technologies used: Vue.js, Vuetify, Vuex, Node js`],endDate:"Jan 2023"}):null,l?x(f2,{title:"Frontend Developer",startDate:"Apr 2020",endDate:"Dec 2020",tasks:[`Assisted in the development of web applications under the guidance of senior developers.
Gained hands-on experience with HTML, CSS, and JavaScript.
Worked on improving user experience and interface design.
Technologies used: HTML, CSS, JavaScript, React, Git, GitHub.`]}):null,o?x(d2,{title:"Web3 Engineer ",startDate:"2023",tasks:["I've worked with clients from Discord on various projects, including building NFT marketplaces, DApps, and Telegram bots. One notable project was a Solana Telegram bot (buy bot) that utilized the Jupiter API for swaps. I've also contributed to the Alby Bitcoin Lightning browser extension and Geyser, a crowdfunding platform with Bitcoin"],endDate:"till date"}):null]})]})]})};function c2({title:t,startDate:e,tasks:n,endDate:r}){return $("div",{children:[x("h2",{className:"text-[#E6F1FF] text-3xl mb-3",children:t}),$("h6",{className:"text-[14px] font-[200]",children:[" ",e," - ",r]}),n.map(i=>$("div",{className:"my-6 text-sm md:w-[25rem] text-justify",children:[x("span",{className:"text-primary ",children:". "})," ",i]}))]})}function h2({title:t,startDate:e,tasks:n,endDate:r}){return $("div",{children:[x("h2",{className:"text-[#E6F1FF] text-3xl mb-3",children:t}),$("h6",{className:"text-[14px] font-[200]",children:[" ",e," - ",r]}),n.map(i=>$("div",{className:"my-6 text-sm md:w-[25rem] text-justify",children:[x("span",{className:"text-primary ",children:". "})," ",i]}))]})}function d2({title:t,startDate:e,tasks:n,endDate:r}){return $("div",{children:[x("h2",{className:"text-[#E6F1FF] text-3xl mb-3",children:t}),$("h6",{className:"text-[14px] font-[200]",children:[" ",e," - ",r]}),n.map(i=>$("div",{className:"my-6 text-sm md:w-[25rem] text-justify",children:[x("span",{className:"text-primary ",children:". "})," ",i]}))]})}function f2({title:t,startDate:e,tasks:n,endDate:r}){return $("div",{children:[x("h2",{className:"text-[#E6F1FF] text-3xl mb-3",children:t}),$("h6",{className:"text-[14px] font-[200]",children:[" ",e," - ",r]}),n.map(i=>$("div",{className:"my-6 text-sm md:w-[25rem] text-justify",children:[x("span",{className:"text-primary ",children:". "})," ",i]}))]})}var p2="/assets/share.cbe76be8.svg";const m2=({name:t,about:e,technologies:n,logo:r,link:i})=>(he.exports.useState(!1),x("div",{className:"relative",children:$("div",{className:"bg-[#0F2538] text-white rounded-xl px-2 py-2 custom_shadow ",children:[$("div",{className:"mb-5 flex items-center justify-between",children:[x("div",{children:t}),x("div",{className:"rounded-full bg-[#0F2538] p-2 absolute top-[-45px] right-[-25px] border-8 border-[#353353] ",children:x("img",{src:r,width:"30px"})})]}),x("div",{className:"text-xs",children:e}),$("div",{className:"grid grid-cols-1 mt-3",children:[x("div",{className:"flex gap-2 flex-wrap",children:n.map((s,o)=>$("div",{className:" chip-bg rounded-full w-24  flex items-center space-x-1 mb-1 h-8 p-2",children:[x("img",{src:s.logo,alt:"logo",className:"w-4"}),x("div",{className:"text-xs",children:s.name})]},o))}),x("div",{className:"flex justify-end",children:$("a",{className:"mx-2 cursor-pointer",href:i,target:"_blank",children:[" ",x("img",{src:p2,width:"17px"})," "]})})]})]})})),g2=[{name:"onlytrench",link:"https://www.onlytrench.wtf/",logo:"https://firebasestorage.googleapis.com/v0/b/contactme-2970e.appspot.com/o/WhatsApp%20Image%202025-01-28%20at%2014.04.04.jpeg?alt=media&token=cb2eedba-e40c-456c-9f73-373687e736dc",about:"OnlyTrench is a freelance marketplace I built that uses Solana for payments.",technologies:[{name:"Next js",logo:"https://cdn.worldvectorlogo.com/logos/next-js.svg"},{name:"Firebase",logo:"https://img.icons8.com/color/512/google-firebase-console.png"},{name:"Solana",logo:"https://cryptologos.cc/logos/solana-sol-logo.png"}]},{name:"optimumtoken swap",link:"https://optimumtoken.xyz/app",logo:"https://optimumtoken.xyz/logo.png",about:"A token landing page and swap feature on the Solana network.",technologies:[{name:"React js",logo:"https://cdn.iconscout.com/icon/free/png-256/free-react-logo-icon-download-in-svg-png-gif-file-formats--company-brand-world-logos-vol-4-pack-icons-282599.png"},{name:"Node js",logo:"https://www.svgrepo.com/show/376337/node-js.svg"}]},{name:"HB Marketplace",link:"https://www.thehb.co.uk/",logo:"https://www.thehb.co.uk/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Flogo.e7259c36.png&w=828&q=75",about:"An NFT marketplace on the Polygon network",technologies:[{name:"React js",logo:"https://cdn.iconscout.com/icon/free/png-256/free-react-logo-icon-download-in-svg-png-gif-file-formats--company-brand-world-logos-vol-4-pack-icons-282599.png"},{name:"Node js",logo:"https://www.svgrepo.com/show/376337/node-js.svg"},{name:"Solidity",logo:"https://w7.pngwing.com/pngs/976/425/png-transparent-solidity-ethereum-blockchain-smart-contract-programming-language-blockchain-miscellaneous-angle-triangle-thumbnail.png"}]},{name:"Boom",logo:"https://whatsboom.io/assets/images/logo.svg",about:"An eCommerce marketplace on the Solana network.",link:"https://whatsboom.io/",technologies:[{name:"Next js",logo:"https://cdn.worldvectorlogo.com/logos/next-js.svg"},{name:"Node js",logo:"https://www.svgrepo.com/show/376337/node-js.svg"},{name:"Solana",logo:"https://cryptologos.cc/logos/solana-sol-logo.png"}]},{name:"Solana Coin Flip Duel",link:"https://solana-coin-flip-wheat.vercel.app/",logo:"https://www.svgrepo.com/show/354521/vitejs.svg",about:"Solana Coin Flip Duel Stake SOL, flip a coin, and the winner takes most of the prize!",technologies:[{name:"React js",logo:"https://cdn.iconscout.com/icon/free/png-256/free-react-logo-icon-download-in-svg-png-gif-file-formats--company-brand-world-logos-vol-4-pack-icons-282599.png"},{name:"Solana",logo:"https://cryptologos.cc/logos/solana-sol-logo.png"}]}],y2=()=>$("div",{className:"grid grid-cols-1 place-items-center ",children:[x("div",{className:" mb-16",children:$("div",{className:"text-3xl text-primary  text-center sm:text-left",children:[">","03 ",x("span",{className:"text-white",children:"Project"})]})}),x("div",{className:"grid md:grid-cols-3 gap-16 ",children:g2.map((t,e)=>x("div",{className:"md:w-72",children:x(m2,{name:t.name,logo:t.logo,about:t.about,technologies:t.technologies,link:t.link})}))})]}),v2=({footag:t,twitter:e,github:n,linkedIn:r})=>$("div",{className:"grid grid-cols-1 place-items-center relative",children:[$("div",{className:"text-3xl text-primary text-center",children:[">","05 ",x("span",{className:"text-white",children:"Contact"})]}),x("div",{className:"text-4xl font-bold text-center text-white mt-5",children:"Get in Touch"}),x("div",{className:"font-extralight mt-5 text-center  text-white  text-xl",children:"Want to say hello? you can easily reach me"}),x("div",{className:"font-extralight mt-1 text-center mb-5 text-white  text-xl",children:"with these hot coners"}),$("div",{className:"font-extralight my-2 text-lg text-white hidden md:block ",children:[x("span",{className:"text-[#64FFDA]",children:". "}),"Top right (email)"]}),$("div",{className:"font-extralight my-2 text-lg text-white  hidden md:block",children:[x("span",{className:"text-[#64FFDA]",children:". "}),"Bottom left (socials)"]}),$("div",{className:"font-extralight my-2 text-lg text-white md:hidden ",children:[x("span",{className:"text-[#64FFDA]",children:". "}),"Bottom (socials)"]}),x("div",{className:" md:hidden flex space-x-6",children:[{img:Kw,to:n},{img:Hw,to:e},{img:Gw,to:r}].map((s,o)=>x("a",{href:s.to,target:"_blank",children:x("div",{className:"rounded-3xl bg-[#64FFDA] w-6 my-5",children:x("img",{src:s.img,className:"inline-block h-5 w-5 rounded-full ring-8 ring-[#64FFDA]"})})},o))}),$("div",{className:"md:hidden",children:[x("div",{className:"text-center mb-4 text-white",children:"or"}),x("div",{className:"flex justify-center place-items-center",children:x("a",{href:"mailto:elmubarak333@gmail.com",children:x("button",{children:"Email me_"})})})]}),x("div",{className:"font-extralight text-white text-body-2 text-center mt-24 relative bottom-5",children:x("div",{className:" w-80",children:t})})]});function w2(){const[t,e]=he.exports.useState({about:"",email:"",favoriteTools:[""],fooTag:"",github:"",intro:"",linkedIn:"",profilePhoto:"",resume:"",twitter:""}),[n,r]=he.exports.useState({quote:"",author:"",default:!0,id:""});he.exports.useEffect(()=>{wd.collection("codeswot").onSnapshot(s=>{if(s){let o=s.docs.map(a=>({id:a.id,data:a.data()}));e(o[0].data)}})},[]),he.exports.useEffect(()=>{wd.collection("quotes").onSnapshot(s=>{if(s){let o=s.docs.map(a=>({id:a.id,data:a.data()}));r(o[0].data)}})},[]);const i=`I\u2019m a developer from Nigeria \u{1F1F3}\u{1F1EC} with expertise in building innovative solutions using modern tools and technologies. My journey in software development began in 2019, and since then, I\u2019ve mastered technologies like React.js, Vue.js, and Next.js, as well as diving deep into Web3 and blockchain development.
With experience working on decentralized applications (dApps), smart contracts, NFT minting, staking platforms, and wallet integrations across Solana, Ethereum, and multichain ecosystems, I am passionate about contributing to the future of decentralized systems.
Driven by a love for crafting user-friendly and visually appealing applications, I combine my front-end and back-end skills to deliver seamless solutions. I\u2019m also an advocate of open-source software and enjoy contributing to meaningful projects.
If you're searching for a dedicated developer with expertise in Web3, blockchain, and modern application development, I\u2019m here to help turn your vision into reality.`;return $("div",{className:"App",children:[x(tI,{}),$("div",{className:"body",children:[x("div",{className:"md:h-screen",children:x(sI,{email:"umarabubakarfta@gmail.com",about:t.about,fooTag:t.fooTag,intro:t.intro,resume:t.resume,profilePhoto:t.profilePhoto,github:"https://github.com/umarrg/",twitter:"https://x.com/umarabox",linkdin:"https://www.linkedin.com/in/umarrg",favoriteTools:t.favoriteTools,qoute:n.quote})}),x(La,{children:x("div",{id:"about",className:"mb-48",children:x(hI,{about:i})})}),x(La,{children:x("div",{id:"experience",className:"mb-48",children:x(u2,{})})}),x(La,{children:x("div",{id:"project",className:"mb-48",children:x(y2,{})})}),x(La,{children:x("div",{id:"contact",className:" mt-36",children:x(v2,{footag:"",github:"https://github.com/umarrg/",twitter:"https://x.com/umarabox",linkedIn:"https://www.linkedin.com/in/umarrg"})})})]})]})}Gc.createRoot(document.getElementById("root")).render(x(jn.StrictMode,{children:x(w2,{})}));
