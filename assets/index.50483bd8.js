function T_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function C_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),k_=Symbol.for("react.portal"),b_=Symbol.for("react.fragment"),N_=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),A_=Symbol.for("react.provider"),P_=Symbol.for("react.context"),O_=Symbol.for("react.forward_ref"),$_=Symbol.for("react.suspense"),R_=Symbol.for("react.memo"),M_=Symbol.for("react.lazy"),Fg=Symbol.iterator;function L_(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var Z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J0=Object.assign,e1={};function Zs(t,e,n){this.props=t,this.context=e,this.refs=e1,this.updater=n||Z0}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t1(){}t1.prototype=Zs.prototype;function op(t,e,n){this.props=t,this.context=e,this.refs=e1,this.updater=n||Z0}var ap=op.prototype=new t1;ap.constructor=op;J0(ap,Zs.prototype);ap.isPureReactComponent=!0;var Vg=Array.isArray,n1=Object.prototype.hasOwnProperty,lp={current:null},r1={key:!0,ref:!0,__self:!0,__source:!0};function i1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)n1.call(e,r)&&!r1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:za,type:t,key:s,ref:o,props:i,_owner:lp.current}}function F_(t,e){return{$$typeof:za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function up(t){return typeof t=="object"&&t!==null&&t.$$typeof===za}function V_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bg=/\/+/g;function bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V_(""+t.key):e.toString(36)}function Kl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case za:case k_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bh(o,0):r,Vg(i)?(n="",t!=null&&(n=t.replace(Bg,"$&/")+"/"),Kl(i,e,n,"",function(u){return u})):i!=null&&(up(i)&&(i=F_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bh(s,a);o+=Kl(s,e,n,l,i)}else if(l=L_(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bh(s,a++),o+=Kl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(t,e,n){if(t==null)return t;var r=[],i=0;return Kl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function B_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Gl={transition:null},j_={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Gl,ReactCurrentOwner:lp};se.Children={map:yl,forEach:function(t,e,n){yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yl(t,function(){e++}),e},toArray:function(t){return yl(t,function(e){return e})||[]},only:function(t){if(!up(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Zs;se.Fragment=b_;se.Profiler=D_;se.PureComponent=op;se.StrictMode=N_;se.Suspense=$_;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j_;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=lp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)n1.call(e,l)&&!r1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:za,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:P_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A_,_context:t},t.Consumer=t};se.createElement=i1;se.createFactory=function(t){var e=i1.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:O_,render:t}};se.isValidElement=up;se.lazy=function(t){return{$$typeof:M_,_payload:{_status:-1,_result:t},_init:B_}};se.memo=function(t,e){return{$$typeof:R_,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Gl.transition;Gl.transition={};try{t()}finally{Gl.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return Ft.current.useCallback(t,e)};se.useContext=function(t){return Ft.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};se.useEffect=function(t,e){return Ft.current.useEffect(t,e)};se.useId=function(){return Ft.current.useId()};se.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ft.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};se.useRef=function(t){return Ft.current.useRef(t)};se.useState=function(t){return Ft.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ft.current.useTransition()};se.version="18.2.0";(function(t){t.exports=se})(D);const Je=C_(D.exports),Ed=T_({__proto__:null,default:Je},[D.exports]);var xd={},s1={exports:{}},on={},o1={exports:{}},a1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,H){var K=O.length;O.push(H);e:for(;0<K;){var oe=K-1>>>1,M=O[oe];if(0<i(M,H))O[oe]=H,O[K]=M,K=oe;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var H=O[0],K=O.pop();if(K!==H){O[0]=K;e:for(var oe=0,M=O.length,V=M>>>1;oe<V;){var B=2*(oe+1)-1,Y=O[B],I=B+1,ae=O[I];if(0>i(Y,K))I<M&&0>i(ae,Y)?(O[oe]=ae,O[I]=K,oe=I):(O[oe]=Y,O[B]=K,oe=B);else if(I<M&&0>i(ae,K))O[oe]=ae,O[I]=K,oe=I;else break e}}return H}function i(O,H){var K=O.sortIndex-H.sortIndex;return K!==0?K:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=O)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function E(O){if(y=!1,v(O),!p)if(n(l)!==null)p=!0,It(T);else{var H=n(u);H!==null&&Ue(E,H.startTime-O)}}function T(O,H){p=!1,y&&(y=!1,g($),$=-1),f=!0;var K=d;try{for(v(H),h=n(l);h!==null&&(!(h.expirationTime>H)||O&&!le());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,d=h.priorityLevel;var M=oe(h.expirationTime<=H);H=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),v(H)}else r(l);h=n(l)}if(h!==null)var V=!0;else{var B=n(u);B!==null&&Ue(E,B.startTime-H),V=!1}return V}finally{h=null,d=K,f=!1}}var C=!1,b=null,$=-1,X=5,j=-1;function le(){return!(t.unstable_now()-j<X)}function fe(){if(b!==null){var O=t.unstable_now();j=O;var H=!0;try{H=b(!0,O)}finally{H?ge():(C=!1,b=null)}}else C=!1}var ge;if(typeof m=="function")ge=function(){m(fe)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,_e=Ie.port2;Ie.port1.onmessage=fe,ge=function(){_e.postMessage(null)}}else ge=function(){S(fe,0)};function It(O){b=O,C||(C=!0,ge())}function Ue(O,H){$=S(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,It(T))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var K=d;d=H;try{return O()}finally{d=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=d;d=O;try{return H()}finally{d=K}},t.unstable_scheduleCallback=function(O,H,K){var oe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?oe+K:oe):K=oe,O){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=K+M,O={id:c++,callback:H,priorityLevel:O,startTime:K,expirationTime:M,sortIndex:-1},K>oe?(O.sortIndex=K,e(u,O),n(l)===null&&O===n(u)&&(y?(g($),$=-1):y=!0,Ue(E,K-oe))):(O.sortIndex=M,e(l,O),p||f||(p=!0,It(T))),O},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(O){var H=d;return function(){var K=d;d=H;try{return O.apply(this,arguments)}finally{d=K}}}})(a1);(function(t){t.exports=a1})(o1);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=D.exports,nn=o1.exports;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u1=new Set,ia={};function qi(t,e){Ns(t,e),Ns(t+"Capture",e)}function Ns(t,e){for(ia[t]=e,t=0;t<e.length;t++)u1.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Id=Object.prototype.hasOwnProperty,U_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jg={},Ug={};function z_(t){return Id.call(Ug,t)?!0:Id.call(jg,t)?!1:U_.test(t)?Ug[t]=!0:(jg[t]=!0,!1)}function q_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function H_(t,e,n,r){if(e===null||typeof e>"u"||q_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var cp=/[\-:]([a-z])/g;function hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cp,hp);Et[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cp,hp);Et[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cp,hp);Et[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function dp(t,e,n,r){var i=Et.hasOwnProperty(e)?Et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(H_(e,n,i,r)&&(n=null),r||i===null?z_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var nr=l1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),ss=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),c1=Symbol.for("react.provider"),h1=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),Td=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),mp=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),d1=Symbol.for("react.offscreen"),zg=Symbol.iterator;function go(t){return t===null||typeof t!="object"?null:(t=zg&&t[zg]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,Nh;function Ao(t){if(Nh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nh=e&&e[1]||""}return`
`+Nh+t}var Dh=!1;function Ah(t,e){if(!t||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function K_(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=Ah(t.type,!1),t;case 11:return t=Ah(t.type.render,!1),t;case 1:return t=Ah(t.type,!0),t;default:return""}}function kd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case os:return"Fragment";case ss:return"Portal";case _d:return"Profiler";case fp:return"StrictMode";case Td:return"Suspense";case Cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h1:return(t.displayName||"Context")+".Consumer";case c1:return(t._context.displayName||"Context")+".Provider";case pp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mp:return e=t.displayName||null,e!==null?e:kd(t.type)||"Memo";case cr:e=t._payload,t=t._init;try{return kd(t(e))}catch{}}return null}function G_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kd(e);case 8:return e===fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W_(t){var e=f1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sl(t){t._valueTracker||(t._valueTracker=W_(t))}function p1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=f1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bd(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function qg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m1(t,e){e=e.checked,e!=null&&dp(t,"checked",e,!1)}function Nd(t,e){m1(t,e);var n=Rr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dd(t,e.type,Rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dd(t,e,n){(e!=="number"||hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Po=Array.isArray;function Ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ad(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Po(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rr(n)}}function g1(t,e){var n=Rr(e.value),r=Rr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var El,y1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=El.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q_=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){Q_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function w1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function S1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=w1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Y_=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Od(t,e){if(e){if(Y_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function $d(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=null;function gp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Md=null,Es=null,xs=null;function Wg(t){if(t=Ka(t)){if(typeof Md!="function")throw Error(A(280));var e=t.stateNode;e&&(e=pc(e),Md(t.stateNode,t.type,e))}}function E1(t){Es?xs?xs.push(t):xs=[t]:Es=t}function x1(){if(Es){var t=Es,e=xs;if(xs=Es=null,Wg(t),e)for(t=0;t<e.length;t++)Wg(e[t])}}function I1(t,e){return t(e)}function _1(){}var Ph=!1;function T1(t,e,n){if(Ph)return t(e,n);Ph=!0;try{return I1(t,e,n)}finally{Ph=!1,(Es!==null||xs!==null)&&(_1(),x1())}}function oa(t,e){var n=t.stateNode;if(n===null)return null;var r=pc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Ld=!1;if(Yn)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Ld=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Ld=!1}function X_(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var jo=!1,du=null,fu=!1,Fd=null,Z_={onError:function(t){jo=!0,du=t}};function J_(t,e,n,r,i,s,o,a,l){jo=!1,du=null,X_.apply(Z_,arguments)}function eT(t,e,n,r,i,s,o,a,l){if(J_.apply(this,arguments),jo){if(jo){var u=du;jo=!1,du=null}else throw Error(A(198));fu||(fu=!0,Fd=u)}}function Hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function C1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qg(t){if(Hi(t)!==t)throw Error(A(188))}function tT(t){var e=t.alternate;if(!e){if(e=Hi(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qg(i),t;if(s===r)return Qg(i),e;s=s.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function k1(t){return t=tT(t),t!==null?b1(t):null}function b1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b1(t);if(e!==null)return e;t=t.sibling}return null}var N1=nn.unstable_scheduleCallback,Yg=nn.unstable_cancelCallback,nT=nn.unstable_shouldYield,rT=nn.unstable_requestPaint,qe=nn.unstable_now,iT=nn.unstable_getCurrentPriorityLevel,vp=nn.unstable_ImmediatePriority,D1=nn.unstable_UserBlockingPriority,pu=nn.unstable_NormalPriority,sT=nn.unstable_LowPriority,A1=nn.unstable_IdlePriority,cc=null,$n=null;function oT(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(cc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:uT,aT=Math.log,lT=Math.LN2;function uT(t){return t>>>=0,t===0?32:31-(aT(t)/lT|0)|0}var xl=64,Il=4194304;function Oo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Oo(a):(s&=o,s!==0&&(r=Oo(s)))}else o=n&~i,o!==0?r=Oo(o):s!==0&&(r=Oo(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function cT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=cT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P1(){var t=xl;return xl<<=1,(xl&4194240)===0&&(xl=64),t}function Oh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function dT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function yp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function O1(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var $1,wp,R1,M1,L1,Bd=!1,_l=[],Er=null,xr=null,Ir=null,aa=new Map,la=new Map,fr=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function yo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ka(e),e!==null&&wp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pT(t,e,n,r,i){switch(e){case"focusin":return Er=yo(Er,t,e,n,r,i),!0;case"dragenter":return xr=yo(xr,t,e,n,r,i),!0;case"mouseover":return Ir=yo(Ir,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return aa.set(s,yo(aa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,la.set(s,yo(la.get(s)||null,t,e,n,r,i)),!0}return!1}function F1(t){var e=gi(t.target);if(e!==null){var n=Hi(e);if(n!==null){if(e=n.tag,e===13){if(e=C1(n),e!==null){t.blockedOn=e,L1(t.priority,function(){R1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rd=r,n.target.dispatchEvent(r),Rd=null}else return e=Ka(n),e!==null&&wp(e),t.blockedOn=n,!1;e.shift()}return!0}function Zg(t,e,n){Wl(t)&&n.delete(e)}function mT(){Bd=!1,Er!==null&&Wl(Er)&&(Er=null),xr!==null&&Wl(xr)&&(xr=null),Ir!==null&&Wl(Ir)&&(Ir=null),aa.forEach(Zg),la.forEach(Zg)}function wo(t,e){t.blockedOn===e&&(t.blockedOn=null,Bd||(Bd=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,mT)))}function ua(t){function e(i){return wo(i,t)}if(0<_l.length){wo(_l[0],t);for(var n=1;n<_l.length;n++){var r=_l[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Er!==null&&wo(Er,t),xr!==null&&wo(xr,t),Ir!==null&&wo(Ir,t),aa.forEach(e),la.forEach(e),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)F1(n),n.blockedOn===null&&fr.shift()}var Is=nr.ReactCurrentBatchConfig,gu=!0;function gT(t,e,n,r){var i=Se,s=Is.transition;Is.transition=null;try{Se=1,Sp(t,e,n,r)}finally{Se=i,Is.transition=s}}function vT(t,e,n,r){var i=Se,s=Is.transition;Is.transition=null;try{Se=4,Sp(t,e,n,r)}finally{Se=i,Is.transition=s}}function Sp(t,e,n,r){if(gu){var i=jd(t,e,n,r);if(i===null)zh(t,e,r,vu,n),Xg(t,r);else if(pT(i,t,e,n,r))r.stopPropagation();else if(Xg(t,r),e&4&&-1<fT.indexOf(t)){for(;i!==null;){var s=Ka(i);if(s!==null&&$1(s),s=jd(t,e,n,r),s===null&&zh(t,e,r,vu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zh(t,e,r,null,n)}}var vu=null;function jd(t,e,n,r){if(vu=null,t=gp(r),t=gi(t),t!==null)if(e=Hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=C1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vu=t,null}function V1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iT()){case vp:return 1;case D1:return 4;case pu:case sT:return 16;case A1:return 536870912;default:return 16}default:return 16}}var vr=null,Ep=null,Ql=null;function B1(){if(Ql)return Ql;var t,e=Ep,n=e.length,r,i="value"in vr?vr.value:vr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ql=i.slice(t,1<r?1-r:void 0)}function Yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tl(){return!0}function Jg(){return!1}function an(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tl:Jg,this.isPropagationStopped=Jg,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),e}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=an(Js),Ha=Me({},Js,{view:0,detail:0}),yT=an(Ha),$h,Rh,So,hc=Me({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?($h=t.screenX-So.screenX,Rh=t.screenY-So.screenY):Rh=$h=0,So=t),$h)},movementY:function(t){return"movementY"in t?t.movementY:Rh}}),ev=an(hc),wT=Me({},hc,{dataTransfer:0}),ST=an(wT),ET=Me({},Ha,{relatedTarget:0}),Mh=an(ET),xT=Me({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),IT=an(xT),_T=Me({},Js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TT=an(_T),CT=Me({},Js,{data:0}),tv=an(CT),kT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NT[t])?!!e[t]:!1}function Ip(){return DT}var AT=Me({},Ha,{key:function(t){if(t.key){var e=kT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PT=an(AT),OT=Me({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nv=an(OT),$T=Me({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),RT=an($T),MT=Me({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),LT=an(MT),FT=Me({},hc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VT=an(FT),BT=[9,13,27,32],_p=Yn&&"CompositionEvent"in window,Uo=null;Yn&&"documentMode"in document&&(Uo=document.documentMode);var jT=Yn&&"TextEvent"in window&&!Uo,j1=Yn&&(!_p||Uo&&8<Uo&&11>=Uo),rv=String.fromCharCode(32),iv=!1;function U1(t,e){switch(t){case"keyup":return BT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function UT(t,e){switch(t){case"compositionend":return z1(e);case"keypress":return e.which!==32?null:(iv=!0,rv);case"textInput":return t=e.data,t===rv&&iv?null:t;default:return null}}function zT(t,e){if(as)return t==="compositionend"||!_p&&U1(t,e)?(t=B1(),Ql=Ep=vr=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j1&&e.locale!=="ko"?null:e.data;default:return null}}var qT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qT[t.type]:e==="textarea"}function q1(t,e,n,r){E1(r),e=yu(e,"onChange"),0<e.length&&(n=new xp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zo=null,ca=null;function HT(t){tw(t,0)}function dc(t){var e=cs(t);if(p1(e))return t}function KT(t,e){if(t==="change")return e}var H1=!1;if(Yn){var Lh;if(Yn){var Fh="oninput"in document;if(!Fh){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),Fh=typeof ov.oninput=="function"}Lh=Fh}else Lh=!1;H1=Lh&&(!document.documentMode||9<document.documentMode)}function av(){zo&&(zo.detachEvent("onpropertychange",K1),ca=zo=null)}function K1(t){if(t.propertyName==="value"&&dc(ca)){var e=[];q1(e,ca,t,gp(t)),T1(HT,e)}}function GT(t,e,n){t==="focusin"?(av(),zo=e,ca=n,zo.attachEvent("onpropertychange",K1)):t==="focusout"&&av()}function WT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dc(ca)}function QT(t,e){if(t==="click")return dc(e)}function YT(t,e){if(t==="input"||t==="change")return dc(e)}function XT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:XT;function ha(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Id.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uv(t,e){var n=lv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lv(n)}}function G1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W1(){for(var t=window,e=hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hu(t.document)}return e}function Tp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZT(t){var e=W1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G1(n.ownerDocument.documentElement,n)){if(r!==null&&Tp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=uv(n,s);var o=uv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JT=Yn&&"documentMode"in document&&11>=document.documentMode,ls=null,Ud=null,qo=null,zd=!1;function cv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zd||ls==null||ls!==hu(r)||(r=ls,"selectionStart"in r&&Tp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qo&&ha(qo,r)||(qo=r,r=yu(Ud,"onSelect"),0<r.length&&(e=new xp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ls)))}function Cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var us={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},Vh={},Q1={};Yn&&(Q1=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function fc(t){if(Vh[t])return Vh[t];if(!us[t])return t;var e=us[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q1)return Vh[t]=e[n];return t}var Y1=fc("animationend"),X1=fc("animationiteration"),Z1=fc("animationstart"),J1=fc("transitionend"),ew=new Map,hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(t,e){ew.set(t,e),qi(e,[t])}for(var Bh=0;Bh<hv.length;Bh++){var jh=hv[Bh],eC=jh.toLowerCase(),tC=jh[0].toUpperCase()+jh.slice(1);Gr(eC,"on"+tC)}Gr(Y1,"onAnimationEnd");Gr(X1,"onAnimationIteration");Gr(Z1,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(J1,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function dv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eT(r,e,void 0,t),t.currentTarget=null}function tw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;dv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;dv(i,a,u),s=l}}}if(fu)throw t=Fd,fu=!1,Fd=null,t}function ke(t,e){var n=e[Wd];n===void 0&&(n=e[Wd]=new Set);var r=t+"__bubble";n.has(r)||(nw(e,t,2,!1),n.add(r))}function Uh(t,e,n){var r=0;e&&(r|=4),nw(n,t,r,e)}var kl="_reactListening"+Math.random().toString(36).slice(2);function da(t){if(!t[kl]){t[kl]=!0,u1.forEach(function(n){n!=="selectionchange"&&(nC.has(n)||Uh(n,!1,t),Uh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kl]||(e[kl]=!0,Uh("selectionchange",!1,e))}}function nw(t,e,n,r){switch(V1(e)){case 1:var i=gT;break;case 4:i=vT;break;default:i=Sp}n=i.bind(null,e,n,t),i=void 0,!Ld||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zh(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}T1(function(){var u=s,c=gp(n),h=[];e:{var d=ew.get(t);if(d!==void 0){var f=xp,p=t;switch(t){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":f=PT;break;case"focusin":p="focus",f=Mh;break;case"focusout":p="blur",f=Mh;break;case"beforeblur":case"afterblur":f=Mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ST;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=RT;break;case Y1:case X1:case Z1:f=IT;break;case J1:f=LT;break;case"scroll":f=yT;break;case"wheel":f=VT;break;case"copy":case"cut":case"paste":f=TT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nv}var y=(e&4)!==0,S=!y&&t==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var m=u,v;m!==null;){v=m;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,g!==null&&(E=oa(m,g),E!=null&&y.push(fa(m,E,v)))),S)break;m=m.return}0<y.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:y}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Rd&&(p=n.relatedTarget||n.fromElement)&&(gi(p)||p[Xn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?gi(p):null,p!==null&&(S=Hi(p),p!==S||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(y=ev,E="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=nv,E="onPointerLeave",g="onPointerEnter",m="pointer"),S=f==null?d:cs(f),v=p==null?d:cs(p),d=new y(E,m+"leave",f,n,c),d.target=S,d.relatedTarget=v,E=null,gi(c)===u&&(y=new y(g,m+"enter",p,n,c),y.target=v,y.relatedTarget=S,E=y),S=E,f&&p)t:{for(y=f,g=p,m=0,v=y;v;v=es(v))m++;for(v=0,E=g;E;E=es(E))v++;for(;0<m-v;)y=es(y),m--;for(;0<v-m;)g=es(g),v--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=es(y),g=es(g)}y=null}else y=null;f!==null&&fv(h,d,f,y,!1),p!==null&&S!==null&&fv(h,S,p,y,!0)}}e:{if(d=u?cs(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var T=KT;else if(sv(d))if(H1)T=YT;else{T=WT;var C=GT}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=QT);if(T&&(T=T(t,u))){q1(h,T,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Dd(d,"number",d.value)}switch(C=u?cs(u):window,t){case"focusin":(sv(C)||C.contentEditable==="true")&&(ls=C,Ud=u,qo=null);break;case"focusout":qo=Ud=ls=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,cv(h,n,c);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":cv(h,n,c)}var b;if(_p)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else as?U1(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(j1&&n.locale!=="ko"&&(as||$!=="onCompositionStart"?$==="onCompositionEnd"&&as&&(b=B1()):(vr=c,Ep="value"in vr?vr.value:vr.textContent,as=!0)),C=yu(u,$),0<C.length&&($=new tv($,t,null,n,c),h.push({event:$,listeners:C}),b?$.data=b:(b=z1(n),b!==null&&($.data=b)))),(b=jT?UT(t,n):zT(t,n))&&(u=yu(u,"onBeforeInput"),0<u.length&&(c=new tv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=b))}tw(h,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=oa(t,n),s!=null&&r.unshift(fa(t,s,i)),s=oa(t,e),s!=null&&r.push(fa(t,s,i))),t=t.return}return r}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=oa(n,s),l!=null&&o.unshift(fa(n,l,a))):i||(l=oa(n,s),l!=null&&o.push(fa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(rC,`
`).replace(iC,"")}function bl(t,e,n){if(e=pv(e),pv(t)!==e&&n)throw Error(A(425))}function wu(){}var qd=null,Hd=null;function Kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(aC)}:Gd;function aC(t){setTimeout(function(){throw t})}function qh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ua(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ua(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var eo=Math.random().toString(36).slice(2),Dn="__reactFiber$"+eo,pa="__reactProps$"+eo,Xn="__reactContainer$"+eo,Wd="__reactEvents$"+eo,lC="__reactListeners$"+eo,uC="__reactHandles$"+eo;function gi(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gv(t);t!==null;){if(n=t[Dn])return n;t=gv(t)}return e}t=n,n=t.parentNode}return null}function Ka(t){return t=t[Dn]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function pc(t){return t[pa]||null}var Qd=[],hs=-1;function Wr(t){return{current:t}}function be(t){0>hs||(t.current=Qd[hs],Qd[hs]=null,hs--)}function Ce(t,e){hs++,Qd[hs]=t.current,t.current=e}var Mr={},Dt=Wr(Mr),Kt=Wr(!1),ki=Mr;function Ds(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function Su(){be(Kt),be(Dt)}function vv(t,e,n){if(Dt.current!==Mr)throw Error(A(168));Ce(Dt,e),Ce(Kt,n)}function rw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,G_(t)||"Unknown",i));return Me({},n,r)}function Eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,ki=Dt.current,Ce(Dt,t),Ce(Kt,Kt.current),!0}function yv(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=rw(t,e,ki),r.__reactInternalMemoizedMergedChildContext=t,be(Kt),be(Dt),Ce(Dt,t)):be(Kt),Ce(Kt,n)}var zn=null,mc=!1,Hh=!1;function iw(t){zn===null?zn=[t]:zn.push(t)}function cC(t){mc=!0,iw(t)}function Qr(){if(!Hh&&zn!==null){Hh=!0;var t=0,e=Se;try{var n=zn;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zn=null,mc=!1}catch(i){throw zn!==null&&(zn=zn.slice(t+1)),N1(vp,Qr),i}finally{Se=e,Hh=!1}}return null}var ds=[],fs=0,xu=null,Iu=0,cn=[],hn=0,bi=null,qn=1,Hn="";function ai(t,e){ds[fs++]=Iu,ds[fs++]=xu,xu=t,Iu=e}function sw(t,e,n){cn[hn++]=qn,cn[hn++]=Hn,cn[hn++]=bi,bi=t;var r=qn;t=Hn;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qn=1<<32-_n(e)+i|n<<i|r,Hn=s+t}else qn=1<<s|n<<i|r,Hn=t}function Cp(t){t.return!==null&&(ai(t,1),sw(t,1,0))}function kp(t){for(;t===xu;)xu=ds[--fs],ds[fs]=null,Iu=ds[--fs],ds[fs]=null;for(;t===bi;)bi=cn[--hn],cn[hn]=null,Hn=cn[--hn],cn[hn]=null,qn=cn[--hn],cn[hn]=null}var en=null,Jt=null,De=!1,En=null;function ow(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bi!==null?{id:qn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function Yd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xd(t){if(De){var e=Jt;if(e){var n=e;if(!wv(t,e)){if(Yd(t))throw Error(A(418));e=_r(n.nextSibling);var r=en;e&&wv(t,e)?ow(r,n):(t.flags=t.flags&-4097|2,De=!1,en=t)}}else{if(Yd(t))throw Error(A(418));t.flags=t.flags&-4097|2,De=!1,en=t}}}function Sv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Nl(t){if(t!==en)return!1;if(!De)return Sv(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kd(t.type,t.memoizedProps)),e&&(e=Jt)){if(Yd(t))throw aw(),Error(A(418));for(;e;)ow(t,e),e=_r(e.nextSibling)}if(Sv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?_r(t.stateNode.nextSibling):null;return!0}function aw(){for(var t=Jt;t;)t=_r(t.nextSibling)}function As(){Jt=en=null,De=!1}function bp(t){En===null?En=[t]:En.push(t)}var hC=nr.ReactCurrentBatchConfig;function wn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _u=Wr(null),Tu=null,ps=null,Np=null;function Dp(){Np=ps=Tu=null}function Ap(t){var e=_u.current;be(_u),t._currentValue=e}function Zd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _s(t,e){Tu=t,Np=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(zt=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(Np!==t)if(t={context:t,memoizedValue:e,next:null},ps===null){if(Tu===null)throw Error(A(308));ps=t,Tu.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return e}var vi=null;function Pp(t){vi===null?vi=[t]:vi.push(t)}function lw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zn(t,r)}function Zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hr=!1;function Op(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(he&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zn(t,n)}return i=r.interleaved,i===null?(e.next=e,Pp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zn(t,n)}function Xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yp(t,n)}}function Ev(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cu(t,e,n,r){var i=t.updateQueue;hr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(d=e,f=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Me({},h,d);break e;case 2:hr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Di|=o,t.lanes=o,t.memoizedState=h}}function xv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var cw=new l1.Component().refs;function Jd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gc={isMounted:function(t){return(t=t._reactInternals)?Hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=kr(t),s=Wn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Tr(t,s,i),e!==null&&(Tn(e,t,i,r),Xl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=kr(t),s=Wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Tr(t,s,i),e!==null&&(Tn(e,t,i,r),Xl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=kr(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Tr(t,i,r),e!==null&&(Tn(e,t,r,n),Xl(e,t,r))}};function Iv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ha(n,r)||!ha(i,s):!0}function hw(t,e,n){var r=!1,i=Mr,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Gt(e)?ki:Dt.current,r=e.contextTypes,s=(r=r!=null)?Ds(t,i):Mr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gc.enqueueReplaceState(e,e.state,null)}function ef(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=cw,Op(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Gt(e)?ki:Dt.current,i.context=Ds(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gc.enqueueReplaceState(i,i.state,null),Cu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===cw&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Dl(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tv(t){var e=t._init;return e(t._payload)}function dw(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=br(g,m),g.index=0,g.sibling=null,g}function s(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,E){return m===null||m.tag!==6?(m=Zh(v,g.mode,E),m.return=g,m):(m=i(m,v),m.return=g,m)}function l(g,m,v,E){var T=v.type;return T===os?c(g,m,v.props.children,E,v.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===cr&&Tv(T)===m.type)?(E=i(m,v.props),E.ref=Eo(g,m,v),E.return=g,E):(E=ru(v.type,v.key,v.props,null,g.mode,E),E.ref=Eo(g,m,v),E.return=g,E)}function u(g,m,v,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Jh(v,g.mode,E),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function c(g,m,v,E,T){return m===null||m.tag!==7?(m=Ti(v,g.mode,E,T),m.return=g,m):(m=i(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Zh(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wl:return v=ru(m.type,m.key,m.props,null,g.mode,v),v.ref=Eo(g,null,m),v.return=g,v;case ss:return m=Jh(m,g.mode,v),m.return=g,m;case cr:var E=m._init;return h(g,E(m._payload),v)}if(Po(m)||go(m))return m=Ti(m,g.mode,v,null),m.return=g,m;Dl(g,m)}return null}function d(g,m,v,E){var T=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:a(g,m,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:return v.key===T?l(g,m,v,E):null;case ss:return v.key===T?u(g,m,v,E):null;case cr:return T=v._init,d(g,m,T(v._payload),E)}if(Po(v)||go(v))return T!==null?null:c(g,m,v,E,null);Dl(g,v)}return null}function f(g,m,v,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(v)||null,a(m,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wl:return g=g.get(E.key===null?v:E.key)||null,l(m,g,E,T);case ss:return g=g.get(E.key===null?v:E.key)||null,u(m,g,E,T);case cr:var C=E._init;return f(g,m,v,C(E._payload),T)}if(Po(E)||go(E))return g=g.get(v)||null,c(m,g,E,T,null);Dl(m,E)}return null}function p(g,m,v,E){for(var T=null,C=null,b=m,$=m=0,X=null;b!==null&&$<v.length;$++){b.index>$?(X=b,b=null):X=b.sibling;var j=d(g,b,v[$],E);if(j===null){b===null&&(b=X);break}t&&b&&j.alternate===null&&e(g,b),m=s(j,m,$),C===null?T=j:C.sibling=j,C=j,b=X}if($===v.length)return n(g,b),De&&ai(g,$),T;if(b===null){for(;$<v.length;$++)b=h(g,v[$],E),b!==null&&(m=s(b,m,$),C===null?T=b:C.sibling=b,C=b);return De&&ai(g,$),T}for(b=r(g,b);$<v.length;$++)X=f(b,g,$,v[$],E),X!==null&&(t&&X.alternate!==null&&b.delete(X.key===null?$:X.key),m=s(X,m,$),C===null?T=X:C.sibling=X,C=X);return t&&b.forEach(function(le){return e(g,le)}),De&&ai(g,$),T}function y(g,m,v,E){var T=go(v);if(typeof T!="function")throw Error(A(150));if(v=T.call(v),v==null)throw Error(A(151));for(var C=T=null,b=m,$=m=0,X=null,j=v.next();b!==null&&!j.done;$++,j=v.next()){b.index>$?(X=b,b=null):X=b.sibling;var le=d(g,b,j.value,E);if(le===null){b===null&&(b=X);break}t&&b&&le.alternate===null&&e(g,b),m=s(le,m,$),C===null?T=le:C.sibling=le,C=le,b=X}if(j.done)return n(g,b),De&&ai(g,$),T;if(b===null){for(;!j.done;$++,j=v.next())j=h(g,j.value,E),j!==null&&(m=s(j,m,$),C===null?T=j:C.sibling=j,C=j);return De&&ai(g,$),T}for(b=r(g,b);!j.done;$++,j=v.next())j=f(b,g,$,j.value,E),j!==null&&(t&&j.alternate!==null&&b.delete(j.key===null?$:j.key),m=s(j,m,$),C===null?T=j:C.sibling=j,C=j);return t&&b.forEach(function(fe){return e(g,fe)}),De&&ai(g,$),T}function S(g,m,v,E){if(typeof v=="object"&&v!==null&&v.type===os&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:e:{for(var T=v.key,C=m;C!==null;){if(C.key===T){if(T=v.type,T===os){if(C.tag===7){n(g,C.sibling),m=i(C,v.props.children),m.return=g,g=m;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===cr&&Tv(T)===C.type){n(g,C.sibling),m=i(C,v.props),m.ref=Eo(g,C,v),m.return=g,g=m;break e}n(g,C);break}else e(g,C);C=C.sibling}v.type===os?(m=Ti(v.props.children,g.mode,E,v.key),m.return=g,g=m):(E=ru(v.type,v.key,v.props,null,g.mode,E),E.ref=Eo(g,m,v),E.return=g,g=E)}return o(g);case ss:e:{for(C=v.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Jh(v,g.mode,E),m.return=g,g=m}return o(g);case cr:return C=v._init,S(g,m,C(v._payload),E)}if(Po(v))return p(g,m,v,E);if(go(v))return y(g,m,v,E);Dl(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=Zh(v,g.mode,E),m.return=g,g=m),o(g)):n(g,m)}return S}var Ps=dw(!0),fw=dw(!1),Ga={},Rn=Wr(Ga),ma=Wr(Ga),ga=Wr(Ga);function yi(t){if(t===Ga)throw Error(A(174));return t}function $p(t,e){switch(Ce(ga,e),Ce(ma,t),Ce(Rn,Ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pd(e,t)}be(Rn),Ce(Rn,e)}function Os(){be(Rn),be(ma),be(ga)}function pw(t){yi(ga.current);var e=yi(Rn.current),n=Pd(e,t.type);e!==n&&(Ce(ma,t),Ce(Rn,n))}function Rp(t){ma.current===t&&(be(Rn),be(ma))}var $e=Wr(0);function ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function Mp(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var Zl=nr.ReactCurrentDispatcher,Gh=nr.ReactCurrentBatchConfig,Ni=0,Re=null,Xe=null,nt=null,bu=!1,Ho=!1,va=0,dC=0;function Tt(){throw Error(A(321))}function Lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function Fp(t,e,n,r,i,s){if(Ni=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zl.current=t===null||t.memoizedState===null?gC:vC,t=n(r,i),Ho){s=0;do{if(Ho=!1,va=0,25<=s)throw Error(A(301));s+=1,nt=Xe=null,e.updateQueue=null,Zl.current=yC,t=n(r,i)}while(Ho)}if(Zl.current=Nu,e=Xe!==null&&Xe.next!==null,Ni=0,nt=Xe=Re=null,bu=!1,e)throw Error(A(300));return t}function Vp(){var t=va!==0;return va=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Re.memoizedState=nt=t:nt=nt.next=t,nt}function gn(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=nt===null?Re.memoizedState:nt.next;if(e!==null)nt=e,Xe=t;else{if(t===null)throw Error(A(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},nt===null?Re.memoizedState=nt=t:nt=nt.next=t}return nt}function ya(t,e){return typeof e=="function"?e(t):e}function Wh(t){var e=gn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ni&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Re.lanes|=c,Di|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Cn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Di|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qh(t){var e=gn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mw(){}function gw(t,e){var n=Re,r=gn(),i=e(),s=!Cn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,Bp(ww.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,wa(9,yw.bind(null,n,r,i,e),void 0,null),it===null)throw Error(A(349));(Ni&30)!==0||vw(n,e,i)}return i}function vw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yw(t,e,n,r){e.value=n,e.getSnapshot=r,Sw(e)&&Ew(t)}function ww(t,e,n){return n(function(){Sw(e)&&Ew(t)})}function Sw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function Ew(t){var e=Zn(t,1);e!==null&&Tn(e,t,1,-1)}function Cv(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},e.queue=t,t=t.dispatch=mC.bind(null,Re,t),[e.memoizedState,t]}function wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xw(){return gn().memoizedState}function Jl(t,e,n,r){var i=Nn();Re.flags|=t,i.memoizedState=wa(1|e,n,void 0,r===void 0?null:r)}function vc(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&Lp(r,o.deps)){i.memoizedState=wa(e,n,s,r);return}}Re.flags|=t,i.memoizedState=wa(1|e,n,s,r)}function kv(t,e){return Jl(8390656,8,t,e)}function Bp(t,e){return vc(2048,8,t,e)}function Iw(t,e){return vc(4,2,t,e)}function _w(t,e){return vc(4,4,t,e)}function Tw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cw(t,e,n){return n=n!=null?n.concat([t]):null,vc(4,4,Tw.bind(null,e,t),n)}function jp(){}function kw(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bw(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Nw(t,e,n){return(Ni&21)===0?(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n):(Cn(n,e)||(n=P1(),Re.lanes|=n,Di|=n,t.baseState=!0),e)}function fC(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Gh.transition;Gh.transition={};try{t(!1),e()}finally{Se=n,Gh.transition=r}}function Dw(){return gn().memoizedState}function pC(t,e,n){var r=kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Aw(t))Pw(e,n);else if(n=lw(t,e,n,r),n!==null){var i=Mt();Tn(n,t,r,i),Ow(n,e,r)}}function mC(t,e,n){var r=kr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Aw(t))Pw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,o)){var l=e.interleaved;l===null?(i.next=i,Pp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lw(t,e,i,r),n!==null&&(i=Mt(),Tn(n,t,r,i),Ow(n,e,r))}}function Aw(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function Pw(t,e){Ho=bu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ow(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yp(t,n)}}var Nu={readContext:mn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},gC={readContext:mn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:kv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jl(4194308,4,Tw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jl(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pC.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:Cv,useDebugValue:jp,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Cv(!1),e=t[0];return t=fC.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=Nn();if(De){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),it===null)throw Error(A(349));(Ni&30)!==0||vw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kv(ww.bind(null,r,s,t),[t]),r.flags|=2048,wa(9,yw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nn(),e=it.identifierPrefix;if(De){var n=Hn,r=qn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=va++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vC={readContext:mn,useCallback:kw,useContext:mn,useEffect:Bp,useImperativeHandle:Cw,useInsertionEffect:Iw,useLayoutEffect:_w,useMemo:bw,useReducer:Wh,useRef:xw,useState:function(){return Wh(ya)},useDebugValue:jp,useDeferredValue:function(t){var e=gn();return Nw(e,Xe.memoizedState,t)},useTransition:function(){var t=Wh(ya)[0],e=gn().memoizedState;return[t,e]},useMutableSource:mw,useSyncExternalStore:gw,useId:Dw,unstable_isNewReconciler:!1},yC={readContext:mn,useCallback:kw,useContext:mn,useEffect:Bp,useImperativeHandle:Cw,useInsertionEffect:Iw,useLayoutEffect:_w,useMemo:bw,useReducer:Qh,useRef:xw,useState:function(){return Qh(ya)},useDebugValue:jp,useDeferredValue:function(t){var e=gn();return Xe===null?e.memoizedState=t:Nw(e,Xe.memoizedState,t)},useTransition:function(){var t=Qh(ya)[0],e=gn().memoizedState;return[t,e]},useMutableSource:mw,useSyncExternalStore:gw,useId:Dw,unstable_isNewReconciler:!1};function $s(t,e){try{var n="",r=e;do n+=K_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yh(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function tf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wC=typeof WeakMap=="function"?WeakMap:Map;function $w(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Au||(Au=!0,df=r),tf(t,e)},n}function Rw(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tf(t,e),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=OC.bind(null,t,e,n),e.then(t,t))}function Nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dv(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,Tr(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var SC=nr.ReactCurrentOwner,zt=!1;function Pt(t,e,n,r){e.child=t===null?fw(e,null,n,r):Ps(e,t.child,n,r)}function Av(t,e,n,r,i){n=n.render;var s=e.ref;return _s(e,i),r=Fp(t,e,n,r,s,i),n=Vp(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(De&&n&&Cp(e),e.flags|=1,Pt(t,e,r,i),e.child)}function Pv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Mw(t,e,s,r,i)):(t=ru(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(o,r)&&t.ref===e.ref)return Jn(t,e,i)}return e.flags|=1,t=br(s,r),t.ref=e.ref,t.return=e,e.child=t}function Mw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ha(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(zt=!0);else return e.lanes=t.lanes,Jn(t,e,i)}return nf(t,e,n,r,i)}function Lw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(gs,Yt),Yt|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(gs,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(gs,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(gs,Yt),Yt|=r;return Pt(t,e,i,n),e.child}function Fw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nf(t,e,n,r,i){var s=Gt(n)?ki:Dt.current;return s=Ds(e,s),_s(e,i),n=Fp(t,e,n,r,s,i),r=Vp(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(De&&r&&Cp(e),e.flags|=1,Pt(t,e,n,i),e.child)}function Ov(t,e,n,r,i){if(Gt(n)){var s=!0;Eu(e)}else s=!1;if(_s(e,i),e.stateNode===null)eu(t,e),hw(e,n,r),ef(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=Gt(n)?ki:Dt.current,u=Ds(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_v(e,o,r,u),hr=!1;var d=e.memoizedState;o.state=d,Cu(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Kt.current||hr?(typeof c=="function"&&(Jd(e,n,c,r),l=e.memoizedState),(a=hr||Iv(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Gt(n)?ki:Dt.current,l=Ds(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&_v(e,o,r,l),hr=!1,d=e.memoizedState,o.state=d,Cu(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Kt.current||hr?(typeof f=="function"&&(Jd(e,n,f,r),p=e.memoizedState),(u=hr||Iv(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return rf(t,e,n,r,s,i)}function rf(t,e,n,r,i,s){Fw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&yv(e,n,!1),Jn(t,e,s);r=e.stateNode,SC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ps(e,t.child,null,s),e.child=Ps(e,null,a,s)):Pt(t,e,a,s),e.memoizedState=r.state,i&&yv(e,n,!0),e.child}function Vw(t){var e=t.stateNode;e.pendingContext?vv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vv(t,e.context,!1),$p(t,e.containerInfo)}function $v(t,e,n,r,i){return As(),bp(i),e.flags|=256,Pt(t,e,n,r),e.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bw(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce($e,i&1),t===null)return Xd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sc(o,r,0,null),t=Ti(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=of(n),e.memoizedState=sf,t):Up(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=br(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=br(a,s):(s=Ti(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?of(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sf,r}return s=t.child,t=s.sibling,r=br(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Up(t,e){return e=Sc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Al(t,e,n,r){return r!==null&&bp(r),Ps(e,t.child,null,n),t=Up(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Yh(Error(A(422))),Al(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sc({mode:"visible",children:r.children},i,0,null),s=Ti(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Ps(e,t.child,null,o),e.child.memoizedState=of(o),e.memoizedState=sf,s);if((e.mode&1)===0)return Al(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(A(419)),r=Yh(s,r,void 0),Al(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=it,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zn(t,i),Tn(r,t,i,-1))}return Wp(),r=Yh(Error(A(421))),Al(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$C.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=_r(i.nextSibling),en=e,De=!0,En=null,t!==null&&(cn[hn++]=qn,cn[hn++]=Hn,cn[hn++]=bi,qn=t.id,Hn=t.overflow,bi=e),e=Up(e,r.children),e.flags|=4096,e)}function Rv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zd(t.return,e,n)}function Xh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Pt(t,e,r.children,n),r=$e.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rv(t,n,e);else if(t.tag===19)Rv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce($e,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ku(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xh(e,!0,n,null,s);break;case"together":Xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xC(t,e,n){switch(e.tag){case 3:Vw(e),As();break;case 5:pw(e);break;case 1:Gt(e.type)&&Eu(e);break;case 4:$p(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(_u,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce($e,$e.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Bw(t,e,n):(Ce($e,$e.current&1),t=Jn(t,e,n),t!==null?t.sibling:null);Ce($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return jw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,Lw(t,e,n)}return Jn(t,e,n)}var Uw,af,zw,qw;Uw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};af=function(){};zw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yi(Rn.current);var s=null;switch(n){case"input":i=bd(t,i),r=bd(t,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=Ad(t,i),r=Ad(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wu)}Od(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ia.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ia.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};qw=function(t,e,n,r){n!==r&&(e.flags|=4)};function xo(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IC(t,e,n){var r=e.pendingProps;switch(kp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Gt(e.type)&&Su(),Ct(e),null;case 3:return r=e.stateNode,Os(),be(Kt),be(Dt),Mp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,En!==null&&(mf(En),En=null))),af(t,e),Ct(e),null;case 5:Rp(e);var i=yi(ga.current);if(n=e.type,t!==null&&e.stateNode!=null)zw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Ct(e),null}if(t=yi(Rn.current),Nl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dn]=e,r[pa]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<$o.length;i++)ke($o[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":qg(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":Kg(r,s),ke("invalid",r)}Od(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&bl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bl(r.textContent,a,t),i=["children",""+a]):ia.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Sl(r),Hg(r,s,!0);break;case"textarea":Sl(r),Gg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dn]=e,t[pa]=r,Uw(t,e,!1,!1),e.stateNode=t;e:{switch(o=$d(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<$o.length;i++)ke($o[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":qg(t,r),i=bd(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),ke("invalid",t);break;case"textarea":Kg(t,r),i=Ad(t,r),ke("invalid",t);break;default:i=r}Od(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?S1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sa(t,l):typeof l=="number"&&sa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ia.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",t):l!=null&&dp(t,s,l,o))}switch(n){case"input":Sl(t),Hg(t,r,!1);break;case"textarea":Sl(t),Gg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ss(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)qw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=yi(ga.current),yi(Rn.current),Nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(s=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:bl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return Ct(e),null;case 13:if(be($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Jt!==null&&(e.mode&1)!==0&&(e.flags&128)===0)aw(),As(),e.flags|=98560,s=!1;else if(s=Nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(A(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[Dn]=e}else As(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else En!==null&&(mf(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||($e.current&1)!==0?Ze===0&&(Ze=3):Wp())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Os(),af(t,e),t===null&&da(e.stateNode.containerInfo),Ct(e),null;case 10:return Ap(e.type._context),Ct(e),null;case 17:return Gt(e.type)&&Su(),Ct(e),null;case 19:if(be($e),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xo(s,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=ku(t),o!==null){for(e.flags|=128,xo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>Rs&&(e.flags|=128,r=!0,xo(s,!1),e.lanes=4194304)}else{if(!r)if(t=ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return Ct(e),null}else 2*qe()-s.renderingStartTime>Rs&&n!==1073741824&&(e.flags|=128,r=!0,xo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=$e.current,Ce($e,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return Gp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Yt&1073741824)!==0&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function _C(t,e){switch(kp(e),e.tag){case 1:return Gt(e.type)&&Su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),be(Kt),be(Dt),Mp(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Rp(e),null;case 13:if(be($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));As()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be($e),null;case 4:return Os(),null;case 10:return Ap(e.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var Pl=!1,kt=!1,TC=typeof WeakSet=="function"?WeakSet:Set,U=null;function ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function lf(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var Mv=!1;function CC(t,e){if(qd=gu,t=W1(),Tp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hd={focusedElem:t,selectionRange:n},gu=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,S=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:wn(e.type,y),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(E){Fe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return p=Mv,Mv=!1,p}function Ko(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lf(e,n,s)}i=i.next}while(i!==r)}}function yc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hw(t){var e=t.alternate;e!==null&&(t.alternate=null,Hw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[pa],delete e[Wd],delete e[lC],delete e[uC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kw(t){return t.tag===5||t.tag===3||t.tag===4}function Lv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wu));else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}var mt=null,Sn=!1;function ar(t,e,n){for(n=n.child;n!==null;)Gw(t,e,n),n=n.sibling}function Gw(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(cc,n)}catch{}switch(n.tag){case 5:kt||ms(n,e);case 6:var r=mt,i=Sn;mt=null,ar(t,e,n),mt=r,Sn=i,mt!==null&&(Sn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Sn?(t=mt,n=n.stateNode,t.nodeType===8?qh(t.parentNode,n):t.nodeType===1&&qh(t,n),ua(t)):qh(mt,n.stateNode));break;case 4:r=mt,i=Sn,mt=n.stateNode.containerInfo,Sn=!0,ar(t,e,n),mt=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&lf(n,e,o),i=i.next}while(i!==r)}ar(t,e,n);break;case 1:if(!kt&&(ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}ar(t,e,n);break;case 21:ar(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,ar(t,e,n),kt=r):ar(t,e,n);break;default:ar(t,e,n)}}function Fv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TC),e.forEach(function(r){var i=RC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,Sn=!1;break e;case 3:mt=a.stateNode.containerInfo,Sn=!0;break e;case 4:mt=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(mt===null)throw Error(A(160));Gw(s,o,i),mt=null,Sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ww(e,t),e=e.sibling}function Ww(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),bn(t),r&4){try{Ko(3,t,t.return),yc(3,t)}catch(y){Fe(t,t.return,y)}try{Ko(5,t,t.return)}catch(y){Fe(t,t.return,y)}}break;case 1:yn(e,t),bn(t),r&512&&n!==null&&ms(n,n.return);break;case 5:if(yn(e,t),bn(t),r&512&&n!==null&&ms(n,n.return),t.flags&32){var i=t.stateNode;try{sa(i,"")}catch(y){Fe(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&m1(i,s),$d(a,o);var u=$d(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?S1(i,h):c==="dangerouslySetInnerHTML"?y1(i,h):c==="children"?sa(i,h):dp(i,c,h,u)}switch(a){case"input":Nd(i,s);break;case"textarea":g1(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ss(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ss(i,!!s.multiple,s.defaultValue,!0):Ss(i,!!s.multiple,s.multiple?[]:"",!1))}i[pa]=s}catch(y){Fe(t,t.return,y)}}break;case 6:if(yn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(A(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Fe(t,t.return,y)}}break;case 3:if(yn(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(y){Fe(t,t.return,y)}break;case 4:yn(e,t),bn(t);break;case 13:yn(e,t),bn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hp=qe())),r&4&&Fv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(u=kt)||c,yn(e,t),kt=u):yn(e,t),bn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(U=t,c=t.child;c!==null;){for(h=U=c;U!==null;){switch(d=U,f=d.child,d.tag){case 0:case 11:case 14:case 15:Ko(4,d,d.return);break;case 1:ms(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Fe(r,n,y)}}break;case 5:ms(d,d.return);break;case 22:if(d.memoizedState!==null){Bv(h);continue}}f!==null?(f.return=d,U=f):Bv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=w1("display",o))}catch(y){Fe(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Fe(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(e,t),bn(t),r&4&&Fv(t);break;case 21:break;default:yn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kw(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sa(i,""),r.flags&=-33);var s=Lv(t);hf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Lv(t);cf(t,a,o);break;default:throw Error(A(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kC(t,e,n){U=t,Qw(t)}function Qw(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=Pl;var u=kt;if(Pl=o,(kt=l)&&!u)for(U=i;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?jv(i):l!==null?(l.return=o,U=l):jv(i);for(;s!==null;)U=s,Qw(s),s=s.sibling;U=i,Pl=a,kt=u}Vv(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,U=s):Vv(t)}}function Vv(t){for(;U!==null;){var e=U;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:kt||yc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ua(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}kt||e.flags&512&&uf(e)}catch(d){Fe(e,e.return,d)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Bv(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function jv(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yc(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var s=e.return;try{uf(e)}catch(l){Fe(e,s,l)}break;case 5:var o=e.return;try{uf(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var bC=Math.ceil,Du=nr.ReactCurrentDispatcher,zp=nr.ReactCurrentOwner,pn=nr.ReactCurrentBatchConfig,he=0,it=null,We=null,wt=0,Yt=0,gs=Wr(0),Ze=0,Sa=null,Di=0,wc=0,qp=0,Go=null,Ut=null,Hp=0,Rs=1/0,Un=null,Au=!1,df=null,Cr=null,Ol=!1,yr=null,Pu=0,Wo=0,ff=null,tu=-1,nu=0;function Mt(){return(he&6)!==0?qe():tu!==-1?tu:tu=qe()}function kr(t){return(t.mode&1)===0?1:(he&2)!==0&&wt!==0?wt&-wt:hC.transition!==null?(nu===0&&(nu=P1()),nu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:V1(t.type)),t)}function Tn(t,e,n,r){if(50<Wo)throw Wo=0,ff=null,Error(A(185));qa(t,n,r),((he&2)===0||t!==it)&&(t===it&&((he&2)===0&&(wc|=n),Ze===4&&pr(t,wt)),Wt(t,r),n===1&&he===0&&(e.mode&1)===0&&(Rs=qe()+500,mc&&Qr()))}function Wt(t,e){var n=t.callbackNode;hT(t,e);var r=mu(t,t===it?wt:0);if(r===0)n!==null&&Yg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yg(n),e===1)t.tag===0?cC(Uv.bind(null,t)):iw(Uv.bind(null,t)),oC(function(){(he&6)===0&&Qr()}),n=null;else{switch(O1(r)){case 1:n=vp;break;case 4:n=D1;break;case 16:n=pu;break;case 536870912:n=A1;break;default:n=pu}n=rS(n,Yw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yw(t,e){if(tu=-1,nu=0,(he&6)!==0)throw Error(A(327));var n=t.callbackNode;if(Ts()&&t.callbackNode!==n)return null;var r=mu(t,t===it?wt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Ou(t,r);else{e=r;var i=he;he|=2;var s=Zw();(it!==t||wt!==e)&&(Un=null,Rs=qe()+500,_i(t,e));do try{AC();break}catch(a){Xw(t,a)}while(1);Dp(),Du.current=s,he=i,We!==null?e=0:(it=null,wt=0,e=Ze)}if(e!==0){if(e===2&&(i=Vd(t),i!==0&&(r=i,e=pf(t,i))),e===1)throw n=Sa,_i(t,0),pr(t,r),Wt(t,qe()),n;if(e===6)pr(t,r);else{if(i=t.current.alternate,(r&30)===0&&!NC(i)&&(e=Ou(t,r),e===2&&(s=Vd(t),s!==0&&(r=s,e=pf(t,s))),e===1))throw n=Sa,_i(t,0),pr(t,r),Wt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:li(t,Ut,Un);break;case 3:if(pr(t,r),(r&130023424)===r&&(e=Hp+500-qe(),10<e)){if(mu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gd(li.bind(null,t,Ut,Un),e);break}li(t,Ut,Un);break;case 4:if(pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bC(r/1960))-r,10<r){t.timeoutHandle=Gd(li.bind(null,t,Ut,Un),r);break}li(t,Ut,Un);break;case 5:li(t,Ut,Un);break;default:throw Error(A(329))}}}return Wt(t,qe()),t.callbackNode===n?Yw.bind(null,t):null}function pf(t,e){var n=Go;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=Ou(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&mf(e)),t}function mf(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function NC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pr(t,e){for(e&=~qp,e&=~wc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function Uv(t){if((he&6)!==0)throw Error(A(327));Ts();var e=mu(t,0);if((e&1)===0)return Wt(t,qe()),null;var n=Ou(t,e);if(t.tag!==0&&n===2){var r=Vd(t);r!==0&&(e=r,n=pf(t,r))}if(n===1)throw n=Sa,_i(t,0),pr(t,e),Wt(t,qe()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,Ut,Un),Wt(t,qe()),null}function Kp(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Rs=qe()+500,mc&&Qr())}}function Ai(t){yr!==null&&yr.tag===0&&(he&6)===0&&Ts();var e=he;he|=1;var n=pn.transition,r=Se;try{if(pn.transition=null,Se=1,t)return t()}finally{Se=r,pn.transition=n,he=e,(he&6)===0&&Qr()}}function Gp(){Yt=gs.current,be(gs)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sC(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(kp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Su();break;case 3:Os(),be(Kt),be(Dt),Mp();break;case 5:Rp(r);break;case 4:Os();break;case 13:be($e);break;case 19:be($e);break;case 10:Ap(r.type._context);break;case 22:case 23:Gp()}n=n.return}if(it=t,We=t=br(t.current,null),wt=Yt=e,Ze=0,Sa=null,qp=wc=Di=0,Ut=Go=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vi=null}return t}function Xw(t,e){do{var n=We;try{if(Dp(),Zl.current=Nu,bu){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bu=!1}if(Ni=0,nt=Xe=Re=null,Ho=!1,va=0,zp.current=null,n===null||n.return===null){Ze=1,Sa=e,We=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Nv(o);if(f!==null){f.flags&=-257,Dv(f,o,a,s,e),f.mode&1&&bv(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if((e&1)===0){bv(s,u,e),Wp();break e}l=Error(A(426))}}else if(De&&a.mode&1){var S=Nv(o);if(S!==null){(S.flags&65536)===0&&(S.flags|=256),Dv(S,o,a,s,e),bp($s(l,a));break e}}s=l=$s(l,a),Ze!==4&&(Ze=2),Go===null?Go=[s]:Go.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=$w(s,l,e);Ev(s,g);break e;case 1:a=l;var m=s.type,v=s.stateNode;if((s.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Cr===null||!Cr.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Rw(s,a,e);Ev(s,E);break e}}s=s.return}while(s!==null)}eS(n)}catch(T){e=T,We===n&&n!==null&&(We=n=n.return);continue}break}while(1)}function Zw(){var t=Du.current;return Du.current=Nu,t===null?Nu:t}function Wp(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||(Di&268435455)===0&&(wc&268435455)===0||pr(it,wt)}function Ou(t,e){var n=he;he|=2;var r=Zw();(it!==t||wt!==e)&&(Un=null,_i(t,e));do try{DC();break}catch(i){Xw(t,i)}while(1);if(Dp(),he=n,Du.current=r,We!==null)throw Error(A(261));return it=null,wt=0,Ze}function DC(){for(;We!==null;)Jw(We)}function AC(){for(;We!==null&&!nT();)Jw(We)}function Jw(t){var e=nS(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?eS(t):We=e,zp.current=null}function eS(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=IC(n,e,Yt),n!==null){We=n;return}}else{if(n=_C(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,We=null;return}}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Ze===0&&(Ze=5)}function li(t,e,n){var r=Se,i=pn.transition;try{pn.transition=null,Se=1,PC(t,e,n,r)}finally{pn.transition=i,Se=r}return null}function PC(t,e,n,r){do Ts();while(yr!==null);if((he&6)!==0)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dT(t,s),t===it&&(We=it=null,wt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ol||(Ol=!0,rS(pu,function(){return Ts(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=pn.transition,pn.transition=null;var o=Se;Se=1;var a=he;he|=4,zp.current=null,CC(t,n),Ww(n,t),ZT(Hd),gu=!!qd,Hd=qd=null,t.current=n,kC(n),rT(),he=a,Se=o,pn.transition=s}else t.current=n;if(Ol&&(Ol=!1,yr=t,Pu=i),s=t.pendingLanes,s===0&&(Cr=null),oT(n.stateNode),Wt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Au)throw Au=!1,t=df,df=null,t;return(Pu&1)!==0&&t.tag!==0&&Ts(),s=t.pendingLanes,(s&1)!==0?t===ff?Wo++:(Wo=0,ff=t):Wo=0,Qr(),null}function Ts(){if(yr!==null){var t=O1(Pu),e=pn.transition,n=Se;try{if(pn.transition=null,Se=16>t?16:t,yr===null)var r=!1;else{if(t=yr,yr=null,Pu=0,(he&6)!==0)throw Error(A(331));var i=he;for(he|=4,U=t.current;U!==null;){var s=U,o=s.child;if((U.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:Ko(8,c,s)}var h=c.child;if(h!==null)h.return=c,U=h;else for(;U!==null;){c=U;var d=c.sibling,f=c.return;if(Hw(c),c===u){U=null;break}if(d!==null){d.return=f,U=d;break}U=f}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}U=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Ko(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,U=g;break e}U=s.return}}var m=t.current;for(U=m;U!==null;){o=U;var v=o.child;if((o.subtreeFlags&2064)!==0&&v!==null)v.return=o,U=v;else e:for(o=m;U!==null;){if(a=U,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:yc(9,a)}}catch(T){Fe(a,a.return,T)}if(a===o){U=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,U=E;break e}U=a.return}}if(he=i,Qr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(cc,t)}catch{}r=!0}return r}finally{Se=n,pn.transition=e}}return!1}function zv(t,e,n){e=$s(n,e),e=$w(t,e,1),t=Tr(t,e,1),e=Mt(),t!==null&&(qa(t,1,e),Wt(t,e))}function Fe(t,e,n){if(t.tag===3)zv(t,t,n);else for(;e!==null;){if(e.tag===3){zv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){t=$s(n,t),t=Rw(e,t,1),e=Tr(e,t,1),t=Mt(),e!==null&&(qa(e,1,t),Wt(e,t));break}}e=e.return}}function OC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(wt&n)===n&&(Ze===4||Ze===3&&(wt&130023424)===wt&&500>qe()-Hp?_i(t,0):qp|=n),Wt(t,e)}function tS(t,e){e===0&&((t.mode&1)===0?e=1:(e=Il,Il<<=1,(Il&130023424)===0&&(Il=4194304)));var n=Mt();t=Zn(t,e),t!==null&&(qa(t,e,n),Wt(t,n))}function $C(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tS(t,n)}function RC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),tS(t,n)}var nS;nS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)zt=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return zt=!1,xC(t,e,n);zt=(t.flags&131072)!==0}else zt=!1,De&&(e.flags&1048576)!==0&&sw(e,Iu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eu(t,e),t=e.pendingProps;var i=Ds(e,Dt.current);_s(e,n),i=Fp(null,e,r,t,i,n);var s=Vp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(s=!0,Eu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Op(e),i.updater=gc,e.stateNode=i,i._reactInternals=e,ef(e,r,t,n),e=rf(null,e,r,!0,s,n)):(e.tag=0,De&&s&&Cp(e),Pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LC(r),t=wn(r,t),i){case 0:e=nf(null,e,r,t,n);break e;case 1:e=Ov(null,e,r,t,n);break e;case 11:e=Av(null,e,r,t,n);break e;case 14:e=Pv(null,e,r,wn(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),nf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Ov(t,e,r,i,n);case 3:e:{if(Vw(e),t===null)throw Error(A(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uw(t,e),Cu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$s(Error(A(423)),e),e=$v(t,e,r,n,i);break e}else if(r!==i){i=$s(Error(A(424)),e),e=$v(t,e,r,n,i);break e}else for(Jt=_r(e.stateNode.containerInfo.firstChild),en=e,De=!0,En=null,n=fw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(As(),r===i){e=Jn(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return pw(e),t===null&&Xd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Kd(r,i)?o=null:s!==null&&Kd(r,s)&&(e.flags|=32),Fw(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&Xd(e),null;case 13:return Bw(t,e,n);case 4:return $p(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ps(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Av(t,e,r,i,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(_u,r._currentValue),r._currentValue=o,s!==null)if(Cn(s.value,o)){if(s.children===i.children&&!Kt.current){e=Jn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_s(e,n),i=mn(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),Pv(t,e,r,i,n);case 15:return Mw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),eu(t,e),e.tag=1,Gt(r)?(t=!0,Eu(e)):t=!1,_s(e,n),hw(e,r,i),ef(e,r,i,n),rf(null,e,r,!0,t,n);case 19:return jw(t,e,n);case 22:return Lw(t,e,n)}throw Error(A(156,e.tag))};function rS(t,e){return N1(t,e)}function MC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new MC(t,e,n,r)}function Qp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LC(t){if(typeof t=="function")return Qp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pp)return 11;if(t===mp)return 14}return 2}function br(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ru(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case os:return Ti(n.children,i,s,e);case fp:o=8,i|=8;break;case _d:return t=dn(12,n,e,i|2),t.elementType=_d,t.lanes=s,t;case Td:return t=dn(13,n,e,i),t.elementType=Td,t.lanes=s,t;case Cd:return t=dn(19,n,e,i),t.elementType=Cd,t.lanes=s,t;case d1:return Sc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c1:o=10;break e;case h1:o=9;break e;case pp:o=11;break e;case mp:o=14;break e;case cr:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ti(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function Sc(t,e,n,r){return t=dn(22,t,r,e),t.elementType=d1,t.lanes=n,t.stateNode={isHidden:!1},t}function Zh(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Jh(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yp(t,e,n,r,i,s,o,a,l){return t=new FC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(s),t}function VC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ss,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iS(t){if(!t)return Mr;t=t._reactInternals;e:{if(Hi(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(Gt(n))return rw(t,n,e)}return e}function sS(t,e,n,r,i,s,o,a,l){return t=Yp(n,r,!0,t,i,s,o,a,l),t.context=iS(null),n=t.current,r=Mt(),i=kr(n),s=Wn(r,i),s.callback=e!=null?e:null,Tr(n,s,i),t.current.lanes=i,qa(t,i,r),Wt(t,r),t}function Ec(t,e,n,r){var i=e.current,s=Mt(),o=kr(i);return n=iS(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tr(i,e,o),t!==null&&(Tn(t,i,o,s),Xl(t,i,o)),o}function $u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xp(t,e){qv(t,e),(t=t.alternate)&&qv(t,e)}function BC(){return null}var oS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zp(t){this._internalRoot=t}xc.prototype.render=Zp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Ec(t,e,null,null)};xc.prototype.unmount=Zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){Ec(null,t,null,null)}),e[Xn]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=M1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fr.length&&e!==0&&e<fr[n].priority;n++);fr.splice(n,0,t),n===0&&F1(t)}};function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hv(){}function jC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$u(o);s.call(u)}}var o=sS(e,r,t,0,null,!1,!1,"",Hv);return t._reactRootContainer=o,t[Xn]=o.current,da(t.nodeType===8?t.parentNode:t),Ai(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$u(l);a.call(u)}}var l=Yp(t,0,!1,null,null,!1,!1,"",Hv);return t._reactRootContainer=l,t[Xn]=l.current,da(t.nodeType===8?t.parentNode:t),Ai(function(){Ec(e,l,n,r)}),l}function _c(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$u(o);a.call(l)}}Ec(e,o,t,i)}else o=jC(n,e,t,i,r);return $u(o)}$1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oo(e.pendingLanes);n!==0&&(yp(e,n|1),Wt(e,qe()),(he&6)===0&&(Rs=qe()+500,Qr()))}break;case 13:Ai(function(){var r=Zn(t,1);if(r!==null){var i=Mt();Tn(r,t,1,i)}}),Xp(t,1)}};wp=function(t){if(t.tag===13){var e=Zn(t,134217728);if(e!==null){var n=Mt();Tn(e,t,134217728,n)}Xp(t,134217728)}};R1=function(t){if(t.tag===13){var e=kr(t),n=Zn(t,e);if(n!==null){var r=Mt();Tn(n,t,e,r)}Xp(t,e)}};M1=function(){return Se};L1=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Md=function(t,e,n){switch(e){case"input":if(Nd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pc(r);if(!i)throw Error(A(90));p1(r),Nd(r,i)}}}break;case"textarea":g1(t,n);break;case"select":e=n.value,e!=null&&Ss(t,!!n.multiple,e,!1)}};I1=Kp;_1=Ai;var UC={usingClientEntryPoint:!1,Events:[Ka,cs,pc,E1,x1,Kp]},Io={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zC={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k1(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||BC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{cc=$l.inject(zC),$n=$l}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(e))throw Error(A(200));return VC(t,e,null,n)};on.createRoot=function(t,e){if(!Jp(t))throw Error(A(299));var n=!1,r="",i=oS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yp(t,1,!1,null,null,n,!1,r,i),t[Xn]=e.current,da(t.nodeType===8?t.parentNode:t),new Zp(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=k1(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return Ai(t)};on.hydrate=function(t,e,n){if(!Ic(e))throw Error(A(200));return _c(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!Jp(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sS(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Xn]=e.current,da(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xc(e)};on.render=function(t,e,n){if(!Ic(e))throw Error(A(200));return _c(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!Ic(t))throw Error(A(40));return t._reactRootContainer?(Ai(function(){_c(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};on.unstable_batchedUpdates=Kp;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ic(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return _c(t,e,n,!1,r)};on.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=on})(s1);var Kv=s1.exports;xd.createRoot=Kv.createRoot,xd.hydrateRoot=Kv.hydrateRoot;var aS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gv=Je.createContext&&Je.createContext(aS),Tc={exports:{}},Cc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC=D.exports,HC=Symbol.for("react.element"),KC=Symbol.for("react.fragment"),GC=Object.prototype.hasOwnProperty,WC=qC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QC={key:!0,ref:!0,__self:!0,__source:!0};function lS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GC.call(e,r)&&!QC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HC,type:t,key:s,ref:o,props:i,_owner:WC.current}}Cc.Fragment=KC;Cc.jsx=lS;Cc.jsxs=lS;(function(t){t.exports=Cc})(Tc);const kc=Tc.exports.Fragment,w=Tc.exports.jsx,G=Tc.exports.jsxs;var Nr=globalThis&&globalThis.__assign||function(){return Nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Nr.apply(this,arguments)},YC=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function uS(t){return t&&t.map(function(e,n){return Je.createElement(e.tag,Nr({key:n},e.attr),uS(e.child))})}function Ki(t){return function(e){return w(XC,{...Nr({attr:Nr({},t.attr)},e),children:uS(t.child)})}}function XC(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=YC(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),G("svg",{...Nr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Nr(Nr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),children:[s&&w("title",{children:s}),t.children]})};return Gv!==void 0?w(Gv.Consumer,{children:function(n){return e(n)}}):e(aS)}function cS(t){return Ki({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(t)}function hS(t){return Ki({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function dS(t){return Ki({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(t)}function ZC(t){return Ki({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}function JC(t){return Ki({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function ek(t){return Ki({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(t)}function em(t){return Ki({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(t)}const tk=[{name:"Project",to:"/project"},{name:"Contact",to:"#contact"},{name:"About",to:"/about"}],nk=()=>{const[t,e]=D.exports.useState(!1);return G("nav",{className:"navigation ",children:[G("a",{href:"/",children:[" ",w("h1",{className:"hel",children:"Umar."})," "]}),w("button",{className:"hamburger",onClick:()=>{e(!t)},children:w(ZC,{})}),w("div",{className:t?"navigation-menu expanded":"navigation-menu",children:w("ul",{children:tk.map(n=>w("li",{children:w("a",{href:n.to,className:"mx-4  text-white",children:n.name})},n.name))})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ik=function(t){const e=fS(t);return pS.encodeByteArray(e,!0)},Ru=function(t){return ik(t).replace(/\./g,"")},sk=function(t){try{return pS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mu(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ok(n)||(t[n]=Mu(t[n],e[n]));return t}function ok(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ak(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lk(){return typeof self=="object"&&self.self===self}function uk(){return!ak()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mS(){return typeof indexedDB=="object"}function ck(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function hk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=()=>hk().__FIREBASE_DEFAULTS__,fk=()=>{if(typeof process>"u")return;const t=process.env.__FIREBASE_DEFAULTS__,e=process.env.__FIREBASE_DEFAULTS_PATH__;if(t)return e&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(t);if(e&&typeof require<"u")try{return require(e)}catch{console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${e}`)}},pk=()=>{if(typeof document>"u")return;const t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),e=t&&sk(t[1]);return e&&JSON.parse(e)},mk=()=>dk()||fk()||pk(),gk=()=>{var t;return(t=mk())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ru(JSON.stringify(n)),Ru(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="FirebaseError";class Gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wk,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Sk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gi(i,a,r)}}function Sk(t,e){return t.replace(Ek,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ek=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Qv(s)&&Qv(o)){if(!vf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qv(t){return t!==null&&typeof t=="object"}function xk(t,e){const n=new Ik(t,e);return n.subscribe.bind(n)}class Ik{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_k(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ed),i.error===void 0&&(i.error=ed),i.complete===void 0&&(i.complete=ed);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _k(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ed(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kk(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ck(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ck(t){return t===ui?void 0:t}function kk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=[];var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const gS={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Nk=me.INFO,Dk={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Ak=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Dk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=Nk,this._logHandler=Ak,this._userLogHandler=null,tm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}function Pk(t){tm.forEach(e=>{e.setLogLevel(t)})}function Ok(t,e){for(const n of tm){let r=null;e&&e.level&&(r=gS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r!=null?r:i.logLevel)&&t({level:me[s].toLowerCase(),message:a,args:o,type:i.name})}}}const $k=(t,e)=>e.some(n=>t instanceof n);let Yv,Xv;function Rk(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mk(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,yf=new WeakMap,yS=new WeakMap,td=new WeakMap,rm=new WeakMap;function Lk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Dr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vS.set(n,t)}).catch(()=>{}),rm.set(e,t),e}function Fk(t){if(yf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yf.set(t,e)}let wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vk(t){wf=t(wf)}function Bk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nd(this),e,...n);return yS.set(r,e.sort?e.sort():[e]),Dr(r)}:Mk().includes(t)?function(...e){return t.apply(nd(this),e),Dr(vS.get(this))}:function(...e){return Dr(t.apply(nd(this),e))}}function jk(t){return typeof t=="function"?Bk(t):(t instanceof IDBTransaction&&Fk(t),$k(t,Rk())?new Proxy(t,wf):t)}function Dr(t){if(t instanceof IDBRequest)return Lk(t);if(td.has(t))return td.get(t);const e=jk(t);return e!==t&&(td.set(t,e),rm.set(e,t)),e}const nd=t=>rm.get(t);function Uk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Dr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Dr(o.result),l.oldVersion,l.newVersion,Dr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const zk=["get","getKey","getAll","getAllKeys","count"],qk=["put","add","delete","clear"],rd=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rd.get(e))return rd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zk.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return rd.set(e,s),s}Vk(t=>({...t,get:(e,n,r)=>Zv(e,n)||t.get(e,n,r),has:(e,n)=>!!Zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sf="@firebase/app",Jv="0.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new nm("@firebase/app"),Gk="@firebase/app-compat",Wk="@firebase/analytics-compat",Qk="@firebase/analytics",Yk="@firebase/app-check-compat",Xk="@firebase/app-check",Zk="@firebase/auth",Jk="@firebase/auth-compat",eb="@firebase/database",tb="@firebase/database-compat",nb="@firebase/functions",rb="@firebase/functions-compat",ib="@firebase/installations",sb="@firebase/installations-compat",ob="@firebase/messaging",ab="@firebase/messaging-compat",lb="@firebase/performance",ub="@firebase/performance-compat",cb="@firebase/remote-config",hb="@firebase/remote-config-compat",db="@firebase/storage",fb="@firebase/storage-compat",pb="@firebase/firestore",mb="@firebase/firestore-compat",gb="firebase",vb="9.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]",yb={[Sf]:"fire-core",[Gk]:"fire-core-compat",[Qk]:"fire-analytics",[Wk]:"fire-analytics-compat",[Xk]:"fire-app-check",[Yk]:"fire-app-check-compat",[Zk]:"fire-auth",[Jk]:"fire-auth-compat",[eb]:"fire-rtdb",[tb]:"fire-rtdb-compat",[nb]:"fire-fn",[rb]:"fire-fn-compat",[ib]:"fire-iid",[sb]:"fire-iid-compat",[ob]:"fire-fcm",[ab]:"fire-fcm-compat",[lb]:"fire-perf",[ub]:"fire-perf-compat",[cb]:"fire-rc",[hb]:"fire-rc-compat",[db]:"fire-gcs",[fb]:"fire-gcs-compat",[pb]:"fire-fst",[mb]:"fire-fst-compat","fire-js":"fire-js",[gb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Map,Ea=new Map;function Lu(t,e){try{t.container.addComponent(e)}catch(n){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wS(t,e){t.container.addOrOverwriteComponent(e)}function Ms(t){const e=t.name;if(Ea.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Ea.set(e,t);for(const n of Fr.values())Lu(n,t);return!0}function SS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wb(t,e,n=Lr){SS(t,e).clearInstance(n)}function Sb(){Ea.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qn=new bc("app","Firebase",Eb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=vb;function sm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lr,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qn.create("bad-app-name",{appName:String(i)});if(n||(n=gk()),!n)throw Qn.create("no-options");const s=Fr.get(i);if(s){if(vf(n,s.options)&&vf(r,s.config))return s;throw Qn.create("duplicate-app",{appName:i})}const o=new bk(i);for(const l of Ea.values())o.addComponent(l);const a=new xb(n,r,o);return Fr.set(i,a),a}function Ib(t=Lr){const e=Fr.get(t);if(!e&&t===Lr)return sm();if(!e)throw Qn.create("no-app",{appName:t});return e}function _b(){return Array.from(Fr.values())}async function ES(t){const e=t.name;Fr.has(e)&&(Fr.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Ar(t,e,n){var r;let i=(r=yb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(a.join(" "));return}Ms(new Pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function xS(t,e){if(t!==null&&typeof t!="function")throw Qn.create("invalid-log-argument");Ok(t,e)}function IS(t){Pk(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebase-heartbeat-database",Cb=1,xa="firebase-heartbeat-store";let id=null;function _S(){return id||(id=Uk(Tb,Cb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xa)}}}).catch(t=>{throw Qn.create("idb-open",{originalErrorMessage:t.message})})),id}async function kb(t){var e;try{return(await _S()).transaction(xa).objectStore(xa).get(TS(t))}catch(n){if(n instanceof Gi)Oi.warn(n.message);else{const r=Qn.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Oi.warn(r.message)}}}async function ey(t,e){var n;try{const i=(await _S()).transaction(xa,"readwrite");return await i.objectStore(xa).put(e,TS(t)),i.done}catch(r){if(r instanceof Gi)Oi.warn(r.message);else{const i=Qn.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Oi.warn(i.message)}}}function TS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=1024,Nb=30*24*60*60*1e3;class Db{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ty();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Nb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ty(),{heartbeatsToSend:n,unsentEntries:r}=Ab(this._heartbeatsCache.heartbeats),i=Ru(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ty(){return new Date().toISOString().substring(0,10)}function Ab(t,e=bb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ny(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ny(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mS()?ck().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await kb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ny(t){return Ru(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){Ms(new Pi("platform-logger",e=>new Hk(e),"PRIVATE")),Ms(new Pi("heartbeat",e=>new Db(e),"PRIVATE")),Ar(Sf,Jv,t),Ar(Sf,Jv,"esm2017"),Ar("fire-js","")}Ob("");const $b=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:im,_DEFAULT_ENTRY_NAME:Lr,_addComponent:Lu,_addOrOverwriteComponent:wS,_apps:Fr,_clearComponents:Sb,_components:Ea,_getProvider:SS,_registerComponent:Ms,_removeServiceInstance:wb,deleteApp:ES,getApp:Ib,getApps:_b,initializeApp:sm,onLog:xS,registerVersion:Ar,setLogLevel:IS,FirebaseError:Gi},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this._delegate=e,this.firebase=n,Lu(e,new Pi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ES(this._delegate)))}_getService(e,n=Lr){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Lr){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Lu(this._delegate,e)}_addOrOverwriteComponent(e){wS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},ry=new bc("app-compat","Firebase",Mb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Ar,setLogLevel:IS,onLog:xS,apps:null,SDK_VERSION:im,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:$b}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Lr,!Wv(e,u))throw ry.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const h=sm(u,c);if(Wv(e,h.name))return e[h.name];const d=new t(h,n);return e[h.name]=d,d}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,h=c.replace("-compat","");if(Ms(u)&&u.type==="PUBLIC"){const d=(f=i())=>{if(typeof f[h]!="function")throw ry.create("invalid-app-argument",{appName:c});return f[h]()};u.serviceProps!==void 0&&Mu(d,u.serviceProps),n[h]=d,t.prototype[h]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){const t=Lb(Rb);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:CS,extendNamespace:e,createSubscribe:xk,ErrorFactory:bc,deepExtend:Mu});function e(n){Mu(t,n)}return t}const Fb=CS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new nm("@firebase/app-compat"),Vb="@firebase/app-compat",Bb="0.1.35";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){Ar(Vb,Bb,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(lk()&&self.firebase!==void 0){iy.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&iy.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Nc=Fb;jb();var Ub="firebase",zb="9.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nc.registerVersion(Ub,zb,"app-compat");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,om=om||{},Z=qb||self;function Fu(){}function Dc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Hb(t){return Object.prototype.hasOwnProperty.call(t,sd)&&t[sd]||(t[sd]=++Kb)}var sd="closure_uid_"+(1e9*Math.random()>>>0),Kb=0;function Gb(t,e,n){return t.call.apply(t.bind,arguments)}function Wb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bt=Gb:bt=Wb,bt.apply(null,arguments)}function Rl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Yr(){this.s=this.s,this.o=this.o}var Qb=0;Yr.prototype.s=!1;Yr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Qb!=0)&&Hb(this)};Yr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function am(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Dc(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var Yb=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",Fu,e),Z.removeEventListener("test",Fu,e)}catch{}return t}();function Vu(t){return/^[\s\xa0]*$/.test(t)}var oy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function od(t,e){return t<e?-1:t>e?1:0}function Ac(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function An(t){return Ac().indexOf(t)!=-1}function lm(t){return lm[" "](t),t}lm[" "]=Fu;function Xb(t){var e=e2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Zb=An("Opera"),Ls=An("Trident")||An("MSIE"),bS=An("Edge"),Ef=bS||Ls,NS=An("Gecko")&&!(Ac().toLowerCase().indexOf("webkit")!=-1&&!An("Edge"))&&!(An("Trident")||An("MSIE"))&&!An("Edge"),Jb=Ac().toLowerCase().indexOf("webkit")!=-1&&!An("Edge");function DS(){var t=Z.document;return t?t.documentMode:void 0}var Bu;e:{var ad="",ld=function(){var t=Ac();if(NS)return/rv:([^\);]+)(\)|;)/.exec(t);if(bS)return/Edge\/([\d\.]+)/.exec(t);if(Ls)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Jb)return/WebKit\/(\S+)/.exec(t);if(Zb)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ld&&(ad=ld?ld[1]:""),Ls){var ud=DS();if(ud!=null&&ud>parseFloat(ad)){Bu=String(ud);break e}}Bu=ad}var e2={};function t2(){return Xb(function(){let t=0;const e=oy(String(Bu)).split("."),n=oy("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=od(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||od(i[2].length==0,s[2].length==0)||od(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var xf;if(Z.document&&Ls){var ay=DS();xf=ay||parseInt(Bu,10)||void 0}else xf=void 0;var n2=xf;function Ia(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NS){e:{try{lm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:r2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ia.X.h.call(this)}}xt(Ia,Nt);var r2={2:"touch",3:"pen",4:"mouse"};Ia.prototype.h=function(){Ia.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qa="closure_listenable_"+(1e6*Math.random()|0),i2=0;function s2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++i2,this.ba=this.ea=!1}function Pc(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function um(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function AS(t){const e={};for(const n in t)e[n]=t[n];return e}const ly="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ly.length;s++)n=ly[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Oc(t){this.src=t,this.g={},this.h=0}Oc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=_f(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new s2(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function If(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Pc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _f(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var cm="closure_lm_"+(1e6*Math.random()|0),cd={};function OS(t,e,n,r,i){if(r&&r.once)return RS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)OS(t,e[s],n,r,i);return null}return n=fm(n),t&&t[Qa]?t.N(e,n,Wa(r)?!!r.capture:!!r,i):$S(t,e,n,!1,r,i)}function $S(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Wa(i)?!!i.capture:!!i,a=dm(t);if(a||(t[cm]=a=new Oc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=o2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yb||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(LS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function o2(){function t(n){return e.call(t.src,t.listener,n)}const e=a2;return t}function RS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)RS(t,e[s],n,r,i);return null}return n=fm(n),t&&t[Qa]?t.O(e,n,Wa(r)?!!r.capture:!!r,i):$S(t,e,n,!0,r,i)}function MS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)MS(t,e[s],n,r,i);else r=Wa(r)?!!r.capture:!!r,n=fm(n),t&&t[Qa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=_f(s,n,r,i),-1<n&&(Pc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=dm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_f(e,n,r,i)),(n=-1<t?e[t]:null)&&hm(n))}function hm(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Qa])If(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(LS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dm(e))?(If(n,t),n.h==0&&(n.src=null,e[cm]=null)):Pc(t)}}}function LS(t){return t in cd?cd[t]:cd[t]="on"+t}function a2(t,e){if(t.ba)t=!0;else{e=new Ia(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&hm(t),t=n.call(r,e)}return t}function dm(t){return t=t[cm],t instanceof Oc?t:null}var hd="__closure_events_fn_"+(1e9*Math.random()>>>0);function fm(t){return typeof t=="function"?t:(t[hd]||(t[hd]=function(e){return t.handleEvent(e)}),t[hd])}function lt(){Yr.call(this),this.i=new Oc(this),this.P=this,this.I=null}xt(lt,Yr);lt.prototype[Qa]=!0;lt.prototype.removeEventListener=function(t,e,n,r){MS(this,t,e,n,r)};function St(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var i=e;e=new Nt(r,t),PS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ml(o,r,!0,e)&&i}if(o=e.g=t,i=Ml(o,r,!0,e)&&i,i=Ml(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ml(o,r,!1,e)&&i}lt.prototype.M=function(){if(lt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pc(n[r]);delete t.g[e],t.h--}}this.I=null};lt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ml(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&If(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var pm=Z.JSON.stringify;function l2(){var t=BS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class u2{constructor(){this.h=this.g=null}add(e,n){const r=FS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var FS=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new c2,t=>t.reset());class c2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function h2(t){Z.setTimeout(()=>{throw t},0)}function VS(t,e){Tf||d2(),Cf||(Tf(),Cf=!0),BS.add(t,e)}var Tf;function d2(){var t=Z.Promise.resolve(void 0);Tf=function(){t.then(f2)}}var Cf=!1,BS=new u2;function f2(){for(var t;t=l2();){try{t.h.call(t.g)}catch(n){h2(n)}var e=FS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cf=!1}function $c(t,e){lt.call(this),this.h=t||1,this.g=e||Z,this.j=bt(this.kb,this),this.l=Date.now()}xt($c,lt);q=$c.prototype;q.ca=!1;q.R=null;q.kb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),St(this,"tick"),this.ca&&(mm(this),this.start()))}};q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function mm(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}q.M=function(){$c.X.M.call(this),mm(this),delete this.g};function gm(t,e,n){if(typeof t=="function")n&&(t=bt(t,n));else if(t&&typeof t.handleEvent=="function")t=bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function jS(t){t.g=gm(()=>{t.g=null,t.i&&(t.i=!1,jS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class p2 extends Yr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jS(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(t){Yr.call(this),this.h=t,this.g={}}xt(_a,Yr);var uy=[];function US(t,e,n,r){Array.isArray(n)||(n&&(uy[0]=n.toString()),n=uy);for(var i=0;i<n.length;i++){var s=OS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function zS(t){um(t.g,function(e,n){this.g.hasOwnProperty(n)&&hm(e)},t),t.g={}}_a.prototype.M=function(){_a.X.M.call(this),zS(this)};_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rc(){this.g=!0}Rc.prototype.Aa=function(){this.g=!1};function m2(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function g2(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function vs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+y2(t,n)+(r?" "+r:"")})}function v2(t,e){t.info(function(){return"TIMEOUT: "+e})}Rc.prototype.info=function(){};function y2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return pm(n)}catch{return e}}var Wi={},cy=null;function Mc(){return cy=cy||new lt}Wi.Oa="serverreachability";function qS(t){Nt.call(this,Wi.Oa,t)}xt(qS,Nt);function Ta(t){const e=Mc();St(e,new qS(e))}Wi.STAT_EVENT="statevent";function HS(t,e){Nt.call(this,Wi.STAT_EVENT,t),this.stat=e}xt(HS,Nt);function Rt(t){const e=Mc();St(e,new HS(e,t))}Wi.Pa="timingevent";function KS(t,e){Nt.call(this,Wi.Pa,t),this.size=e}xt(KS,Nt);function Ya(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var Lc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},GS={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vm(){}vm.prototype.h=null;function hy(t){return t.h||(t.h=t.i())}function WS(){}var Xa={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function ym(){Nt.call(this,"d")}xt(ym,Nt);function wm(){Nt.call(this,"c")}xt(wm,Nt);var kf;function Fc(){}xt(Fc,vm);Fc.prototype.g=function(){return new XMLHttpRequest};Fc.prototype.i=function(){return{}};kf=new Fc;function Za(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new _a(this),this.O=w2,t=Ef?125:void 0,this.T=new $c(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new QS}function QS(){this.i=null,this.g="",this.h=!1}var w2=45e3,bf={},ju={};q=Za.prototype;q.setTimeout=function(t){this.O=t};function Nf(t,e,n){t.K=1,t.v=Bc(er(e)),t.s=n,t.P=!0,YS(t,null)}function YS(t,e){t.F=Date.now(),Ja(t),t.A=er(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),iE(n.i,"t",r),t.C=0,n=t.l.H,t.h=new QS,t.g=TE(t.l,n?e:null,!t.s),0<t.N&&(t.L=new p2(bt(t.Ka,t,t.g),t.N)),US(t.S,t.g,"readystatechange",t.hb),e=t.H?AS(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ta(),m2(t.j,t.u,t.A,t.m,t.U,t.s)}q.hb=function(t){t=t.target;const e=this.L;e&&Kn(t)==3?e.l():this.Ka(t)};q.Ka=function(t){try{if(t==this.g)e:{const c=Kn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||Ef||this.g&&(this.h.h||this.g.fa()||my(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Ta(3):Ta(2)),Vc(this);var n=this.g.aa();this.Y=n;t:if(XS(this)){var r=my(this.g);t="";var i=r.length,s=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),Qo(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,g2(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vu(a)){var u=a;break t}}u=null}if(n=u)vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Df(this,n);else{this.i=!1,this.o=3,Rt(12),wi(this),Qo(this);break e}}this.P?(ZS(this,c,o),Ef&&this.i&&c==3&&(US(this.S,this.T,"tick",this.gb),this.T.start())):(vs(this.j,this.m,o,null),Df(this,o)),c==4&&wi(this),this.i&&!this.I&&(c==4?EE(this.l,this):(this.i=!1,Ja(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Rt(12)):(this.o=0,Rt(13)),wi(this),Qo(this)}}}catch{}finally{}};function XS(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function ZS(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=S2(t,n),i==ju){e==4&&(t.o=4,Rt(14),r=!1),vs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==bf){t.o=4,Rt(15),vs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else vs(t.j,t.m,i,null),Df(t,i);XS(t)&&i!=ju&&i!=bf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Rt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cm(e),e.K=!0,Rt(11))):(vs(t.j,t.m,n,"[Invalid Chunked Response]"),wi(t),Qo(t))}q.gb=function(){if(this.g){var t=Kn(this.g),e=this.g.fa();this.C<e.length&&(Vc(this),ZS(this,t,e),this.i&&t!=4&&Ja(this))}};function S2(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ju:(n=Number(e.substring(n,r)),isNaN(n)?bf:(r+=1,r+n>e.length?ju:(e=e.substr(r,n),t.C=r+n,e)))}q.cancel=function(){this.I=!0,wi(this)};function Ja(t){t.V=Date.now()+t.O,JS(t,t.O)}function JS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ya(bt(t.fb,t),e)}function Vc(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}q.fb=function(){this.B=null;const t=Date.now();0<=t-this.V?(v2(this.j,this.A),this.K!=2&&(Ta(),Rt(17)),wi(this),this.o=2,Qo(this)):JS(this,this.V-t)};function Qo(t){t.l.G==0||t.I||EE(t.l,t)}function wi(t){Vc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,mm(t.T),zS(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Df(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Af(n.h,t))){if(!t.J&&Af(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)qu(n),zc(n);else break e;Tm(n),Rt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ya(bt(n.bb,n),6e3));if(1>=aE(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Si(n,11)}else if((t.J||n.g==t)&&qu(n),!Vu(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Sm(s,s.h),s.h=null))}if(r.D){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.za=y,Ae(r.F,r.D,y))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=_E(r,r.H?r.ka:null,r.V),o.J){lE(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Vc(a),Ja(a)),r.g=o}else wE(r);0<n.i.length&&qc(n)}else u[0]!="stop"&&u[0]!="close"||Si(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Si(n,7):_m(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Ta(4)}catch{}}function E2(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Dc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function x2(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function eE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Dc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=x2(t),r=E2(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var tE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ci(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ci){this.h=e!==void 0?e:t.h,Uu(this,t.j),this.s=t.s,this.g=t.g,zu(this,t.m),this.l=t.l,e=t.i;var n=new Ca;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dy(this,n),this.o=t.o}else t&&(n=String(t).match(tE))?(this.h=!!e,Uu(this,n[1]||"",!0),this.s=Ro(n[2]||""),this.g=Ro(n[3]||"",!0),zu(this,n[4]),this.l=Ro(n[5]||"",!0),dy(this,n[6]||"",!0),this.o=Ro(n[7]||"")):(this.h=!!e,this.i=new Ca(null,this.h))}Ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Mo(e,fy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Mo(e,fy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Mo(n,n.charAt(0)=="/"?C2:T2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Mo(n,b2)),t.join("")};function er(t){return new Ci(t)}function Uu(t,e,n){t.j=n?Ro(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dy(t,e,n){e instanceof Ca?(t.i=e,N2(t.i,t.h)):(n||(e=Mo(e,k2)),t.i=new Ca(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function Bc(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ro(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Mo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,_2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fy=/[#\/\?@]/g,T2=/[#\?:]/g,C2=/[#\?]/g,k2=/[#\?@]/g,b2=/#/g;function Ca(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xr(t){t.g||(t.g=new Map,t.h=0,t.i&&I2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=Ca.prototype;q.add=function(t,e){Xr(this),this.i=null,t=to(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nE(t,e){Xr(t),e=to(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rE(t,e){return Xr(t),e=to(t,e),t.g.has(e)}q.forEach=function(t,e){Xr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};q.oa=function(){Xr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};q.W=function(t){Xr(this);let e=[];if(typeof t=="string")rE(this,t)&&(e=e.concat(this.g.get(to(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return Xr(this),this.i=null,t=to(this,t),rE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function iE(t,e,n){nE(t,e),0<n.length&&(t.i=null,t.g.set(to(t,e),am(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function to(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function N2(t,e){e&&!t.j&&(Xr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nE(this,r),iE(this,i,n))},t)),t.j=e}var D2=class{constructor(t,e){this.h=t,this.g=e}};function sE(t){this.l=t||A2,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var A2=10;function oE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aE(t){return t.h?1:t.g?t.g.size:0}function Af(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Sm(t,e){t.g?t.g.add(e):t.h=e}function lE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sE.prototype.cancel=function(){if(this.i=uE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uE(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return am(t.i)}function Em(){}Em.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)};Em.prototype.parse=function(t){return Z.JSON.parse(t,void 0)};function P2(){this.g=new Em}function O2(t,e,n){const r=n||"";try{eE(t,function(i,s){let o=i;Wa(i)&&(o=pm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $2(t,e){const n=new Rc;if(Z.Image){const r=new Image;r.onload=Rl(Ll,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rl(Ll,n,r,"TestLoadImage: error",!1,e),r.onabort=Rl(Ll,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rl(Ll,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ll(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function el(t){this.l=t.$b||null,this.j=t.ib||!1}xt(el,vm);el.prototype.g=function(){return new jc(this.l,this.j)};el.prototype.i=function(t){return function(){return t}}({});function jc(t,e){lt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=xm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(jc,lt);var xm=0;q=jc.prototype;q.open=function(t,e){if(this.readyState!=xm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ka(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=xm};q.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cE(this)}else t.text().then(this.Ua.bind(this),this.ga.bind(this))};function cE(t){t.j.read().then(t.Sa.bind(t)).catch(t.ga.bind(t))}q.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tl(this):ka(this),this.readyState==3&&cE(this)}};q.Ua=function(t){this.g&&(this.response=this.responseText=t,tl(this))};q.Ta=function(t){this.g&&(this.response=t,tl(this))};q.ga=function(){this.g&&tl(this)};function tl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ka(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ka(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var R2=Z.JSON.parse;function Ye(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hE,this.K=this.L=!1}xt(Ye,lt);var hE="",M2=/^https?$/i,L2=["POST","PUT"];q=Ye.prototype;q.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kf.g(),this.C=this.u?hy(this.u):hy(kf),this.g.onreadystatechange=bt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){py(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=kS(L2,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pE(this),0<this.B&&((this.K=F2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.qa,this)):this.A=gm(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){py(this,s)}};function F2(t){return Ls&&t2()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.qa=function(){typeof om<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))};function py(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dE(t),Uc(t)}function dE(t){t.D||(t.D=!0,St(t,"complete"),St(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),Uc(this))};q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uc(this,!0)),Ye.X.M.call(this)};q.Ha=function(){this.s||(this.F||this.v||this.l?fE(this):this.eb())};q.eb=function(){fE(this)};function fE(t){if(t.h&&typeof om<"u"&&(!t.C[1]||Kn(t)!=4||t.aa()!=2)){if(t.v&&Kn(t)==4)gm(t.Ha,0,t);else if(St(t,"readystatechange"),Kn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(tE)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!M2.test(i?i.toLowerCase():"")}n=r}if(n)St(t,"complete"),St(t,"success");else{t.m=6;try{var o=2<Kn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",dE(t)}}finally{Uc(t)}}}}function Uc(t,e){if(t.g){pE(t);const n=t.g,r=t.C[0]?Fu:null;t.g=null,t.C=null,e||St(t,"ready");try{n.onreadystatechange=r}catch{}}}function pE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Kn(t){return t.g?t.g.readyState:0}q.aa=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}};q.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Ra=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),R2(e)}};function my(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case hE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}q.Ea=function(){return this.m};q.Na=function(){return typeof this.j=="string"?this.j:String(this.j)};function mE(t){let e="";return um(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Im(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ae(t,e,n))}function _o(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gE(t){this.Ca=0,this.i=[],this.j=new Rc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=_o("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=_o("baseRetryDelayMs",5e3,t),this.ab=_o("retryDelaySeedMs",1e4,t),this.Za=_o("forwardChannelMaxRetries",2,t),this.ta=_o("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Yb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new sE(t&&t.concurrentRequestLimit),this.Fa=new P2,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=t&&t.Wb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}q=gE.prototype;q.ma=8;q.G=1;function _m(t){if(vE(t),t.G==3){var e=t.U++,n=er(t.F);Ae(n,"SID",t.I),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),nl(t,n),e=new Za(t,t.j,e,void 0),e.K=2,e.v=Bc(er(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&(new Image().src=e.v,n=!0),n||(e.g=TE(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ja(e)}IE(t)}function zc(t){t.g&&(Cm(t),t.g.cancel(),t.g=null)}function vE(t){zc(t),t.u&&(Z.clearTimeout(t.u),t.u=null),qu(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function qc(t){oE(t.h)||t.m||(t.m=!0,VS(t.Ja,t),t.C=0)}function V2(t,e){return aE(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Ya?0:t.Za)?!1:(t.m=Ya(bt(t.Ja,t,e),xE(t,t.C)),t.C++,!0)}q.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Za(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=AS(s),PS(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yE(this,i,e),n=er(this.F),Ae(n,"RID",t),Ae(n,"CVER",22),this.D&&Ae(n,"X-HTTP-Session-Id",this.D),nl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(mE(s)))+"&"+e:this.o&&Im(n,this.o,s)),Sm(this.h,i),this.Xa&&Ae(n,"TYPE","init"),this.O?(Ae(n,"$req",e),Ae(n,"SID","null"),i.Z=!0,Nf(i,n,null)):Nf(i,n,e),this.G=2}}else this.G==3&&(t?gy(this,t):this.i.length==0||oE(this.h)||gy(this))};function gy(t,e){var n;e?n=e.m:n=t.U++;const r=er(t.F);Ae(r,"SID",t.I),Ae(r,"RID",n),Ae(r,"AID",t.T),nl(t,r),t.o&&t.s&&Im(r,t.o,t.s),n=new Za(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=yE(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Sm(t.h,n),Nf(n,r,e)}function nl(t,e){t.ia&&um(t.ia,function(n,r){Ae(e,r,n)}),t.l&&eE({},function(n,r){Ae(e,r,n)})}function yE(t,e,n){n=Math.min(t.i.length,n);var r=t.l?bt(t.l.Qa,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{O2(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function wE(t){t.g||t.u||(t.Z=1,VS(t.Ia,t),t.A=0)}function Tm(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Ya(bt(t.Ia,t),xE(t,t.A)),t.A++,!0)}q.Ia=function(){if(this.u=null,SE(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ya(bt(this.cb,this),t)}};q.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Rt(10),zc(this),SE(this))};function Cm(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function SE(t){t.g=new Za(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=er(t.sa);Ae(e,"RID","rpc"),Ae(e,"SID",t.I),Ae(e,"CI",t.L?"0":"1"),Ae(e,"AID",t.T),Ae(e,"TYPE","xmlhttp"),nl(t,e),t.o&&t.s&&Im(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Bc(er(e)),n.s=null,n.P=!0,YS(n,t)}q.bb=function(){this.v!=null&&(this.v=null,zc(this),Tm(this),Rt(19))};function qu(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function EE(t,e){var n=null;if(t.g==e){qu(t),Cm(t),t.g=null;var r=2}else if(Af(t.h,e))n=e.D,lE(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Mc(),St(r,new KS(r,n)),qc(t)}else wE(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&V2(t,e)||r==2&&Tm(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Si(t,5);break;case 4:Si(t,10);break;case 3:Si(t,6);break;default:Si(t,2)}}}function xE(t,e){let n=t.Wa+Math.floor(Math.random()*t.ab);return t.l||(n*=2),n*e}function Si(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=bt(t.jb,t);n||(n=new Ci("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Uu(n,"https"),Bc(n)),$2(n.toString(),r)}else Rt(2);t.G=0,t.l&&t.l.va(e),IE(t),vE(t)}q.jb=function(t){t?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function IE(t){if(t.G=0,t.la=[],t.l){const e=uE(t.h);(e.length!=0||t.i.length!=0)&&(sy(t.la,e),sy(t.la,t.i),t.h.i.length=0,am(t.i),t.i.length=0),t.l.ua()}}function _E(t,e,n){var r=n instanceof Ci?er(n):new Ci(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),zu(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ci(null,void 0);r&&Uu(s,r),e&&(s.g=e),i&&zu(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ae(r,n,e),Ae(r,"VER",t.ma),nl(t,r),r}function TE(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ye(new el({ib:!0})):new Ye(t.ra),e.L=t.H,e}function CE(){}q=CE.prototype;q.xa=function(){};q.wa=function(){};q.va=function(){};q.ua=function(){};q.Qa=function(){};function Hu(){if(Ls&&!(10<=Number(n2)))throw Error("Environmental error: no available transport.")}Hu.prototype.g=function(t,e){return new rn(t,e)};function rn(t,e){lt.call(this),this.g=new gE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Xb)&&!Vu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vu(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new no(this)}xt(rn,lt);rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Rt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=_E(t,null,t.V),qc(t)};rn.prototype.close=function(){_m(this.g)};rn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=pm(t),t=n);e.i.push(new D2(e.$a++,t)),e.G==3&&qc(e)};rn.prototype.M=function(){this.g.l=null,delete this.j,_m(this.g),delete this.g,rn.X.M.call(this)};function kE(t){ym.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(kE,ym);function bE(){wm.call(this),this.status=1}xt(bE,wm);function no(t){this.g=t}xt(no,CE);no.prototype.xa=function(){St(this.g,"a")};no.prototype.wa=function(t){St(this.g,new kE(t))};no.prototype.va=function(t){St(this.g,new bE)};no.prototype.ua=function(){St(this.g,"b")};Hu.prototype.createWebChannel=Hu.prototype.g;rn.prototype.send=rn.prototype.u;rn.prototype.open=rn.prototype.m;rn.prototype.close=rn.prototype.close;Lc.NO_ERROR=0;Lc.TIMEOUT=8;Lc.HTTP_ERROR=6;GS.COMPLETE="complete";WS.EventType=Xa;Xa.OPEN="a";Xa.CLOSE="b";Xa.ERROR="c";Xa.MESSAGE="d";lt.prototype.listen=lt.prototype.N;Ye.prototype.listenOnce=Ye.prototype.O;Ye.prototype.getLastError=Ye.prototype.Na;Ye.prototype.getLastErrorCode=Ye.prototype.Ea;Ye.prototype.getStatus=Ye.prototype.aa;Ye.prototype.getResponseJson=Ye.prototype.Ra;Ye.prototype.getResponseText=Ye.prototype.fa;Ye.prototype.send=Ye.prototype.da;var B2=function(){return new Hu},j2=function(){return Mc()},dd=Lc,U2=GS,z2=Wi,vy={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},q2=el,Fl=WS,H2=Ye;const yy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="9.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new nm("@firebase/firestore");function Pf(){return Vr.logLevel}function K2(t){Vr.setLogLevel(t)}function N(t,...e){if(Vr.logLevel<=me.DEBUG){const n=e.map(km);Vr.debug(`Firestore (${ro}): ${t}`,...n)}}function He(t,...e){if(Vr.logLevel<=me.ERROR){const n=e.map(km);Vr.error(`Firestore (${ro}): ${t}`,...n)}}function Fs(t,...e){if(Vr.logLevel<=me.WARN){const n=e.map(km);Vr.warn(`Firestore (${ro}): ${t}`,...n)}}function km(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(t="Unexpected state"){const e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+t;throw He(e),new Error(e)}function Q(t,e){t||z()}function G2(t,e){t||z()}function F(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class Q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y2{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new st;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new st,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new st)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Q(typeof r.accessToken=="string"),new NE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Q(e===null||typeof e=="string"),new rt(e)}}class X2{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Q(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Z2{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new X2(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eN{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Q(typeof n.token=="string"),this.A=n.token,new J2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function Vs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function AE(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Oe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new Oe(0,0))}static max(){return new W(new Oe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ce extends ba{construct(e,n,r){return new ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const nN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends ba{construct(e,n,r){return new Ke(e,n,r)}static isValidIdentifier(e){return nN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ke(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new k(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new k(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new k(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(n)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.path=e}static fromPath(e){return new R(ce.fromString(e))}static fromName(e){return new R(ce.fromString(e).popFirst(5))}static empty(){return new R(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new ce(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Of(t){return t.fields.find(e=>e.kind===2)}function ci(t){return t.fields.filter(e=>e.kind!==2)}PE.UNKNOWN_ID=-1;class rN{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ku{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ku(0,sn.min())}}function OE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new sn(i,R.empty(),e)}function $E(t){return new sn(t.readTime,t.key,-1)}class sn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sn(W.min(),R.empty(),-1)}static max(){return new sn(W.max(),R.empty(),-1)}}function bm(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=R.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ME{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zr(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==RE)throw t;N("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new st,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new Yo(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Nm(r.target.error);this.P.reject(new Yo(e,i))}}static open(e,n,r,i){try{return new Hc(n,e.transaction(i,r))}catch(s){throw new Yo(n,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(N("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new sN(n)}}class xn{constructor(e,n,r){this.name=e,this.version=n,this.S=r,xn.D(gf())===12.2&&He("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return N("SimpleDb","Removing database:",e),hi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!mS())return!1;if(xn.N())return!0;const e=gf(),n=xn.D(e),r=0<n&&n<10,i=xn.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||(N("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Yo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new k(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new k(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Yo(e,o))},i.onupgradeneeded=s=>{N("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.$(o,i.transaction,s.oldVersion,this.version).next(()=>{N("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.F(e);const a=Hc.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.V(),u)).catch(u=>(a.abort(u),x.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(N("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class iN{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return hi(this.U.delete())}}class Yo extends k{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Jr(t){return t.name==="IndexedDbTransactionError"}class sN{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(N("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(N("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hi(r)}add(e){return N("SimpleDb","ADD",this.store.name,e,e),hi(this.store.add(e))}get(e){return hi(this.store.get(e)).next(n=>(n===void 0&&(n=null),N("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return N("SimpleDb","DELETE",this.store.name,e),hi(this.store.delete(e))}count(){return N("SimpleDb","COUNT",this.store.name),hi(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new x((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new x((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){N("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new x((r,i)=>{n.onerror=s=>{const o=Nm(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new x((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new iN(a),u=n(a.primaryKey,a.value,l);if(u instanceof x){const c=u.catch(h=>(l.done(),x.reject(h)));r.push(c)}l.isDone?i():l.G===null?a.continue():a.continue(l.G)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function hi(t){return new x((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Nm(r.target.error);n(i)}})}let wy=!1;function Nm(t){const e=xn.D(gf());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new k("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wy||(wy=!0,setTimeout(()=>{throw r},0)),r}}return t}class oN{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){N("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{N("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){Jr(n)?N("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Zr(n)}await this.nt(6e4)})}}class aN{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,s=!0;return x.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return N("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(N("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=$E(s);bm(o,r)>0&&(r=o)}),new sn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.at=-1;class Be{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vl(this.root,e,this.comparator,!0)}}class Vl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:gt.RED,this.left=i!=null?i:gt.EMPTY,this.right=s!=null?s:gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new gt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ey(this.data.getIterator())}getIteratorFrom(e){return new Ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class Ey{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ts(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new tn([])}unionWith(e){let n=new xe(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new et(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const uN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(t){if(Q(!!t),typeof t=="string"){let e=0;const n=uN.exec(t);if(Q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FE(t){const e=t.mapValue.fields.__previous_value__;return Dm(e)?FE(e):e}function Na(t){const e=Br(t.mapValue.fields.__local_write_time__.timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class jr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jr&&e.projectId===this.projectId&&e.database===this.database}}function rl(t){return t==null}function Da(t){return t===0&&1/t==-1/0}function VE(t){return typeof t=="number"&&Number.isInteger(t)&&!Da(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},iu={nullValue:"NULL_VALUE"};function Ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dm(t)?4:BE(t)?9007199254740991:10:z()}function Fn(t,e){if(t===e)return!0;const n=Ri(t);if(n!==Ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Na(t).isEqual(Na(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Br(r.timestampValue),o=Br(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return $i(r.bytesValue).isEqual($i(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ve(r.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ve(r.integerValue)===Ve(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ve(r.doubleValue),o=Ve(i.doubleValue);return s===o?Da(s)===Da(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Vs(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Sy(s)!==Sy(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Fn(s[a],o[a])))return!1;return!0}(t,e);default:return z()}}function Aa(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function Ur(t,e){if(t===e)return 0;const n=Ri(t),r=Ri(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ve(i.integerValue||i.doubleValue),a=Ve(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return xy(t.timestampValue,e.timestampValue);case 4:return xy(Na(t),Na(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(i,s){const o=$i(i),a=$i(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ee(o[l],a[l]);if(u!==0)return u}return ee(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ee(Ve(i.latitude),Ve(s.latitude));return o!==0?o:ee(Ve(i.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Ur(o[l],a[l]);if(u)return u}return ee(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===wr.mapValue&&s===wr.mapValue)return 0;if(i===wr.mapValue)return 1;if(s===wr.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=ee(a[c],u[c]);if(h!==0)return h;const d=Ur(o[a[c]],l[u[c]]);if(d!==0)return d}return ee(a.length,u.length)}(t.mapValue,e.mapValue);default:throw z()}}function xy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=Br(t),r=Br(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function Cs(t){return $f(t)}function $f(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Br(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$i(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,R.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=$f(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${$f(r.fields[a])}`;return s+"}"}(t.mapValue):z();var e,n}function Mi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rf(t){return!!t&&"integerValue"in t}function Pa(t){return!!t&&"arrayValue"in t}function Iy(t){return!!t&&"nullValue"in t}function _y(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function su(t){return!!t&&"mapValue"in t}function Xo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function hN(t){return"nullValue"in t?iu:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Mi(jr.empty(),R.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:z()}function dN(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Mi(jr.empty(),R.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?wr:z()}function Ty(t,e){const n=Ur(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Cy(t,e){const n=Ur(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.value=e}static empty(){return new vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(n)}setAll(e){let n=Ke.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];su(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vt(Xo(this.value))}}function jE(t){const e=[];return Qi(t.fields,(n,r)=>{const i=new Ke([n]);if(su(r)){const s=jE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Te(e,0,W.min(),W.min(),vt.empty(),0)}static newFoundDocument(e,n,r){return new Te(e,1,n,W.min(),r,0)}static newNoDocument(e,n){return new Te(e,2,n,W.min(),vt.empty(),0)}static newUnknownDocument(e,n){return new Te(e,3,n,W.min(),vt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Te&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function ky(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fN(t,e,n,r,i,s,o)}function Li(t){const e=F(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Cs(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),e.ht=n}return e.ht}function pN(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Cs(r.value)}`;var r}).join(", ")}]`),rl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Cs(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Cs(n)).join(",")),`Target(${e})`}function il(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!xN(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Fn(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ay(t.startAt,e.startAt)&&Ay(t.endAt,e.endAt)}function Gu(t){return R.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Wu(t,e){return t.filters.filter(n=>n instanceof yt&&n.field.isEqual(e))}function by(t,e,n){let r=iu,i=!0;for(const s of Wu(t,e)){let o=iu,a=!0;switch(s.op){case"<":case"<=":o=hN(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=iu}Ty({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Ty({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Ny(t,e,n){let r=wr,i=!0;for(const s of Wu(t,e)){let o=wr,a=!0;switch(s.op){case">=":case">":o=dN(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=wr}Cy({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Cy({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}class yt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new mN(e,n,r):n==="array-contains"?new yN(e,r):n==="in"?new wN(e,r):n==="not-in"?new SN(e,r):n==="array-contains-any"?new EN(e,r):new yt(e,n,r)}static lt(e,n,r){return n==="in"?new gN(e,r):new vN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Ur(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.ft(Ur(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mN extends yt{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.ft(n)}}class gN extends yt{constructor(e,n){super(e,"in",n),this.keys=UE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vN extends yt{constructor(e,n){super(e,"not-in",n),this.keys=UE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class yN extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pa(n)&&Aa(n.arrayValue,this.value)}}class wN extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Aa(this.value.arrayValue,n)}}class SN extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Aa(this.value.arrayValue,n)}}class EN extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Aa(this.value.arrayValue,r))}}class zr{constructor(e,n){this.position=e,this.inclusive=n}}class ks{constructor(e,n="asc"){this.field=e,this.dir=n}}function xN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Dy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=R.comparator(R.fromName(o.referenceValue),n.key):r=Ur(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ay(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function zE(t,e,n,r,i,s,o,a){return new rr(t,e,n,r,i,s,o,a)}function io(t){return new rr(t)}function Py(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Am(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pm(t){for(const e of t.filters)if(e.dt())return e.field;return null}function Om(t){return t.collectionGroup!==null}function Bs(t){const e=F(t);if(e._t===null){e._t=[];const n=Pm(e),r=Am(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new ks(n)),e._t.push(new ks(Ke.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new ks(Ke.keyField(),s))}}}return e._t}function Qt(t){const e=F(t);if(!e.wt)if(e.limitType==="F")e.wt=ky(e.path,e.collectionGroup,Bs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Bs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ks(s.field,o))}const r=e.endAt?new zr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zr(e.startAt.position,e.startAt.inclusive):null;e.wt=ky(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Qu(t,e,n){return new rr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sl(t,e){return il(Qt(t),Qt(e))&&t.limitType===e.limitType}function qE(t){return`${Li(Qt(t))}|lt:${t.limitType}`}function Mf(t){return`Query(target=${pN(Qt(t))}; limitType=${t.limitType})`}function $m(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Dy(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Bs(n),r)||n.endAt&&!function(i,s,o){const a=Dy(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Bs(n),r))}(t,e)}function HE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KE(t){return(e,n)=>{let r=!1;for(const i of Bs(t)){const s=IN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IN(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Ur(a,l):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Da(e)?"-0":e}}function WE(t){return{integerValue:""+t}}function QE(t,e){return VE(e)?WE(e):GE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function _N(t,e,n){return t instanceof js?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Fi?XE(t,e):t instanceof Vi?ZE(t,e):function(r,i){const s=YE(r,i),o=Oy(s)+Oy(r.yt);return Rf(s)&&Rf(r.yt)?WE(o):GE(r.It,o)}(t,e)}function TN(t,e,n){return t instanceof Fi?XE(t,e):t instanceof Vi?ZE(t,e):n}function YE(t,e){return t instanceof Us?Rf(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class js extends Kc{}class Fi extends Kc{constructor(e){super(),this.elements=e}}function XE(t,e){const n=JE(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vi extends Kc{constructor(e){super(),this.elements=e}}function ZE(t,e){let n=JE(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class Us extends Kc{constructor(e,n){super(),this.It=e,this.yt=n}}function Oy(t){return Ve(t.integerValue||t.doubleValue)}function JE(t){return Pa(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.field=e,this.transform=n}}function CN(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Fi&&r instanceof Fi||n instanceof Vi&&r instanceof Vi?Vs(n.elements,r.elements,Fn):n instanceof Us&&r instanceof Us?Fn(n.yt,r.yt):n instanceof js&&r instanceof js}(t.transform,e.transform)}class kN{constructor(e,n){this.version=e,this.transformResults=n}}class Pe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pe}static exists(e){return new Pe(void 0,e)}static updateTime(e){return new Pe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gc{}function ex(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oo(t.key,Pe.none()):new so(t.key,t.data,Pe.none());{const n=t.data,r=vt.empty();let i=new xe(Ke.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ir(t.key,r,new tn(i.toArray()),Pe.none())}}function bN(t,e,n){t instanceof so?function(r,i,s){const o=r.value.clone(),a=Ry(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ir?function(r,i,s){if(!ou(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Ry(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(tx(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Zo(t,e,n,r){return t instanceof so?function(i,s,o,a){if(!ou(i.precondition,s))return o;const l=i.value.clone(),u=My(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ir?function(i,s,o,a){if(!ou(i.precondition,s))return o;const l=My(i.fieldTransforms,a,s),u=s.data;return u.setAll(tx(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return ou(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function NN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YE(r.transform,i||null);s!=null&&(n===null&&(n=vt.empty()),n.set(r.field,s))}return n||null}function $y(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Vs(n,r,(i,s)=>CN(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class so extends Gc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ir extends Gc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ry(t,e,n){const r=new Map;Q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,TN(o,a,n[i]))}return r}function My(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_N(s,o,e))}return r}class oo extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rm extends Gc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,ue;function nx(t){switch(t){default:return z();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function rx(t){if(t===void 0)return He("GRPC error has no .code"),_.UNKNOWN;switch(t){case Ge.OK:return _.OK;case Ge.CANCELLED:return _.CANCELLED;case Ge.UNKNOWN:return _.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return _.INTERNAL;case Ge.UNAVAILABLE:return _.UNAVAILABLE;case Ge.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Ge.NOT_FOUND:return _.NOT_FOUND;case Ge.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Ge.ABORTED:return _.ABORTED;case Ge.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Ge.DATA_LOSS:return _.DATA_LOSS;default:return z()}}(ue=Ge||(Ge={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Be(R.comparator);function Ht(){return AN}const ix=new Be(R.comparator);function Lo(...t){let e=ix;for(const n of t)e=e.insert(n.key,n);return e}function sx(t){let e=ix;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pn(){return Jo()}function ox(){return Jo()}function Jo(){return new ei(t=>t.toString(),(t,e)=>t.isEqual(e))}const PN=new Be(R.comparator),ON=new xe(R.comparator);function te(...t){let e=ON;for(const n of t)e=e.add(n);return e}const $N=new xe(ee);function Wc(){return $N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n)),new al(W.min(),r,Wc(),Ht(),te())}}class ll{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ll(et.EMPTY_BYTE_STRING,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class ax{constructor(e,n){this.targetId=e,this.At=n}}class lx{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ly{constructor(){this.Rt=0,this.bt=Vy(),this.Pt=et.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=te(),n=te(),r=te();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new ll(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=Vy()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class RN{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ht(),this.qt=Fy(),this.Kt=new xe(ee)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(Gu(s))if(r===0){const o=new R(s.path);this.jt(n,o,Te.newNoDocument(o,W.min()))}else Q(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Gu(a.target)){const l=new R(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Te.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=te();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new al(e,n,this.Kt,this.Ut,r);return this.Ut=Ht(),this.qt=Fy(),this.Kt=new xe(ee),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new Ly,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new xe(ee),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||N("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ly),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function Fy(){return new Be(R.comparator)}function Vy(){return new Be(R.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),LN=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class FN{constructor(e,n){this.databaseId=e,this.gt=n}}function Oa(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ux(t,e){return t.gt?e.toBase64():e.toUint8Array()}function VN(t,e){return Oa(t,e.toTimestamp())}function ot(t){return Q(!!t),W.fromTimestamp(function(e){const n=Br(e);return new Oe(n.seconds,n.nanos)}(t))}function Mm(t,e){return function(n){return new ce(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function cx(t){const e=ce.fromString(t);return Q(yx(e)),e}function $a(t,e){return Mm(t.databaseId,e.path)}function Mn(t,e){const n=cx(e);if(n.get(1)!==t.databaseId.projectId)throw new k(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(dx(n))}function Lf(t,e){return Mm(t.databaseId,e)}function hx(t){const e=cx(t);return e.length===4?ce.emptyPath():dx(e)}function Ra(t){return new ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dx(t){return Q(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function By(t,e,n){return{name:$a(t,e),fields:n.value.mapValue.fields}}function fx(t,e,n){const r=Mn(t,e.name),i=ot(e.updateTime),s=new vt({mapValue:{fields:e.fields}}),o=Te.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function BN(t,e){return"found"in e?function(n,r){Q(!!r.found),r.found.name,r.found.updateTime;const i=Mn(n,r.found.name),s=ot(r.found.updateTime),o=new vt({mapValue:{fields:r.found.fields}});return Te.newFoundDocument(i,s,o)}(t,e):"missing"in e?function(n,r){Q(!!r.missing),Q(!!r.readTime);const i=Mn(n,r.missing),s=ot(r.readTime);return Te.newNoDocument(i,s)}(t,e):z()}function jN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(Q(u===void 0||typeof u=="string"),et.fromBase64String(u||"")):(Q(u===void 0||u instanceof Uint8Array),et.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?_.UNKNOWN:rx(l.code);return new k(u,l.message||"")}(o);n=new lx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mn(t,r.document.name),s=ot(r.document.updateTime),o=new vt({mapValue:{fields:r.document.fields}}),a=Te.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new au(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mn(t,r.document),s=r.readTime?ot(r.readTime):W.min(),o=Te.newNoDocument(i,s),a=r.removedTargetIds||[];n=new au([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mn(t,r.document),s=r.removedTargetIds||[];n=new au([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new DN(i),o=r.targetId;n=new ax(o,s)}}return n}function Ma(t,e){let n;if(e instanceof so)n={update:By(t,e.key,e.value)};else if(e instanceof oo)n={delete:$a(t,e.key)};else if(e instanceof ir)n={update:By(t,e.key,e.data),updateMask:WN(e.fieldMask)};else{if(!(e instanceof Rm))return z();n={verify:$a(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof js)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Us)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:VN(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:z()}(t,e.precondition)),n}function Ff(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Pe.updateTime(ot(i.updateTime)):i.exists!==void 0?Pe.exists(i.exists):Pe.none()}(e.currentDocument):Pe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)Q(o.setToServerValue==="REQUEST_TIME"),a=new js;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new Fi(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new Vi(u)}else"increment"in o?a=new Us(s,o.increment):z();const l=Ke.fromServerFormat(o.fieldPath);return new ol(l,a)}(t,i)):[];if(e.update){e.update.name;const i=Mn(t,e.update.name),s=new vt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new tn(l.map(u=>Ke.fromServerFormat(u)))}(e.updateMask);return new ir(i,s,o,n,r)}return new so(i,s,n,r)}if(e.delete){const i=Mn(t,e.delete);return new oo(i,n)}if(e.verify){const i=Mn(t,e.verify);return new Rm(i,n)}return z()}function UN(t,e){return t&&t.length>0?(Q(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?ot(r.updateTime):ot(i);return s.isEqual(W.min())&&(s=ot(i)),new kN(s,r.transformResults||[])}(n,e))):[]}function px(t,e){return{documents:[Lf(t,e.path)]}}function mx(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Lf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Lf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(_y(h.value))return{unaryFilter:{field:ns(h.field),op:"IS_NAN"}};if(Iy(h.value))return{unaryFilter:{field:ns(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(_y(h.value))return{unaryFilter:{field:ns(h.field),op:"IS_NOT_NAN"}};if(Iy(h.value))return{unaryFilter:{field:ns(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(h.field),op:HN(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:ns(c.field),direction:qN(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||rl(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function gx(t){let e=hx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Q(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=vx(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new ks(ys(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,rl(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new zr(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new zr(d,h)}(n.endAt)),zE(e,i,o,s,a,"F",l,u)}function zN(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function vx(t){return t?t.unaryFilter!==void 0?[GN(t)]:t.fieldFilter!==void 0?[KN(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>vx(e)).reduce((e,n)=>e.concat(n)):z():[]}function qN(t){return MN[t]}function HN(t){return LN[t]}function ns(t){return{fieldPath:t.canonicalString()}}function ys(t){return Ke.fromServerFormat(t.fieldPath)}function KN(t){return yt.create(ys(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(t.fieldFilter.op),t.fieldFilter.value)}function GN(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ys(t.unaryFilter.field);return yt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ys(t.unaryFilter.field);return yt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ys(t.unaryFilter.field);return yt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ys(t.unaryFilter.field);return yt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return z()}}function WN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jy(e)),e=QN(t.get(n),e);return jy(e)}function QN(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function jy(t){return t+""}function On(t){const e=t.length;if(Q(e>=2),e===2)return Q(t.charAt(0)===""&&t.charAt(1)===""),ce.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&z(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:z()}s=o+2}return new ce(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e){return[t,Lt(e)]}function wx(t,e,n){return[t,Lt(e),n]}const YN={},XN=["prefixPath","collectionGroup","readTime","documentId"],ZN=["prefixPath","collectionGroup","documentId"],JN=["collectionGroup","readTime","prefixPath","documentId"],eD=["canonicalId","targetId"],tD=["targetId","path"],nD=["path","targetId"],rD=["collectionId","parent"],iD=["indexId","uid"],sD=["uid","sequenceNumber"],oD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aD=["indexId","uid","orderedDocumentKey"],lD=["userId","collectionPath","documentId"],uD=["userId","collectionPath","largestBatchId"],cD=["userId","collectionGroup","largestBatchId"],Sx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hD=[...Sx,"documentOverlays"],Ex=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xx=Ex,dD=[...xx,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends ME{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function ut(t,e){const n=F(t);return xn.M(n.ie,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ox();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ex(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(n,r)=>$y(n,r))&&Vs(this.baseMutations,e.baseMutations,(n,r)=>$y(n,r))}}class Fm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Q(e.mutations.length===r.length);let i=PN;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r,i,s=W.min(),o=W.min(),a=et.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.re=e}}function fD(t,e){let n;if(e.document)n=fx(t.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=R.fromSegments(e.noDocument.path),i=ji(e.noDocument.readTime);n=Te.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return z();{const r=R.fromSegments(e.unknownDocument.path),i=ji(e.unknownDocument.version);n=Te.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Oe(r[0],r[1]);return W.fromTimestamp(i)}(e.readTime)),n}function zy(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:$a(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Oa(i,s.version.toTimestamp())}}(t.re,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Bi(e.version)};else{if(!e.isUnknownDocument())return z();r.unknownDocument={path:n.path.toArray(),version:Bi(e.version)}}return r}function Yu(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bi(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ji(t){const e=new Oe(t.seconds,t.nanoseconds);return W.fromTimestamp(e)}function di(t,e){const n=(e.baseMutations||[]).map(s=>Ff(t.re,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Ff(t.re,s)),i=Oe.fromMillis(e.localWriteTimeMs);return new Lm(e.batchId,i,n,r)}function Fo(t){const e=ji(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ji(t.lastLimboFreeSnapshotVersion):W.min();let r;var i;return t.query.documents!==void 0?(Q((i=t.query).documents.length===1),r=Qt(io(hx(i.documents[0])))):r=function(s){return Qt(gx(s))}(t.query),new Pr(r,t.targetId,0,t.lastListenSequenceNumber,e,n,et.fromBase64String(t.resumeToken))}function _x(t,e){const n=Bi(e.snapshotVersion),r=Bi(e.lastLimboFreeSnapshotVersion);let i;i=Gu(e.target)?px(t.re,e.target):mx(t.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Li(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Bm(t){const e=gx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qu(e,e.limit,"L"):e}function fd(t,e){return new Vm(e.largestBatchId,Ff(t.re,e.overlayMutation))}function qy(t,e){const n=e.path.lastSegment();return[t,Lt(e.path.popLast()),n]}function Hy(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Bi(r.readTime),documentKey:Lt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{getBundleMetadata(e,n){return Ky(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ji(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return Ky(e).put({bundleId:(r=n).id,createTime:Bi(ot(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return Gy(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Bm(i.bundledQuery),readTime:ji(i.readTime)};var i})}saveNamedQuery(e,n){return Gy(e).put(function(r){return{name:r.name,readTime:Bi(ot(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function Ky(t){return ut(t,"bundles")}function Gy(t){return ut(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){const r=n.uid||"";return new Qc(e,r)}getOverlay(e,n){return To(e).get(qy(this.userId,n)).next(r=>r?fd(this.It,r):null)}getOverlays(e,n){const r=Pn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Vm(n,o);i.push(this.ue(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Lt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(To(e).Y("collectionPathOverlayIndex",a))}),x.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Pn(),s=Lt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return To(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=fd(this.It,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Pn();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return To(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const h=fd(this.It,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):c.done()}).next(()=>s)}ue(e,n){return To(e).put(function(r,i,s){const[o,a,l]=qy(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ma(r.re,s.mutation)}}(this.It,this.userId,n))}}function To(t){return ut(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Ve(e.integerValue));else if("doubleValue"in e){const r=Ve(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),Da(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),typeof r=="string"?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me($i(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?BE(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):z()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const i of Object.keys(r))this._e(i,n),this.ae(r[i],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const i of r)this.ae(i,n)}ge(e,n){this.le(n,37),R.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}fi.Te=new fi;function mD(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function Wy(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=mD(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class gD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ae(r.value),r=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Pe(r.value),r=n.next();this.ve()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=n.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=n.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const n=this.Ce(e),r=Wy(n);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ne(e){const n=this.Ce(e),r=Wy(n);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ae(e){const n=255&e;n===0?(this.Oe(0),this.Oe(255)):n===255?(this.Oe(255),this.Oe(0)):this.Oe(n)}Pe(e){const n=255&e;n===0?(this.Fe(0),this.Fe(255)):n===255?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class vD{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class yD{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Co{constructor(){this.Be=new gD,this.Le=new vD(this.Be),this.Ue=new yD(this.Be)}seed(e){this.Be.seed(e)}qe(e){return e===0?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new pi(this.indexId,this.documentKey,this.arrayValue,r)}}function si(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Qy(t.arrayValue,e.arrayValue),n!==0?n:(n=Qy(t.directionalValue,e.directionalValue),n!==0?n:R.comparator(t.documentKey,e.documentKey)))}function Qy(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const r=n;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const n=Of(e);if(n!==void 0&&!this.ze(n))return!1;const r=ci(e);let i=0,s=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(this.je!==void 0){const o=r[i];if(!this.He(this.je,o)||!this.Je(this.Ge[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ge.length||!this.Je(this.Ge[s++],o))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Ye=new jm}addToCollectionParentIndex(e,n){return this.Ye.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(sn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(sn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class jm{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new Uint8Array(0);class ED{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new jm,this.Ze=new ei(r=>Li(r),(r,i)=>il(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const s={collectionId:r,parent:Lt(i)};return Yy(e).put(s)}return x.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[AE(n),""],!1,!0);return Yy(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(On(o.parent))}return r})}addFieldIndex(e,n){const r=jl(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=bo(e);return s.next(a=>{o.put(Hy(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=jl(e),i=bo(e),s=ko(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=ko(e);let i=!0;const s=new Map;return x.forEach(this.tn(n),o=>this.en(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=te();const a=[];return x.forEach(s,(l,u)=>{var c;N("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${Li(n)}`);const h=function(v,E){const T=Of(E);if(T===void 0)return null;for(const C of Wu(v,T.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(u,l),d=function(v,E){const T=new Map;for(const C of ci(E))for(const b of Wu(v,C.fieldPath))switch(b.op){case"==":case"in":T.set(C.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return T.set(C.fieldPath.canonicalString(),b.value),Array.from(T.values())}return null}(u,l),f=function(v,E){const T=[];let C=!0;for(const b of ci(E)){const $=b.kind===0?by(v,b.fieldPath,v.startAt):Ny(v,b.fieldPath,v.startAt);T.push($.value),C&&(C=$.inclusive)}return new zr(T,C)}(u,l),p=function(v,E){const T=[];let C=!0;for(const b of ci(E)){const $=b.kind===0?Ny(v,b.fieldPath,v.endAt):by(v,b.fieldPath,v.endAt);T.push($.value),C&&(C=$.inclusive)}return new zr(T,C)}(u,l),y=this.nn(l,u,f),S=this.nn(l,u,p),g=this.sn(l,u,d),m=this.rn(l.indexId,h,y,f.inclusive,S,p.inclusive,g);return x.forEach(m,v=>r.J(v,n.limit).next(E=>{E.forEach(T=>{const C=R.fromSegments(T.documentKey);o.has(C)||(o=o.add(C),a.push(C))})}))}).next(()=>a)}return x.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let h=0;h<l;++h){const d=n?this.on(n[h/u]):Bl,f=this.un(e,d,r[h%u],i),p=this.cn(e,d,s[h%u],o),y=a.map(S=>this.un(e,d,S,!0));c.push(...this.createRange(f,p,y))}return c}un(e,n,r,i){const s=new pi(e,R.empty(),n,r);return i?s:s.Ke()}cn(e,n,r,i){const s=new pi(e,R.empty(),n,r);return i?s.Ke():s}en(e,n){const r=new wD(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.We(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;return x.forEach(this.tn(n),i=>this.en(e,i).next(s=>{s?r!==0&&s.fields.length<function(o){let a=new xe(Ke.comparator),l=!1;for(const u of o.filters){const c=u;c.field.isKeyField()||(c.op==="array-contains"||c.op==="array-contains-any"?l=!0:a=a.add(c.field))}for(const u of o.orderBy)u.field.isKeyField()||(a=a.add(u.field));return a.size+(l?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,n){const r=new Co;for(const i of ci(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.qe(i.kind);fi.Te.ce(s,o)}return r.$e()}on(e){const n=new Co;return fi.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const r=new Co;return fi.Te.ce(Mi(this.databaseId,n),r.qe(function(i){const s=ci(i);return s.length===0?0:s[s.length-1].kind}(e))),r.$e()}sn(e,n,r){if(r===null)return[];let i=[];i.push(new Co);let s=0;for(const o of ci(e)){const a=r[s++];for(const l of i)if(this.ln(n,o.fieldPath)&&Pa(a))i=this.fn(i,o,a);else{const u=l.qe(o.kind);fi.Te.ce(a,u)}}return this.dn(i)}nn(e,n,r){return this.sn(e,n,r.position)}dn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].$e();return n}fn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Co;l.seed(a.$e()),fi.Te.ce(o,l.qe(n.kind)),s.push(l)}return s}ln(e,n){return!!e.filters.find(r=>r instanceof yt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=jl(e),i=bo(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return x.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const h=c?new Ku(c.sequenceNumber,new sn(ji(c.readTime),new R(On(c.documentKey)),c.largestBatchId)):Ku.empty(),d=u.fields.map(([f,p])=>new rN(Ke.fromServerFormat(f),p));return new PE(u.indexId,u.collectionGroup,d,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ee(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=jl(e),s=bo(e);return this._n(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>x.forEach(a,l=>s.put(Hy(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return x.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?x.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,l=>this.wn(e,i,l).next(u=>{const c=this.mn(s,l);return u.isEqual(c)?x.resolve():this.gn(e,s,l,u,c)}))))})}yn(e,n,r,i){return ko(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,n.key),documentKey:n.key.path.toArray()})}pn(e,n,r,i){return ko(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=ko(e);let s=new xe(si);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,n)])},(o,a)=>{s=s.add(new pi(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}mn(e,n){let r=new xe(si);const i=this.an(n,e);if(i==null)return r;const s=Of(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Pa(o))for(const a of o.arrayValue.values||[])r=r.add(new pi(n.indexId,e.key,this.on(a),i))}else r=r.add(new pi(n.indexId,e.key,Bl,i));return r}gn(e,n,r,i,s){N("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,h){const d=a.getIterator(),f=l.getIterator();let p=ts(d),y=ts(f);for(;p||y;){let S=!1,g=!1;if(p&&y){const m=u(p,y);m<0?g=!0:m>0&&(S=!0)}else p!=null?g=!0:S=!0;S?(c(y),y=ts(f)):g?(h(p),p=ts(d)):(p=ts(d),y=ts(f))}}(i,s,si,a=>{o.push(this.yn(e,n,r,a))},a=>{o.push(this.pn(e,n,r,a))}),x.waitFor(o)}_n(e){let n=1;return bo(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>si(o,a)).filter((o,a,l)=>!a||si(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=si(o,e),l=si(o,n);if(a===0)i[0]=e.Ke();else if(a>0&&l<0)i.push(o),i.push(o.Ke());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Bl,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Bl,[]]));return s}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Xy)}getMinOffset(e,n){return x.mapArray(this.tn(n),r=>this.en(e,r).next(i=>i||z())).next(Xy)}}function Yy(t){return ut(t,"collectionParents")}function ko(t){return ut(t,"indexEntries")}function jl(t){return ut(t,"indexConfiguration")}function bo(t){return ut(t,"indexState")}function Xy(t){Q(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;bm(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new sn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,h,d)=>(a++,d.delete()));s.push(l.next(()=>{Q(a===1)}));const u=[];for(const c of n.mutations){const h=wx(e,c.key.path,n.batchId);s.push(i.delete(h)),u.push(c.key)}return x.waitFor(s).next(()=>u)}function Xu(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw z();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(41943040,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);class Yc{constructor(e,n,r,i){this.userId=e,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,n,r,i){Q(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Yc(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lr(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=is(e),o=lr(e);return o.add({}).next(a=>{Q(typeof a=="number");const l=new Lm(a,n,r,i),u=function(d,f,p){const y=p.baseMutations.map(g=>Ma(d.re,g)),S=p.mutations.map(g=>Ma(d.re,g));return{userId:f,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:y,mutations:S}}(this.It,this.userId,l),c=[];let h=new xe((d,f)=>ee(d.canonicalString(),f.canonicalString()));for(const d of i){const f=wx(this.userId,d.key.path,a);h=h.add(d.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,YN))}return h.forEach(d=>{c.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.In[a]=l.keys()}),x.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return lr(e).get(n).next(r=>r?(Q(r.userId===this.userId),di(this.It,r)):null)}Tn(e,n){return this.In[n]?x.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return lr(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Q(a.batchId>=r),s=di(this.It,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return lr(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lr(e).W("userMutationsIndex",n).next(r=>r.map(i=>di(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=lu(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return is(e).Z({range:i},(o,a,l)=>{const[u,c,h]=o,d=On(c);if(u===this.userId&&n.path.isEqual(d))return lr(e).get(h).next(f=>{if(!f)throw z();Q(f.userId===this.userId),s.push(di(this.It,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(ee);const i=[];return n.forEach(s=>{const o=lu(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=is(e).Z({range:a},(u,c,h)=>{const[d,f,p]=u,y=On(f);d===this.userId&&s.path.isEqual(y)?r=r.add(p):h.done()});i.push(l)}),x.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=lu(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new xe(ee);return is(e).Z({range:o},(l,u,c)=>{const[h,d,f]=l,p=On(d);h===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):c.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],i=[];return n.forEach(s=>{i.push(lr(e).get(s).next(o=>{if(o===null)throw z();Q(o.userId===this.userId),r.push(di(this.It,o))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Tx(e.ie,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return x.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return is(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=On(s[1]);i.push(l)}else a.done()}).next(()=>{Q(i.length===0)})})}containsKey(e,n){return Cx(e,this.userId,n)}Rn(e){return kx(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Cx(t,e,n){const r=lu(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return is(t).Z({range:s,X:!0},(a,l,u)=>{const[c,h,d]=a;c===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function lr(t){return ut(t,"mutations")}function is(t){return ut(t,"documentMutations")}function kx(t){return ut(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ui(0)}static vn(){return new Ui(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new Ui(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>W.fromTimestamp(new Oe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>rs(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(Q(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return rs(e).Z((o,a)=>{const l=Fo(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>x.waitFor(s)).next(()=>i)}forEachTarget(e,n){return rs(e).Z((r,i)=>{const s=Fo(i);n(s)})}Vn(e){return Jy(e).get("targetGlobalKey").next(n=>(Q(n!==null),n))}Sn(e,n){return Jy(e).put("targetGlobalKey",n)}Dn(e,n){return rs(e).put(_x(this.It,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Li(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return rs(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Fo(a);il(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=mr(e);return n.forEach(o=>{const a=Lt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),x.waitFor(i)}removeMatchingKeys(e,n,r){const i=mr(e);return x.forEach(n,s=>{const o=Lt(s.path);return x.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=mr(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=mr(e);let s=te();return i.Z({range:r,X:!0},(o,a,l)=>{const u=On(o[1]),c=new R(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Lt(n.path),i=IDBKeyRange.bound([r],[AE(r)],!1,!0);let s=0;return mr(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}se(e,n){return rs(e).get(n).next(r=>r?Fo(r):null)}}function rs(t){return ut(t,"targets")}function Jy(t){return ut(t,"targetGlobal")}function mr(t){return ut(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0([t,e],[n,r]){const i=ee(t,n);return i===0?ee(e,r):i}class ID{constructor(e){this.xn=e,this.buffer=new xe(e0),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();e0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _D{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){N("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jr(n)?N("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Zr(n)}await this.Fn(3e5)})}}class TD{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(qt.at);const r=new ID(n);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(N("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(Zy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zy):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(N("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Pf()<=me.DEBUG&&N("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new TD(r,i)}(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}qn(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return Ul(e,r)}removeReference(e,n,r){return Ul(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ul(e,n)}Gn(e,n){return function(r,i){let s=!1;return kx(r).tt(o=>Cx(r,o,i).next(a=>(a&&(s=!0),x.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,a)=>{if(a<=n){const l=this.Gn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,W.min()),mr(e).delete([0,Lt(o.path)])))});i.push(l)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ul(e,n)}Kn(e,n){const r=mr(e);let i,s=qt.at;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==qt.at&&n(new R(On(i)),s),s=u,i=l):s=qt.at}).next(()=>{s!==qt.at&&n(new R(On(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ul(t,e){return mr(t).put(function(n,r){return{targetId:0,path:Lt(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.changes=new ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Te.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return oi(e).put(r)}removeEntry(e,n,r){return oi(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Yu(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=Te.newInvalidDocument(n);return oi(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(No(n))},(i,s)=>{r=this.jn(n,s)}).next(()=>r)}Wn(e,n){let r={size:0,document:Te.newInvalidDocument(n)};return oi(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(No(n))},(i,s)=>{r={document:this.jn(n,s),size:Xu(s)}}).next(()=>r)}getEntries(e,n){let r=Ht();return this.zn(e,n,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,n){let r=Ht(),i=new Be(R.comparator);return this.zn(e,n,(s,o)=>{const a=this.jn(s,o);r=r.insert(s,a),i=i.insert(s,Xu(o))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return x.resolve();let i=new xe(r0);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(No(i.first()),No(i.last())),o=i.getIterator();let a=o.getNext();return oi(e).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const h=R.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&r0(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.j(No(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),Yu(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oi(e).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=Ht();for(const l of o){const u=this.jn(R.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);a=a.insert(u.key,u)}return a})}getAllFromCollectionGroup(e,n,r,i){let s=Ht();const o=n0(n,r),a=n0(n,sn.max());return oi(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const h=this.jn(R.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new bD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return t0(e).get("remoteDocumentGlobalKey").next(n=>(Q(!!n),n))}Qn(e,n){return t0(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=fD(this.It,n);if(!(r.isNoDocument()&&r.version.isEqual(W.min())))return r}return Te.newInvalidDocument(e)}}function Nx(t){return new kD(t)}class bD extends bx{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new ei(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new xe((s,o)=>ee(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Xn.get(s);if(n.push(this.Yn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=zy(this.Yn.It,o);i=i.add(s.path.popLast()),r+=Xu(l)-a.size,n.push(this.Yn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=zy(this.Yn.It,o.convertToNoDocument(W.min()));n.push(this.Yn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Yn.updateMetadata(e,r)),x.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function t0(t){return ut(t,"remoteDocumentGlobal")}function oi(t){return ut(t,"remoteDocumentsV14")}function No(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function n0(t,e){const n=e.documentKey.path.toArray();return[t,Yu(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function r0(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ee(n[s],r[s]),i)return i;return i=ee(n.length,r.length),i||(i=ee(n[n.length-2],r[r.length-2]),i||ee(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&Zo(r.mutation,i,tn.empty(),Oe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=Pn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Lo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ht();const o=Jo(),a=Jo();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ir)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),Zo(c.mutation,u,c.mutation.getFieldMask(),Oe.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new ND(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Jo();let i=new Be((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||tn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||te()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=ox();c.forEach(d=>{if(!s.has(d)){const f=ex(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return R.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Om(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Pn());let a=-1,l=s;return o.next(u=>x.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?x.resolve():this.getBaseDocument(e,c,h).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,te())).next(c=>({batchId:a,changes:sx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=Lo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Lo();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,a=>{const l=function(u,c){return new rr(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Te.newInvalidDocument(u)))});let o=Lo();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Zo(u.mutation,l,tn.empty(),Oe.now()),$m(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):x.resolve(Te.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return x.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:ot(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:Bm(r.bundledQuery),readTime:ot(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.overlays=new Be(R.comparator),this.es=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Pn(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Pn(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Pn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return x.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vm(n,r));let s=this.es.get(n);s===void 0&&(s=te(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.ns=new xe(tt.ss),this.rs=new xe(tt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new tt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new tt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new R(new ce([])),r=new tt(n,e),i=new tt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new R(new ce([])),r=new tt(n,e),i=new tt(n,e+1);let s=te();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return R.comparator(e.key,n.key)||ee(e._s,n._s)}static os(e,n){return ee(e._s,n._s)||R.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new xe(tt.ss)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Lm(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(ee);return n.forEach(i=>{const s=new tt(i,0),o=new tt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),x.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new tt(new R(s),0);let a=new xe(ee);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),x.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Q(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return x.forEach(n.mutations,i=>{const s=new tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new tt(n,0),i=this.gs.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Es=e,this.docs=new Be(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(e,n){let r=Ht();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Te.newInvalidDocument(i))}),x.resolve(r)}getAllFromCollection(e,n,r){let i=Ht();const s=new R(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||bm($E(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return x.resolve(i)}getAllFromCollectionGroup(e,n,r,i){z()}As(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $D(this)}getSize(e){return x.resolve(this.size)}}class $D extends bx{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.persistence=e,this.Rs=new ei(n=>Li(n),il),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Um,this.targetCount=0,this.vs=Ui.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),x.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ui(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Dn(n),x.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new qt(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new RD(this),this.indexManager=new SD,this.remoteDocumentCache=function(r){return new OD(r)}(r=>this.referenceDelegate.xs(r)),this.It=new Ix(n),this.Ns=new DD(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new PD(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){N("MemoryPersistence","Starting transaction:",e);const i=new MD(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return x.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class MD extends ME{constructor(e){super(),this.currentSequenceNumber=e}}class Xc{constructor(e){this.persistence=e,this.Fs=new Um,this.$s=null}static Bs(e){return new Xc(e)}get Ls(){if(this.$s)return this.$s;throw z()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),x.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ls,r=>{const i=R.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return x.or([()=>x.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.It=e}$(e,n,r,i){const s=new Hc("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uy,{unique:!0}),a.createObjectStore("documentMutations")}(e),i0(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=x.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),i0(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:W.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").W().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uy,{unique:!0});const c=l.store("mutations"),h=u.map(d=>c.put(d));return x.waitFor(h)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.qs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:lD});l.createIndex("collectionPathOverlayIndex",uD,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",cD,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:XN});l.createIndex("documentKeyIndex",ZN),l.createIndex("collectionGroupIndex",JN)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:iD}).createIndex("sequenceNumberIndex",sD,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:oD}).createIndex("documentKeyIndex",aD,{unique:!1})}(e))),o}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Xu(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>x.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>x.forEach(a,l=>{Q(l.userId===s.userId);const u=di(this.It,l);return Tx(e,s.userId,u).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new ce(o),u=function(c){return[0,Lt(c)]}(l);s.push(n.get(u).next(c=>c?x.resolve():(h=>n.put({targetId:0,path:Lt(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>x.waitFor(s))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:rD});const r=n.store("collectionParents"),i=new jm,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Lt(l)})}};return n.store("remoteDocuments").Z({X:!0},(o,a)=>{const l=new ce(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([o,a,l],u)=>{const c=On(a);return s(c.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Fo(i),o=_x(this.It,s);return n.put(o)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new R(ce.fromString(u.document.name).popFirst(5)):u.noDocument?R.fromSegments(u.noDocument.path):u.unknownDocument?R.fromSegments(u.unknownDocument.path):z()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>x.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=Nx(this.It),s=new Ax(Xc.Bs,this.It.re);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:te();di(this.It,l).keys().forEach(h=>c=c.add(h)),a.set(l.userId,c)}),x.forEach(a,(l,u)=>{const c=new rt(u),h=Qc.oe(this.It,c),d=s.getIndexManager(c),f=Yc.oe(c,this.It,d,s.referenceDelegate);return new Dx(i,f,h,d).recalculateAndSaveOverlaysForDocumentKeys(new Vf(n,qt.at),l).next()})})}}function i0(t){t.createObjectStore("targetDocuments",{keyPath:tD}).createIndex("documentTargetsIndex",nD,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eD,{unique:!0}),t.createObjectStore("targetGlobal")}const pd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zm{constructor(e,n,r,i,s,o,a,l,u,c,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=s,this.window=o,this.document=a,this.Js=u,this.Ys=c,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=d=>Promise.resolve(),!zm.C())throw new k(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CD(this,i),this.ii=n+"main",this.It=new Ix(l),this.ri=new xn(this.ii,this.Xs,new LD(this.It)),this.Cs=new xD(this.referenceDelegate,this.It),this.remoteDocumentCache=Nx(this.It),this.Ns=new pD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,c===!1&&He("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new k(_.FAILED_PRECONDITION,pd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new qt(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Jr(e))return N("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return N("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Do(e).get("owner").next(n=>x.resolve(this.mi(n)))}gi(e){return zl(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=ut(n,"clientMetadata");return r.W().next(i=>{const s=this.Ii(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return x.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.oi)for(const n of e)this.oi.removeItem(this.Ti(n.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?x.resolve(!0):Do(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new k(_.FAILED_PRECONDITION,pd);return!1}}return!(!this.networkEnabled||!this.inForeground)||zl(e).W().next(r=>this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&N("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Vf(e,qt.at);return this._i(n).next(()=>this.gi(n))}),this.ri.close(),this.Pi()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>zl(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Yc.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ED(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Qc.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){N("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Xs)===15?dD:o===14?xx:o===13?Ex:o===12?hD:o===11?Sx:void z();var o;let a;return this.ri.runTransaction(e,i,s,l=>(a=new Vf(l,this.Ss?this.Ss.next():qt.at),n==="readwrite-primary"?this.fi(a).next(u=>!!u||this.di(a)).next(u=>{if(!u)throw He(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new k(_.FAILED_PRECONDITION,RE);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Vi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Vi(e){return Do(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new k(_.FAILED_PRECONDITION,pd)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Do(e).put("owner",n)}static C(){return xn.C()}_i(e){const n=Do(e);return n.get("owner").next(r=>this.mi(r)?(N("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):x.resolve())}pi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(He(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),uk()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=((n=this.oi)===null||n===void 0?void 0:n.getItem(this.Ti(e)))!==null;return N("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return He("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){He("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Do(t){return ut(t,"owner")}function zl(t){return ut(t,"clientMetadata")}function qm(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(Py(n))return x.resolve(null);let r=Qt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qu(n,null,"F"),r=Qt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=te(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,Qu(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return Py(n)||i.isEqual(W.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(Pf()<=me.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mf(n)),this.Bi(e,o,n,OE(i,-1)))})}Fi(e,n){let r=new xe(KE(e));return n.forEach((i,s)=>{$m(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return Pf()<=me.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",Mf(n)),this.Ni.getDocumentsMatchingQuery(e,n,sn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Be(ee),this.qi=new ei(s=>Li(s),il),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Ox(t,e,n,r){return new FD(t,e,n,r)}async function $x(t,e){const n=F(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=te();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function VD(t,e){const n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=x.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(p=>{const y=l.docVersions.get(f);Q(y!==null),p.version.compareTo(y)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=te();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Rx(t){const e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function BD(t,e){const n=F(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(et.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(p,y,S){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,f,c)&&a.push(n.Cs.updateTargetData(s,f))});let l=Ht(),u=te();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Mx(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(W.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function Mx(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ht();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function jD(t,e){const n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zs(t,e){const n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Pr(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function qs(t,e,n){const r=F(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Jr(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function Zu(t,e,n){const r=F(t);let i=W.min(),s=te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=F(a),h=c.qi.get(u);return h!==void 0?x.resolve(c.Ui.get(h)):c.Cs.getTargetData(l,u)}(r,o,Qt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:te())).next(a=>(Vx(r,HE(e),a),{documents:a,Hi:s})))}function Lx(t,e){const n=F(t),r=F(n.Cs),i=n.Ui.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.se(s,e).next(o=>o?o.target:null))}function Fx(t,e){const n=F(t),r=n.Ki.get(e)||W.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,OE(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Vx(n,e,i),i))}function Vx(t,e,n){let r=t.Ki.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}async function UD(t,e,n,r){const i=F(t);let s=te(),o=Ht();for(const u of n){const c=e.Ji(u.metadata.name);u.document&&(s=s.add(c));const h=e.Yi(u);h.setReadTime(e.Xi(u.metadata.readTime)),o=o.insert(c,h)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),l=await zs(i,function(u){return Qt(io(ce.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>Mx(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Cs.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Cs.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.Wi,c.zi)).next(()=>c.Wi)))}async function zD(t,e,n=te()){const r=await zs(t,Qt(Bm(e.bundledQuery))),i=F(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ot(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const a=r.withResumeToken(et.EMPTY_BYTE_STRING,o);return i.Ui=i.Ui.insert(a.targetId,a),i.Cs.updateTargetData(s,a).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}function s0(t,e){return`firestore_clients_${t}_${e}`}function o0(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function md(t,e){return`firestore_targets_${t}_${e}`}class Ju{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new k(i.error.code,i.error.message))),o?new Ju(e,n,i.state,s):(He("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ea{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new k(r.error.code,r.error.message))),s?new ea(e,r.state,i):(He("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ec{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Wc();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=VE(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new ec(e,s):(He("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Km{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Km(n.clientId,n.onlineState):(He("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bf{constructor(){this.activeTargetIds=Wc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gd{constructor(e,n,r,i,s){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Be(ee),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=s0(this.persistenceKey,this.sr),this.hr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Bf),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const r of e){if(r===this.sr)continue;const i=this.getItem(s0(this.persistenceKey,r));if(i){const s=ec.Zi(r,i);s&&(this.ur=this.ur.insert(s.clientId,s))}}this.gr();const n=this.storage.getItem(this.wr);if(n){const r=this.yr(n);r&&this.pr(r)}for(const r of this.cr)this.rr(r);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(md(this.persistenceKey,e));if(r){const i=ea.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(md(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return N("SharedClientState","READ",e,n),n}setItem(e,n){N("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){N("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const n=e;if(n.storageArea===this.storage){if(N("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void He("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.lr.test(n.key)){if(n.newValue==null){const r=this.vr(n.key);return this.Vr(r,null)}{const r=this.Sr(n.key,n.newValue);if(r)return this.Vr(r.clientId,r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Dr(n.key,n.newValue);if(r)return this.Cr(r)}}else if(this._r.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.yr(n.newValue);if(r)return this.pr(r)}}else if(n.key===this.hr){const r=function(i){let s=qt.at;if(i!=null)try{const o=JSON.parse(i);Q(typeof o=="number"),s=o}catch(o){He("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==qt.at&&this.sequenceNumberHandler(r)}else if(n.key===this.mr){const r=this.Or(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Mr(i)))}}}else this.cr.push(n)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new Ju(this.currentUser,e,n,r),s=o0(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const n=o0(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){const n={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Rr(e,n,r){const i=md(this.persistenceKey,e),s=new ea(e,n,r);this.setItem(i,s.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return ec.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ju.Zi(new rt(s),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return ea.Zi(i,n)}yr(e){return Km.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);N("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Br(o,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Wc();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Bx{constructor(){this.Lr=new Bf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Bf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);N("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(N("RestConnection","Received: ",l),l),l=>{throw Fs("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ro,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=HD[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new H2;a.listenOnce(U2.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case dd.NO_ERROR:const u=a.getResponseJson();N("Connection","XHR received:",JSON.stringify(u)),s(u);break;case dd.TIMEOUT:N("Connection",'RPC "'+e+'" timed out'),o(new k(_.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const c=a.getStatus();if(N("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(p)>=0?p:_.UNKNOWN}(h.status);o(new k(d,h.message))}else o(new k(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new k(_.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{N("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=B2(),o=j2(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new q2({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");N("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const d=new KD({Hr:p=>{h?N("Connection","Not sending because WebChannel is closed:",p):(c||(N("Connection","Opening WebChannel transport."),u.open(),c=!0),N("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),f=(p,y,S)=>{p.listen(y,g=>{try{S(g)}catch(m){setTimeout(()=>{throw m},0)}})};return f(u,Fl.EventType.OPEN,()=>{h||N("Connection","WebChannel transport opened.")}),f(u,Fl.EventType.CLOSE,()=>{h||(h=!0,N("Connection","WebChannel transport closed"),d.io())}),f(u,Fl.EventType.ERROR,p=>{h||(h=!0,Fs("Connection","WebChannel transport errored:",p),d.io(new k(_.UNAVAILABLE,"The operation could not be completed")))}),f(u,Fl.EventType.MESSAGE,p=>{var y;if(!h){const S=p.data[0];Q(!!S);const g=S,m=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(m){N("Connection","WebChannel received error:",m);const v=m.status;let E=function(C){const b=Ge[C];if(b!==void 0)return rx(b)}(v),T=m.message;E===void 0&&(E=_.INTERNAL,T="Unknown error status: "+v+" with message "+m.message),h=!0,d.io(new k(E,T)),u.close()}else N("Connection","WebChannel received:",S),d.ro(S)}}),f(o,z2.STAT_EVENT,p=>{p.stat===vy.PROXY?N("Connection","Detected buffering proxy"):p.stat===vy.NOPROXY&&N("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return typeof window<"u"?window:null}function uu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){return new FN(t,!0)}class Gm{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Gm(e,n)}ko(){return this.state===1||this.state===5||this.Oo()}Oo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&this.Co===null&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Oo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,n){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(He(n.toString()),He("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new k(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WD extends Ux{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=jN(this.It,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?ot(s.readTime):W.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=Ra(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=Gu(a)?{documents:px(i,a)}:{query:mx(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=ux(i,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(o.readTime=Oa(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=zN(this.It,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=Ra(this.It),n.removeTarget=e,this.Lo(n)}}class QD extends Ux{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(Q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=UN(e.writeResults,e.commitTime),r=ot(e.commitTime);return this.listener.tu(r,n)}return Q(!e.writeResults||e.writeResults.length===0),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ra(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ma(this.It,r))};this.Lo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new k(_.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(_.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.So._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(_.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class XD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){this.ru===0&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(He(n),this.uu=!1):N("OnlineStateTracker",n)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.qr(o=>{r.enqueueAndForget(async()=>{ti(this)&&(N("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=F(a);l.wu.add(4),await ao(l),l.yu.set("Unknown"),l.wu.delete(4),await cl(l)}(this))})}),this.yu=new XD(r,i)}}async function cl(t){if(ti(t))for(const e of t.mu)await e(!0)}async function ao(t){for(const e of t.mu)await e(!1)}function Zc(t,e){const n=F(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),Ym(n)?Qm(n):uo(n).Oo()&&Wm(n,e))}function La(t,e){const n=F(t),r=uo(n);n._u.delete(e),r.Oo()&&zx(n,e),n._u.size===0&&(r.Oo()?r.$o():ti(n)&&n.yu.set("Unknown"))}function Wm(t,e){t.pu.Mt(e.targetId),uo(t).Ho(e)}function zx(t,e){t.pu.Mt(e),uo(t).Jo(e)}function Qm(t){t.pu=new RN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t._u.get(e)||null}),uo(t).start(),t.yu.cu()}function Ym(t){return ti(t)&&!uo(t).ko()&&t._u.size>0}function ti(t){return F(t).wu.size===0}function qx(t){t.pu=void 0}async function JD(t){t._u.forEach((e,n)=>{Wm(t,e)})}async function eA(t,e){qx(t),Ym(t)?(t.yu.lu(e),Qm(t)):t.yu.set("Unknown")}async function tA(t,e,n){if(t.yu.set("Online"),e instanceof lx&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r._u.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r._u.delete(o),r.pu.removeTarget(o))}(t,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tc(t,r)}else if(e instanceof au?t.pu.Gt(e):e instanceof ax?t.pu.Yt(e):t.pu.Wt(e),!n.isEqual(W.min()))try{const r=await Rx(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.pu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i._u.get(l);u&&i._u.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i._u.get(a);if(!l)return;i._u.set(a,l.withResumeToken(et.EMPTY_BYTE_STRING,l.snapshotVersion)),zx(i,a);const u=new Pr(l.target,a,1,l.sequenceNumber);Wm(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){N("RemoteStore","Failed to raise snapshot:",r),await tc(t,r)}}async function tc(t,e,n){if(!Jr(e))throw e;t.wu.add(1),await ao(t),t.yu.set("Offline"),n||(n=()=>Rx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{N("RemoteStore","Retrying IndexedDB access"),await n(),t.wu.delete(1),await cl(t)})}function Hx(t,e){return e().catch(n=>tc(t,n,e))}async function lo(t){const e=F(t),n=qr(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;nA(e);)try{const i=await jD(e.localStore,r);if(i===null){e.du.length===0&&n.$o();break}r=i.batchId,rA(e,i)}catch(i){await tc(e,i)}Kx(e)&&Gx(e)}function nA(t){return ti(t)&&t.du.length<10}function rA(t,e){t.du.push(e);const n=qr(t);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function Kx(t){return ti(t)&&!qr(t).ko()&&t.du.length>0}function Gx(t){qr(t).start()}async function iA(t){qr(t).nu()}async function sA(t){const e=qr(t);for(const n of t.du)e.Zo(n.mutations)}async function oA(t,e,n){const r=t.du.shift(),i=Fm.from(r,e,n);await Hx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lo(t)}async function aA(t,e){e&&qr(t).Xo&&await async function(n,r){if(i=r.code,nx(i)&&i!==_.ABORTED){const s=n.du.shift();qr(n).Fo(),await Hx(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await lo(n)}var i}(t,e),Kx(t)&&Gx(t)}async function l0(t,e){const n=F(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=ti(n);n.wu.add(3),await ao(n),r&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),await cl(n)}async function jf(t,e){const n=F(t);e?(n.wu.delete(2),await cl(n)):e||(n.wu.add(2),await ao(n),n.yu.set("Unknown"))}function uo(t){return t.Iu||(t.Iu=function(e,n,r){const i=F(e);return i.iu(),new WD(n,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:JD.bind(null,t),Zr:eA.bind(null,t),zo:tA.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),Ym(t)?Qm(t):t.yu.set("Unknown")):(await t.Iu.stop(),qx(t))})),t.Iu}function qr(t){return t.Tu||(t.Tu=function(e,n,r){const i=F(e);return i.iu(),new QD(n,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:iA.bind(null,t),Zr:aA.bind(null,t),eu:sA.bind(null,t),tu:oA.bind(null,t)}),t.mu.push(async e=>{e?(t.Tu.Fo(),await lo(t)):(await t.Tu.stop(),t.du.length>0&&(N("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))})),t.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new st,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Xm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function co(t,e){if(He("AsyncQueue",`${e}: ${t}`),Jr(t))return new k(_.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=Lo(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new bs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.Eu=new Be(R.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?e.type!==0&&r.type===3?this.Eu=this.Eu.insert(n,e):e.type===3&&r.type!==1?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Eu=this.Eu.remove(n):e.type===1&&r.type===2?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):z():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hs{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Hs(e,n,bs.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.Ru=void 0,this.listeners=[]}}class uA{constructor(){this.queries=new ei(e=>qE(e),sl),this.onlineState="Unknown",this.bu=new Set}}async function Zm(t,e){const n=F(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lA),i)try{s.Ru=await n.onListen(r)}catch(o){const a=co(o,`Initialization of query '${Mf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.vu(s.Ru)&&eg(n)}async function Jm(t,e){const n=F(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function cA(t,e){const n=F(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Ru=i}}r&&eg(n)}function hA(t,e,n){const r=F(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function eg(t){t.bu.forEach(e=>{e.next()})}class tg{constructor(e,n,r){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.ku||!r)&&(!e.docs.isEmpty()||n==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const n=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Nu(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.payload=e,this.byteLength=n}Ou(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.It=e}Ji(e){return Mn(this.It,e)}Yi(e){return e.metadata.exists?fx(this.It,e.document,!1):Te.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ot(e)}}class fA{constructor(e,n,r){this.Mu=e,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Wx(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const r=ce.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,r=new c0(this.It);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||te()).add(s);n.set(o,a)}}return n}async complete(){const e=await UD(this.localStore,new c0(this.It),this.documents,this.Mu.id),n=this.$u(this.documents);for(const r of this.queries)await zD(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function Wx(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.key=e}}class Yx{constructor(e){this.key=e}}class Xx{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=te(),this.mutatedKeys=te(),this.Gu=KE(e),this.Qu=new bs(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new u0,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=$m(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let S=!1;d&&f?d.data.isEqual(f.data)?p!==y&&(r.track({type:3,doc:f}),S=!0):this.Hu(d,f)||(r.track({type:2,doc:f}),S=!0,(l&&this.Gu(f,l)>0||u&&this.Gu(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),S=!0):d&&!f&&(r.track({type:1,doc:d}),S=!0,(l||u)&&(a=!0)),S&&(f?(o=o.add(f),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((u,c)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return f(h)-f(d)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Hs(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new u0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=te(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new Yx(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new Qx(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=te();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Hs.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0)}}class pA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mA{constructor(e){this.key=e,this.nc=!1}}class gA{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ei(a=>qE(a),sl),this.rc=new Map,this.oc=new Set,this.uc=new Be(R.comparator),this.cc=new Map,this.ac=new Um,this.hc={},this.lc=new Map,this.fc=Ui.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function vA(t,e){const n=og(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await zs(n.localStore,Qt(e));n.isPrimaryClient&&Zc(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await ng(n,e,r,a==="current")}return i}async function ng(t,e,n,r){t._c=(c,h,d)=>async function(f,p,y,S){let g=p.view.Wu(y);g.$i&&(g=await Zu(f.localStore,p.query,!1).then(({documents:E})=>p.view.Wu(E,g)));const m=S&&S.targetChanges.get(p.targetId),v=p.view.applyChanges(g,f.isPrimaryClient,m);return Uf(f,p.targetId,v.Xu),v.snapshot}(t,c,h,d);const i=await Zu(t.localStore,e,!0),s=new Xx(e,i.Hi),o=s.Wu(i.documents),a=ll.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);Uf(t,n,l.Xu);const u=new pA(e,n,s);return t.ic.set(e,u),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),l.snapshot}async function yA(t,e){const n=F(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!sl(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qs(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),La(n.remoteStore,r.targetId),Ks(n,r.targetId)}).catch(Zr)):(Ks(n,r.targetId),await qs(n.localStore,r.targetId,!0))}async function wA(t,e,n){const r=ag(t);try{const i=await function(s,o){const a=F(s),l=Oe.now(),u=o.reduce((d,f)=>d.add(f.key),te());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=Ht(),p=te();return a.Gi.getEntries(d,u).next(y=>{f=y,f.forEach((S,g)=>{g.isValidDocument()||(p=p.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(y=>{c=y;const S=[];for(const g of o){const m=NN(g,c.get(g.key).overlayedDocument);m!=null&&S.push(new ir(g.key,m,jE(m.value.mapValue),Pe.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,S,o)}).next(y=>{h=y;const S=y.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(d,y.batchId,S)})}).then(()=>({batchId:h.batchId,changes:sx(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Be(ee)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await sr(r,i.changes),await lo(r.remoteStore)}catch(i){const s=co(i,"Failed to persist write");n.reject(s)}}async function Zx(t,e){const n=F(t);try{const r=await BD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(Q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?Q(o.nc):i.removedDocuments.size>0&&(Q(o.nc),o.nc=!1))}),await sr(n,r,e)}catch(r){await Zr(r)}}function h0(t,e,n){const r=F(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Pu(o)&&(l=!0)}),l&&eg(a)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SA(t,e,n){const r=F(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Be(R.comparator);o=o.insert(s,Te.newNoDocument(s,W.min()));const a=te().add(s),l=new al(W.min(),new Map,new xe(ee),o,a);await Zx(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),sg(r)}else await qs(r.localStore,e,!1).then(()=>Ks(r,e,n)).catch(Zr)}async function EA(t,e){const n=F(t),r=e.batch.batchId;try{const i=await VD(n.localStore,e);ig(n,r,null),rg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sr(n,i)}catch(i){await Zr(i)}}async function xA(t,e,n){const r=F(t);try{const i=await function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Q(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);ig(r,e,n),rg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sr(r,i)}catch(i){await Zr(i)}}async function IA(t,e){const n=F(t);ti(n.remoteStore)||N("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=F(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.lc.get(r)||[];i.push(e),n.lc.set(r,i)}catch(r){const i=co(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function rg(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function ig(t,e,n){const r=F(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ks(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||Jx(t,r)})}function Jx(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(La(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),sg(t))}function Uf(t,e,n){for(const r of n)r instanceof Qx?(t.ac.addReference(r.key,e),_A(t,r)):r instanceof Yx?(N("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||Jx(t,r.key)):z()}function _A(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(N("SyncEngine","New document in limbo: "+n),t.oc.add(r),sg(t))}function sg(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new R(ce.fromString(e)),r=t.fc.next();t.cc.set(r,new mA(n)),t.uc=t.uc.insert(n,r),Zc(t.remoteStore,new Pr(Qt(io(n.path)),r,2,qt.at))}}async function sr(t,e,n){const r=F(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Hm.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.zo(i),await async function(a,l){const u=F(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>x.forEach(l,h=>x.forEach(h.Si,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>x.forEach(h.Di,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Jr(c))throw c;N("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Ui.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);u.Ui=u.Ui.insert(h,p)}}}(r.localStore,s))}async function TA(t,e){const n=F(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=await $x(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new k(_.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sr(n,r.ji)}}function CA(t,e){const n=F(t),r=n.cc.get(e);if(r&&r.nc)return te().add(r.key);{let i=te();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}async function kA(t,e){const n=F(t),r=await Zu(n.localStore,e.query,!0),i=e.view.tc(r);return n.isPrimaryClient&&Uf(n,e.targetId,i.Xu),i}async function bA(t,e){const n=F(t);return Fx(n.localStore,e).then(r=>sr(n,r))}async function NA(t,e,n,r){const i=F(t),s=await function(o,a){const l=F(o),u=F(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Tn(c,a).next(h=>h?l.localDocuments.getDocuments(c,h):x.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await lo(i.remoteStore):n==="acknowledged"||n==="rejected"?(ig(i,e,r||null),rg(i,e),function(o,a){F(F(o).mutationQueue).An(a)}(i.localStore,e)):z(),await sr(i,s)):N("SyncEngine","Cannot apply mutation batch with id: "+e)}async function DA(t,e){const n=F(t);if(og(n),ag(n),e===!0&&n.dc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await d0(n,r.toArray());n.dc=!0,await jf(n.remoteStore,!0);for(const s of i)Zc(n.remoteStore,s)}else if(e===!1&&n.dc!==!1){const r=[];let i=Promise.resolve();n.rc.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ks(n,o),qs(n.localStore,o,!0))),La(n.remoteStore,o)}),await i,await d0(n,r),function(s){const o=F(s);o.cc.forEach((a,l)=>{La(o.remoteStore,l)}),o.ac.fs(),o.cc=new Map,o.uc=new Be(R.comparator)}(n),n.dc=!1,await jf(n.remoteStore,!1)}}async function d0(t,e,n){const r=F(t),i=[],s=[];for(const o of e){let a;const l=r.rc.get(o);if(l&&l.length!==0){a=await zs(r.localStore,Qt(l[0]));for(const u of l){const c=r.ic.get(u),h=await kA(r,c);h.snapshot&&s.push(h.snapshot)}}else{const u=await Lx(r.localStore,o);a=await zs(r.localStore,u),await ng(r,eI(u),o,!1)}i.push(a)}return r.sc.zo(s),i}function eI(t){return zE(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function AA(t){const e=F(t);return F(F(e.localStore).persistence).vi()}async function PA(t,e,n,r){const i=F(t);if(i.dc)return void N("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await Fx(i.localStore,HE(s[0])),a=al.createSynthesizedRemoteEventForCurrentChange(e,n==="current");await sr(i,o,a);break}case"rejected":await qs(i.localStore,e,!0),Ks(i,e,r);break;default:z()}}async function OA(t,e,n){const r=og(t);if(r.dc){for(const i of e){if(r.rc.has(i)){N("SyncEngine","Adding an already active target "+i);continue}const s=await Lx(r.localStore,i),o=await zs(r.localStore,s);await ng(r,eI(s),o.targetId,!1),Zc(r.remoteStore,o)}for(const i of n)r.rc.has(i)&&await qs(r.localStore,i,!1).then(()=>{La(r.remoteStore,i),Ks(r,i)}).catch(Zr)}}function og(t){const e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SA.bind(null,e),e.sc.zo=cA.bind(null,e.eventManager),e.sc.wc=hA.bind(null,e.eventManager),e}function ag(t){const e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xA.bind(null,e),e}function $A(t,e,n){const r=F(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(h,d){const f=F(h),p=ot(d.createTime);return f.persistence.runTransaction("hasNewerBundle","readonly",y=>f.Ns.getBundleMetadata(y,d.id)).then(y=>!!y&&y.createTime.compareTo(p)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(Wx(a));const l=new fA(a,i.localStore,s.It);let u=await s.mc();for(;u;){const h=await l.Fu(u);h&&o._updateProgress(h),u=await s.mc()}const c=await l.complete();return await sr(i,c.Lu,void 0),await function(h,d){const f=F(h);return f.persistence.runTransaction("Save bundle","readwrite",p=>f.Ns.saveBundleMetadata(p,d))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Bu)}catch(a){return Fs("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class tI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=ul(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return Ox(this.persistence,new Px,e.initialUser,this.It)}yc(e){return new Ax(Xc.Bs,this.It)}gc(e){return new Bx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nI extends tI{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await ag(this.Ac.syncEngine),await lo(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return Ox(this.persistence,new Px,e.initialUser,this.It)}Tc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new _D(r,e.asyncQueue,n)}Ec(e,n){const r=new aN(n,this.persistence);return new oN(e.asyncQueue,r)}yc(e){const n=qm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new zm(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,jx(),uu(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Bx}}class RA extends nI{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ac.syncEngine;this.sharedClientState instanceof gd&&(this.sharedClientState.syncEngine={Fr:NA.bind(null,n),$r:PA.bind(null,n),Br:OA.bind(null,n),vi:AA.bind(null,n),Mr:bA.bind(null,n)},await this.sharedClientState.start()),await this.persistence.li(async r=>{await DA(this.Ac.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}gc(e){const n=jx();if(!gd.C(n))throw new k(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=qm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gd(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TA.bind(null,this.syncEngine),await jf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new uA}createDatastore(e){const n=ul(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new GD(i));var i;return function(s,o,a,l){return new YD(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>h0(this.syncEngine,a,0),o=a0.C()?new a0:new qD,new ZD(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new gA(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=F(e);N("RemoteStore","RemoteStore shutting down."),n.wu.add(5),await ao(n),n.gu.shutdown(),n.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e,n){if(!n)throw new k(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rI(t,e,n,r){if(e===!0&&r===!0)throw new k(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f0(t){if(!R.isDocumentKey(t))throw new k(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p0(t){if(R.isDocumentKey(t))throw new k(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jc(t);throw new k(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function iI(t,e){if(e<=0)throw new k(_.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;class g0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new k(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new k(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new W2;switch(n.type){case"gapi":const r=n.client;return new Z2(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new k(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=m0.get(e);n&&(N("ComponentProvider","Removing Datastore"),m0.delete(e),n.terminate())}(this),Promise.resolve()}}function MA(t,e,n,r={}){var i;const s=(t=de(t,hl))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Fs("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=rt.MOCK_USER;else{o=yk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new k(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new rt(l)}t._authCredentials=new Q2(new NE(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ln(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ne(this.firestore,e,this._key)}}class At{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new At(this.firestore,e,this._query)}}class Ln extends At{constructor(e,n,r){super(e,n,io(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new R(e))}withConverter(e){return new Ln(this.firestore,e,this._path)}}function sI(t,e,...n){if(t=Qe(t),ug("collection","path",e),t instanceof hl){const r=ce.fromString(e,...n);return p0(r),new Ln(t,null,r)}{if(!(t instanceof Ne||t instanceof Ln))throw new k(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return p0(r),new Ln(t.firestore,null,r)}}function LA(t,e){if(t=de(t,hl),ug("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new k(_.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new At(t,null,function(n){return new rr(ce.emptyPath(),n)}(e))}function nc(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=DE.R()),ug("doc","path",e),t instanceof hl){const r=ce.fromString(e,...n);return f0(r),new Ne(t,null,new R(r))}{if(!(t instanceof Ne||t instanceof Ln))throw new k(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return f0(r),new Ne(t.firestore,t instanceof Ln?t.converter:null,new R(r))}}function oI(t,e){return t=Qe(t),e=Qe(e),(t instanceof Ne||t instanceof Ln)&&(e instanceof Ne||e instanceof Ln)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function aI(t,e){return t=Qe(t),e=Qe(e),t instanceof At&&e instanceof At&&t.firestore===e.firestore&&sl(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):He("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n){this.Pc=e,this.It=n,this.metadata=new st,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const n=this.vc.decode(e),r=Number(n);isNaN(r)&&this.Dc(`length string (${n}) is not valid number`);const i=await this.Cc(r);return new dA(JSON.parse(i),e.length+r)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const n=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new k(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=F(r),o=Ra(s.It)+"/documents",a={documents:i.map(h=>$a(s.It,h))},l=await s._o("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(h=>{const d=BN(s.It,h);u.set(d.key.toString(),d)});const c=[];return i.forEach(h=>{const d=u.get(h.toString());Q(!!d),c.push(d)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new oo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=R.fromPath(r);this.mutations.push(new Rm(i,this.precondition(i)))}),await async function(n,r){const i=F(n),s=Ra(i.It)+"/documents",o={writes:r.map(a=>Ma(i.It,a))};await i.ao("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw z();n=W.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new k(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(W.min())?Pe.exists(!1):Pe.updateTime(n):Pe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(W.min()))throw new k(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pe.updateTime(n)}return Pe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.No=new Gm(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.No.Ro(async()=>{const e=new VA(this.datastore),n=this.Mc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Fc(i)}))}).catch(r=>{this.Fc(r)})})}Mc(e){try{const n=this.updateFunction(e);return!rl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||!nx(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=DE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{N("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(N("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new st;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=co(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lI(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $x(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function uI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cg(t);N("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>l0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>l0(e.remoteStore,s)),t.onlineComponents=e}async function cg(t){return t.offlineComponents||(N("FirestoreClient","Using default OfflineComponentProvider"),await lI(t,new tI)),t.offlineComponents}async function th(t){return t.onlineComponents||(N("FirestoreClient","Using default OnlineComponentProvider"),await uI(t,new lg)),t.onlineComponents}function cI(t){return cg(t).then(e=>e.persistence)}function hg(t){return cg(t).then(e=>e.localStore)}function hI(t){return th(t).then(e=>e.remoteStore)}function dg(t){return th(t).then(e=>e.syncEngine)}function UA(t){return th(t).then(e=>e.datastore)}async function Gs(t){const e=await th(t),n=e.eventManager;return n.onListen=vA.bind(null,e.syncEngine),n.onUnlisten=yA.bind(null,e.syncEngine),n}function zA(t){return t.asyncQueue.enqueue(async()=>{const e=await cI(t),n=await hI(t);return e.setNetworkEnabled(!0),function(r){const i=F(r);return i.wu.delete(0),cl(i)}(n)})}function qA(t){return t.asyncQueue.enqueue(async()=>{const e=await cI(t),n=await hI(t);return e.setNetworkEnabled(!1),async function(r){const i=F(r);i.wu.add(0),await ao(i),i.yu.set("Offline")}(n)})}function HA(t,e){const n=new st;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=F(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new k(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=co(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await hg(t),e,n)),n.promise}function dI(t,e,n={}){const r=new st;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new eh({next:h=>{s.enqueueAndForget(()=>Jm(i,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new k(_.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new k(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new tg(io(o.path),u,{includeMetadataChanges:!0,ku:!0});return Zm(i,c)}(await Gs(t),t.asyncQueue,e,n,r)),r.promise}function KA(t,e){const n=new st;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Zu(r,i,!0),a=new Xx(i,o.Hi),l=a.Wu(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=co(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await hg(t),e,n)),n.promise}function fI(t,e,n={}){const r=new st;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new eh({next:h=>{s.enqueueAndForget(()=>Jm(i,c)),h.fromCache&&a.source==="server"?l.reject(new k(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new tg(o,u,{includeMetadataChanges:!0,ku:!0});return Zm(i,c)}(await Gs(t),t.asyncQueue,e,n,r)),r.promise}function GA(t,e){const n=new eh(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){F(r).bu.add(i),i.next()}(await Gs(t),n)),()=>{n.bc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){F(r).bu.delete(i)}(await Gs(t),n))}}function WA(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,u){return new FA(l,u)}(function(l,u){if(l instanceof Uint8Array)return v0(l,u);if(l instanceof ArrayBuffer)return v0(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,ul(e));t.asyncQueue.enqueueAndForget(async()=>{$A(await dg(t),i,r)})}function QA(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=F(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(await hg(t),e))}class YA{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Gm(this,"async_queue_retry"),this.Wc=()=>{const n=uu();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=uu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=uu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new st;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.No.reset()}catch(e){if(!Jr(e))throw e;N("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.No.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw He("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Xm.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&z()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function zf(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class XA{constructor(){this._progressObserver={},this._taskCompletionResolver=new st,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=-1;class je extends hl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new YA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pI(this),this._firestoreClient.terminate()}}function ct(t){return t._firestoreClient||pI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pI(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new cN(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new jA(t._authCredentials,t._appCheckCredentials,t._queue,r)}function JA(t,e){gI(t=de(t,je));const n=ct(t),r=t._freezeSettings(),i=new lg;return mI(n,i,new nI(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function eP(t){gI(t=de(t,je));const e=ct(t),n=t._freezeSettings(),r=new lg;return mI(e,r,new RA(r,n.cacheSizeBytes))}function mI(t,e,n){const r=new st;return t.asyncQueue.enqueue(async()=>{try{await lI(t,n),await uI(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===_.FAILED_PRECONDITION||o.code===_.UNIMPLEMENTED:typeof DOMException<"u"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;Fs("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function tP(t){if(t._initialized&&!t._terminated)throw new k(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new st;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!xn.C())return Promise.resolve();const r=n+"main";await xn.delete(r)}(qm(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function nP(t){return function(e){const n=new st;return e.asyncQueue.enqueueAndForget(async()=>IA(await dg(e),n)),n.promise}(ct(t=de(t,je)))}function rP(t){return zA(ct(t=de(t,je)))}function iP(t){return qA(ct(t=de(t,je)))}function sP(t,e){const n=ct(t=de(t,je)),r=new XA;return WA(n,t._databaseId,e,r),r}function oP(t,e){return QA(ct(t=de(t,je)),e).then(n=>n?new At(t,null,n.query):null)}function gI(t){if(t._initialized||t._terminated)throw new k(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(et.fromBase64String(e))}catch(n){throw new k(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=/^__.*__$/;class lP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new so(e,this.data,n,this.fieldTransforms)}}class vI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class rh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new rh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return rc(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(yI(this.sa)&&aP.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class uP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||ul(e)}da(e,n,r,i=!1){return new rh({sa:e,methodName:n,fa:r,path:Ke.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Xi(t){const e=t._freezeSettings(),n=ul(t._databaseId);return new uP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ih(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);gg("Data must be an object, but it was:",o,r);const a=EI(r,o);let l,u;if(s.merge)l=new tn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=qf(e,h,n);if(!o.contains(d))throw new k(_.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);II(c,d)||c.push(d)}l=new tn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new lP(new vt(a),l,u)}class dl extends Yi{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dl}}function wI(t,e,n){return new rh({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class fg extends Yi{_toFieldTransform(e){return new ol(e.path,new js)}isEqual(e){return e instanceof fg}}class cP extends Yi{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=wI(this,e,!0),r=this._a.map(s=>Zi(s,n)),i=new Fi(r);return new ol(e.path,i)}isEqual(e){return this===e}}class hP extends Yi{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=wI(this,e,!0),r=this._a.map(s=>Zi(s,n)),i=new Vi(r);return new ol(e.path,i)}isEqual(e){return this===e}}class dP extends Yi{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new Us(e.It,QE(e.It,this.wa));return new ol(e.path,n)}isEqual(e){return this===e}}function pg(t,e,n,r){const i=t.da(1,e,n);gg("Data must be an object, but it was:",i,r);const s=[],o=vt.empty();Qi(r,(l,u)=>{const c=vg(e,l,n);u=Qe(u);const h=i.ca(c);if(u instanceof dl)s.push(c);else{const d=Zi(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new tn(s);return new vI(o,a,i.fieldTransforms)}function mg(t,e,n,r,i,s){const o=t.da(1,e,n),a=[qf(e,r,n)],l=[i];if(s.length%2!=0)throw new k(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(qf(e,s[d])),l.push(s[d+1]);const u=[],c=vt.empty();for(let d=a.length-1;d>=0;--d)if(!II(u,a[d])){const f=a[d];let p=l[d];p=Qe(p);const y=o.ca(f);if(p instanceof dl)u.push(f);else{const S=Zi(p,y);S!=null&&(u.push(f),c.set(f,S))}}const h=new tn(u);return new vI(c,h,o.fieldTransforms)}function SI(t,e,n,r=!1){return Zi(n,t.da(r?4:3,e))}function Zi(t,e){if(xI(t=Qe(t)))return gg("Unsupported field value:",e,t),EI(t,e);if(t instanceof Yi)return function(n,r){if(!yI(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Zi(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return QE(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Oe.fromDate(n);return{timestampValue:Oa(r.It,i)}}if(n instanceof Oe){const i=new Oe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Oa(r.It,i)}}if(n instanceof nh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vn)return{bytesValue:ux(r.It,n._byteString)};if(n instanceof Ne){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Jc(n)}`)}(t,e)}function EI(t,e){const n={};return LE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,(r,i)=>{const s=Zi(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof nh||t instanceof Vn||t instanceof Ne||t instanceof Yi)}function gg(t,e,n){if(!xI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Jc(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function qf(t,e,n){if((e=Qe(e))instanceof Hr)return e._internalPath;if(typeof e=="string")return vg(t,e);throw rc("Field path arguments must be of type string or ",t,!1,void 0,n)}const fP=new RegExp("[~\\*/\\[\\]]");function vg(t,e,n){if(e.search(fP)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hr(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new k(_.INVALID_ARGUMENT,a+t+l)}function II(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pP extends Fa{data(){return super.data()}}function sh(t,e){return typeof e=="string"?vg(t,e):e instanceof Hr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fl{}function ur(t,...e){for(const n of e)t=n._apply(t);return t}class mP extends fl{constructor(e,n,r){super(),this.ma=e,this.ga=n,this.ya=r,this.type="where"}_apply(e){const n=Xi(e.firestore),r=function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new k(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){w0(c,u);const f=[];for(const p of c)f.push(y0(a,i,p));h={arrayValue:{values:f}}}else h=y0(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||w0(c,u),h=SI(o,s,c,u==="in"||u==="not-in");const d=yt.create(l,u,h);return function(f,p){if(p.dt()){const S=Pm(f);if(S!==null&&!S.isEqual(p.field))throw new k(_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${S.toString()}' and '${p.field.toString()}'`);const g=Am(f);g!==null&&NI(f,p.field,g)}const y=function(S,g){for(const m of S.filters)if(g.indexOf(m.op)>=0)return m.op;return null}(f,function(S){switch(S){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(y!==null)throw y===p.op?new k(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`):new k(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${p.op.toString()}' filters with '${y.toString()}' filters.`)}(i,d),d}(e._query,"where",n,e.firestore._databaseId,this.ma,this.ga,this.ya);return new At(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new rr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function gP(t,e,n){const r=e,i=sh("where",t);return new mP(i,r,n)}class vP extends fl{constructor(e,n){super(),this.ma=e,this.pa=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new k(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new k(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ks(i,s);return function(a,l){if(Am(a)===null){const u=Pm(a);u!==null&&NI(a,u,l.field)}}(r,o),o}(e._query,this.ma,this.pa);return new At(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new rr(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function yP(t,e="asc"){const n=e,r=sh("orderBy",t);return new vP(r,n)}class TI extends fl{constructor(e,n,r){super(),this.type=e,this.Ia=n,this.Ta=r}_apply(e){return new At(e.firestore,e.converter,Qu(e._query,this.Ia,this.Ta))}}function wP(t){return iI("limit",t),new TI("limit",t,"F")}function SP(t){return iI("limitToLast",t),new TI("limitToLast",t,"L")}class CI extends fl{constructor(e,n,r){super(),this.type=e,this.Ea=n,this.Aa=r}_apply(e){const n=bI(e,this.type,this.Ea,this.Aa);return new At(e.firestore,e.converter,function(r,i){return new rr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function EP(...t){return new CI("startAt",t,!0)}function xP(...t){return new CI("startAfter",t,!1)}class kI extends fl{constructor(e,n,r){super(),this.type=e,this.Ea=n,this.Aa=r}_apply(e){const n=bI(e,this.type,this.Ea,this.Aa);return new At(e.firestore,e.converter,function(r,i){return new rr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function IP(...t){return new kI("endBefore",t,!1)}function _P(...t){return new kI("endAt",t,!0)}function bI(t,e,n,r){if(n[0]=Qe(n[0]),n[0]instanceof Fa)return function(i,s,o,a,l){if(!a)throw new k(_.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Bs(i))if(c.field.isKeyField())u.push(Mi(s,a.key));else{const h=a.data.field(c.field);if(Dm(h))throw new k(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const d=c.field.canonicalString();throw new k(_.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${d}' (used as the orderBy) does not exist.`)}u.push(h)}return new zr(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Xi(t.firestore);return function(s,o,a,l,u,c){const h=s.explicitOrderBy;if(u.length>h.length)throw new k(_.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const d=[];for(let f=0;f<u.length;f++){const p=u[f];if(h[f].field.isKeyField()){if(typeof p!="string")throw new k(_.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!Om(s)&&p.indexOf("/")!==-1)throw new k(_.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const y=s.path.child(ce.fromString(p));if(!R.isDocumentKey(y))throw new k(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const S=new R(y);d.push(Mi(o,S))}else{const y=SI(a,l,p);d.push(y)}}return new zr(d,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function y0(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new k(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Om(e)&&n.indexOf("/")!==-1)throw new k(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ce.fromString(n));if(!R.isDocumentKey(r))throw new k(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mi(t,new R(r))}if(n instanceof Ne)return Mi(t,n._key);throw new k(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jc(n)}.`)}function w0(t,e){if(!Array.isArray(t)||t.length===0)throw new k(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new k(_.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NI(t,e,n){if(!n.isEqual(e))throw new k(_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{convertValue(e,n="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){const r={};return Qi(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new nh(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=FE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Na(e));default:return null}}convertTimestamp(e){const n=Br(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ce.fromString(e);Q(yx(r));const i=new jr(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||He(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class TP extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tr extends Fa{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ta extends tr{data(e={}){return super.data(e)}}class Kr{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ta(this._firestore,this._userDataWriter,r.key,r,new Ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ta(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ei(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ta(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ei(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:CP(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function DI(t,e){return t instanceof tr&&e instanceof tr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Kr&&e instanceof Kr&&t._firestore===e._firestore&&aI(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){t=de(t,Ne);const e=de(t.firestore,je);return dI(ct(e),t._key).then(n=>wg(e,t,n))}class Ji extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function bP(t){t=de(t,Ne);const e=de(t.firestore,je),n=ct(e),r=new Ji(e);return HA(n,t._key).then(i=>new tr(e,r,t._key,i,new Ei(i!==null&&i.hasLocalMutations,!0),t.converter))}function NP(t){t=de(t,Ne);const e=de(t.firestore,je);return dI(ct(e),t._key,{source:"server"}).then(n=>wg(e,t,n))}function DP(t){t=de(t,At);const e=de(t.firestore,je),n=ct(e),r=new Ji(e);return _I(t._query),fI(n,t._query).then(i=>new Kr(e,r,t,i))}function AP(t){t=de(t,At);const e=de(t.firestore,je),n=ct(e),r=new Ji(e);return KA(n,t._query).then(i=>new Kr(e,r,t,i))}function PP(t){t=de(t,At);const e=de(t.firestore,je),n=ct(e),r=new Ji(e);return fI(n,t._query,{source:"server"}).then(i=>new Kr(e,r,t,i))}function S0(t,e,n){t=de(t,Ne);const r=de(t.firestore,je),i=oh(t.converter,e,n);return pl(r,[ih(Xi(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pe.none())])}function E0(t,e,n,...r){t=de(t,Ne);const i=de(t.firestore,je),s=Xi(i);let o;return o=typeof(e=Qe(e))=="string"||e instanceof Hr?mg(s,"updateDoc",t._key,e,n,r):pg(s,"updateDoc",t._key,e),pl(i,[o.toMutation(t._key,Pe.exists(!0))])}function OP(t){return pl(de(t.firestore,je),[new oo(t._key,Pe.none())])}function $P(t,e){const n=de(t.firestore,je),r=nc(t),i=oh(t.converter,e);return pl(n,[ih(Xi(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pe.exists(!1))]).then(()=>r)}function AI(t,...e){var n,r,i;t=Qe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||zf(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(zf(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Ne)u=de(t.firestore,je),c=io(t._key.path),l={next:h=>{e[o]&&e[o](wg(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=de(t,At);u=de(h.firestore,je),c=h._query;const d=new Ji(u);l={next:f=>{e[o]&&e[o](new Kr(u,d,h,f))},error:e[o+1],complete:e[o+2]},_I(t._query)}return function(h,d,f,p){const y=new eh(p),S=new tg(d,y,f);return h.asyncQueue.enqueueAndForget(async()=>Zm(await Gs(h),S)),()=>{y.bc(),h.asyncQueue.enqueueAndForget(async()=>Jm(await Gs(h),S))}}(ct(u),c,a,l)}function RP(t,e){return GA(ct(t=de(t,je)),zf(e)?e:{next:e})}function pl(t,e){return function(n,r){const i=new st;return n.asyncQueue.enqueueAndForget(async()=>wA(await dg(n),r,i)),i.promise}(ct(t),e)}function wg(t,e,n){const r=n.docs.get(e._key),i=new Ji(t);return new tr(t,i,e._key,r,new Ei(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xi(e)}set(e,n,r){this._verifyNotCommitted();const i=gr(e,this._firestore),s=oh(i.converter,n,r),o=ih(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Pe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=gr(e,this._firestore);let o;return o=typeof(n=Qe(n))=="string"||n instanceof Hr?mg(this._dataReader,"WriteBatch.update",s._key,n,r,i):pg(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Pe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=gr(e,this._firestore);return this._mutations=this._mutations.concat(new oo(n._key,Pe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new k(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gr(t,e){if((t=Qe(t)).firestore!==e)throw new k(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Xi(e)}get(e){const n=gr(e,this._firestore),r=new TP(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return z();const s=i[0];if(s.isFoundDocument())return new Fa(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Fa(this._firestore,r,n._key,null,n.converter);throw z()})}set(e,n,r){const i=gr(e,this._firestore),s=oh(i.converter,n,r),o=ih(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=gr(e,this._firestore);let o;return o=typeof(n=Qe(n))=="string"||n instanceof Hr?mg(this._dataReader,"Transaction.update",s._key,n,r,i):pg(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=gr(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=gr(e,this._firestore),r=new Ji(this._firestore);return super.get(e).then(i=>new tr(this._firestore,r,n._key,i._document,new Ei(!1,!1),n.converter))}}function VP(t,e,n){t=de(t,je);const r=Object.assign(Object.assign({},MP),n);return function(i){if(i.maxAttempts<1)throw new k(_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new st;return i.asyncQueue.enqueueAndForget(async()=>{const l=await UA(i);new BA(i.asyncQueue,l,o,s,a).run()}),a.promise}(ct(t),i=>e(new FP(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(){return new dl("deleteField")}function jP(){return new fg("serverTimestamp")}function UP(...t){return new cP("arrayUnion",t)}function zP(...t){return new hP("arrayRemove",t)}function qP(t){return new dP("increment",t)}(function(t,e=!0){(function(n){ro=n})(im),Ms(new Pi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new je(new Y2(n.getProvider("auth-internal")),new eN(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new k(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jr(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ar(yy,"3.6.0",t),Ar(yy,"3.6.0","esm2017")})();const HP="@firebase/firestore-compat",KP="0.1.26";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new k("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){if(typeof Uint8Array>"u")throw new k("unimplemented","Uint8Arrays are not available in this environment.")}function I0(){if(!lN())throw new k("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Va{constructor(e){this._delegate=e}static fromBase64String(e){return I0(),new Va(Vn.fromBase64String(e))}static fromUint8Array(e){return x0(),new Va(Vn.fromUint8Array(e))}toBase64(){return I0(),this._delegate.toBase64()}toUint8Array(){return x0(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){return GP(t,["next","error","complete"])}function GP(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{enableIndexedDbPersistence(e,n){return JA(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return eP(e._delegate)}clearIndexedDbPersistence(e){return tP(e._delegate)}}class PI{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof jr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Fs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){MA(this._delegate,e,n,r)}enableNetwork(){return rP(this._delegate)}disableNetwork(){return iP(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rI("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return nP(this._delegate)}onSnapshotsInSync(e){return RP(this._delegate,e)}get app(){if(!this._appCompat)throw new k("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ws(this,sI(this._delegate,e))}catch(n){throw $t(n,"collection()","Firestore.collection()")}}doc(e){try{return new fn(this,nc(this._delegate,e))}catch(n){throw $t(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ot(this,LA(this._delegate,e))}catch(n){throw $t(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return VP(this._delegate,n=>e(new OI(this,n)))}batch(){return ct(this._delegate),new $I(new LP(this._delegate,e=>pl(this._delegate,e)))}loadBundle(e){return sP(this._delegate,e)}namedQuery(e){return oP(this._delegate,e).then(n=>n?new Ot(this,n):null)}}class ah extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(new Vn(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return fn.forKey(n,this.firestore,null)}}function QP(t){K2(t)}class OI{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ah(e)}get(e){const n=xi(e);return this._delegate.get(n).then(r=>new Ba(this._firestore,new tr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=xi(e);return r?(Sg("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=xi(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=xi(e);return this._delegate.delete(n),this}}class $I{constructor(e){this._delegate=e}set(e,n,r){const i=xi(e);return r?(Sg("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=xi(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=xi(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class zi{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ta(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ja(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=zi.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new zi(e,new ah(e),n),i.set(n,s)),s}}zi.INSTANCES=new WeakMap;class fn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ah(e)}static forPath(e,n,r){if(e.length%2!==0)throw new k("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fn(n,new Ne(n._delegate,r,new R(e)))}static forKey(e,n,r){return new fn(n,new Ne(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ws(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ws(this.firestore,sI(this._delegate,e))}catch(n){throw $t(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Qe(e),e instanceof Ne?oI(this._delegate,e):!1}set(e,n){n=Sg("DocumentReference.set",n);try{return n?S0(this._delegate,e,n):S0(this._delegate,e)}catch(r){throw $t(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?E0(this._delegate,e):E0(this._delegate,e,n,...r)}catch(i){throw $t(i,"updateDoc()","DocumentReference.update()")}}delete(){return OP(this._delegate)}onSnapshot(...e){const n=RI(e),r=MI(e,i=>new Ba(this.firestore,new tr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return AI(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=bP(this._delegate):(e==null?void 0:e.source)==="server"?n=NP(this._delegate):n=kP(this._delegate),n.then(r=>new Ba(this.firestore,new tr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fn(this.firestore,e?this._delegate.withConverter(zi.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function $t(t,e,n){return t.message=t.message.replace(e,n),t}function RI(t){for(const e of t)if(typeof e=="object"&&!Hf(e))return e;return{}}function MI(t,e){var n,r;let i;return Hf(t[0])?i=t[0]:Hf(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Ba{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new fn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return DI(this._delegate,e._delegate)}}class ja extends Ba{data(e){const n=this._delegate.data(e);return G2(n!==void 0),n}}class Ot{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ah(e)}where(e,n,r){try{return new Ot(this.firestore,ur(this._delegate,gP(e,n,r)))}catch(i){throw $t(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Ot(this.firestore,ur(this._delegate,yP(e,n)))}catch(r){throw $t(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ot(this.firestore,ur(this._delegate,wP(e)))}catch(n){throw $t(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Ot(this.firestore,ur(this._delegate,SP(e)))}catch(n){throw $t(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ot(this.firestore,ur(this._delegate,EP(...e)))}catch(n){throw $t(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ot(this.firestore,ur(this._delegate,xP(...e)))}catch(n){throw $t(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ot(this.firestore,ur(this._delegate,IP(...e)))}catch(n){throw $t(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ot(this.firestore,ur(this._delegate,_P(...e)))}catch(n){throw $t(n,"endAt()","Query.endAt()")}}isEqual(e){return aI(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=AP(this._delegate):(e==null?void 0:e.source)==="server"?n=PP(this._delegate):n=DP(this._delegate),n.then(r=>new Kf(this.firestore,new Kr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=RI(e),r=MI(e,i=>new Kf(this.firestore,new Kr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return AI(this._delegate,n,r)}withConverter(e){return new Ot(this.firestore,e?this._delegate.withConverter(zi.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class YP{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ja(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kf{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ot(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ja(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new YP(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ja(this._firestore,r))})}isEqual(e){return DI(this._delegate,e._delegate)}}class Ws extends Ot{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fn(this.firestore,e):null}doc(e){try{return e===void 0?new fn(this.firestore,nc(this._delegate)):new fn(this.firestore,nc(this._delegate,e))}catch(n){throw $t(n,"doc()","CollectionReference.doc()")}}add(e){return $P(this._delegate,e).then(n=>new fn(this.firestore,n))}isEqual(e){return oI(this._delegate,e._delegate)}withConverter(e){return new Ws(this.firestore,e?this._delegate.withConverter(zi.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function xi(t){return de(t,Ne)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(...e){this._delegate=new Hr(...e)}static documentId(){return new Eg(Ke.keyField().canonicalString())}isEqual(e){return e=Qe(e),e instanceof Hr?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._delegate=e}static serverTimestamp(){const e=jP();return e._methodName="FieldValue.serverTimestamp",new mi(e)}static delete(){const e=BP();return e._methodName="FieldValue.delete",new mi(e)}static arrayUnion(...e){const n=UP(...e);return n._methodName="FieldValue.arrayUnion",new mi(n)}static arrayRemove(...e){const n=zP(...e);return n._methodName="FieldValue.arrayRemove",new mi(n)}static increment(e){const n=qP(e);return n._methodName="FieldValue.increment",new mi(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={Firestore:PI,GeoPoint:nh,Timestamp:Oe,Blob:Va,Transaction:OI,WriteBatch:$I,DocumentReference:fn,DocumentSnapshot:Ba,Query:Ot,QueryDocumentSnapshot:ja,QuerySnapshot:Kf,CollectionReference:Ws,FieldPath:Eg,FieldValue:mi,setLogLevel:QP,CACHE_SIZE_UNLIMITED:ZA};function ZP(t,e){t.INTERNAL.registerComponent(new Pi("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},XP)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){ZP(t,(e,n)=>new PI(e,n,new WP)),t.registerVersion(HP,KP)}JP(Nc);const eO={apiKey:"AIzaSyAvCmUFDWRMrtVdF_p7bkgX_uOrX8CmdYU",authDomain:"contactme-2970e.firebaseapp.com",databaseURL:"https://contactme-2970e-default-rtdb.firebaseio.com",projectId:"contactme-2970e",storageBucket:"contactme-2970e.appspot.com",messagingSenderId:"706295740462",appId:"1:706295740462:web:a17acdd0cb9f0f337fc7bf",measurementId:"G-CM7Q18392X"};Nc.initializeApp(eO);const Bn=Nc.firestore(),tO=()=>{const[t,e]=D.exports.useState({}),[n,r]=D.exports.useState(!1);return D.exports.useEffect(()=>{r(!0),Bn.collection("about").onSnapshot(i=>{if(i){let s=i.docs.map(o=>({data:o.data()}));r(!1),e(s[0].data),console.log(">D",t)}})},[]),w("div",{className:"",children:G("div",{className:"flex justify-between items-center h-[100vh]  ",children:[G("div",{children:[G("div",{className:"name",children:[" ","Hi,I'M ",w("span",{children:"Umar Rg"})]}),n?w("div",{className:"min-h-24",children:w("div",{class:"typewriter",children:w("h1",{children:"fetching from db"})})}):null,w("div",{className:"desc mt-1",children:t.title}),w("a",{href:"#contact",children:w("button",{className:"bg-[#292929] py-2 px-10 mt-7 ",children:"Hire Me"})})]}),G("div",{className:"flex  flex-col   mb-20 hidden md:block",children:[w("a",{href:t.github,target:"_blank",className:"mb-4",children:w("div",{className:"rounded-full p-4 bg-[#2E2E2E]",children:w(cS,{size:"14px"})})}),w("a",{href:t.twitter,target:"_blank",children:w("div",{className:"rounded-full p-4 my-4 bg-[#2E2E2E]",children:w(dS,{size:"14px"})})}),w("a",{href:t.linkdin,target:"_blank",children:w("div",{className:"rounded-full p-4 bg-[#2E2E2E]",children:w(hS,{size:"14px"})})})]})]})})};/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}var Sr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sr||(Sr={}));const _0="popstate";function nO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Gf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wf(i)}return iO(e,n,null,t)}function rO(){return Math.random().toString(36).substr(2,8)}function T0(t){return{usr:t.state,key:t.key}}function Gf(t,e,n,r){return n===void 0&&(n=null),ic({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ho(e):e,{state:n,key:e&&e.key||r||rO()})}function Wf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Sr.Pop,l=null;function u(){a=Sr.Pop,l&&l({action:a,location:d.location})}function c(f,p){a=Sr.Push;let y=Gf(d.location,f,p);n&&n(y,f);let S=T0(y),g=d.createHref(y);try{o.pushState(S,"",g)}catch{i.location.assign(g)}s&&l&&l({action:a,location:y})}function h(f,p){a=Sr.Replace;let y=Gf(d.location,f,p);n&&n(y,f);let S=T0(y),g=d.createHref(y);o.replaceState(S,"",g),s&&l&&l({action:a,location:y})}let d={get action(){return a},get location(){return t(i,o)},listen(f){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_0,u),l=f,()=>{i.removeEventListener(_0,u),l=null}},createHref(f){return e(i,f)},push:c,replace:h,go(f){return o.go(f)}};return d}var C0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C0||(C0={}));function sO(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ho(e):e,i=FI(r.pathname||"/",n);if(i==null)return null;let s=LI(t);oO(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=mO(s[a],i);return o}function LI(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(at(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=Or([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),LI(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:fO(a,i.index),routesMeta:l})}),e}function oO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aO=/^:\w+$/,lO=3,uO=2,cO=1,hO=10,dO=-2,k0=t=>t==="*";function fO(t,e){let n=t.split("/"),r=n.length;return n.some(k0)&&(r+=dO),e&&(r+=uO),n.filter(i=>!k0(i)).reduce((i,s)=>i+(aO.test(s)?lO:s===""?cO:hO),r)}function pO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mO(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=gO({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Or([i,c.pathname]),pathnameBase:EO(Or([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Or([i,c.pathnameBase]))}return s}function gO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=yO(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function vO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yO(t,e){try{return decodeURIComponent(t)}catch(n){return VI(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function FI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ho(t):t;return{pathname:n?n.startsWith("/")?n:SO(n,e):e,search:xO(r),hash:IO(i)}}function SO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ho(t):(i=ic({},t),at(!i.pathname||!i.pathname.includes("?"),vd("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),vd("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),vd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=wO(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Or=t=>t.join("/").replace(/\/\/+/g,"/"),EO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class _O{constructor(e,n,r){this.status=e,this.statusText=n||"",this.data=r}}function TO(t){return t instanceof _O}/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qf.apply(this,arguments)}function CO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const kO=typeof Object.is=="function"?Object.is:CO,{useState:bO,useEffect:NO,useLayoutEffect:DO,useDebugValue:AO}=Ed;function PO(t,e,n){const r=e(),[{inst:i},s]=bO({inst:{value:r,getSnapshot:e}});return DO(()=>{i.value=r,i.getSnapshot=e,yd(i)&&s({inst:i})},[t,r,e]),NO(()=>(yd(i)&&s({inst:i}),t(()=>{yd(i)&&s({inst:i})})),[t]),AO(r),r}function yd(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!kO(n,r)}catch{return!0}}function OO(t,e,n){return e()}const $O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RO=!$O,MO=RO?OO:PO;"useSyncExternalStore"in Ed&&(t=>t.useSyncExternalStore)(Ed);const LO=D.exports.createContext(null),FO=D.exports.createContext(null),jI=D.exports.createContext(null),xg=D.exports.createContext(null),lh=D.exports.createContext(null),fo=D.exports.createContext({outlet:null,matches:[]}),UI=D.exports.createContext(null);function VO(t,e){let{relative:n}=e===void 0?{}:e;ml()||at(!1);let{basename:r,navigator:i}=D.exports.useContext(xg),{hash:s,pathname:o,search:a}=qI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Or([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ml(){return D.exports.useContext(lh)!=null}function uh(){return ml()||at(!1),D.exports.useContext(lh).location}function zI(t){return t.filter((e,n)=>n===0||!e.route.index&&e.pathnameBase!==t[n-1].pathnameBase)}function BO(){ml()||at(!1);let{basename:t,navigator:e}=D.exports.useContext(xg),{matches:n}=D.exports.useContext(fo),{pathname:r}=uh(),i=JSON.stringify(zI(n).map(a=>a.pathnameBase)),s=D.exports.useRef(!1);return D.exports.useEffect(()=>{s.current=!0}),D.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=BI(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Or([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function jO(){let{matches:t}=D.exports.useContext(fo),e=t[t.length-1];return e?e.params:{}}function qI(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=D.exports.useContext(fo),{pathname:i}=uh(),s=JSON.stringify(zI(r).map(o=>o.pathnameBase));return D.exports.useMemo(()=>BI(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function UO(t,e){ml()||at(!1);let n=D.exports.useContext(jI),{matches:r}=D.exports.useContext(fo),i=r[r.length-1],s=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let a=uh(),l;if(e){var u;let p=typeof e=="string"?ho(e):e;o==="/"||((u=p.pathname)==null?void 0:u.startsWith(o))||at(!1),l=p}else l=a;let c=l.pathname||"/",h=o==="/"?c:c.slice(o.length)||"/",d=sO(t,{pathname:h}),f=KO(d&&d.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:Or([o,p.pathname]),pathnameBase:p.pathnameBase==="/"?o:Or([o,p.pathnameBase])})),r,n||void 0);return e?w(lh.Provider,{value:{location:Qf({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Sr.Pop},children:f}):f}function zO(){let t=WO(),e=TO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return G(kc,{children:[w("h2",{children:"Unhandled Thrown Error!"}),w("h3",{style:{fontStyle:"italic"},children:e}),n?w("pre",{style:i,children:n}):null,w("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),G("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",w("code",{style:s,children:"errorElement"})," props on\xA0",w("code",{style:s,children:"<Route>"})]})]})}class qO extends D.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w(UI.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function HO(t){let{routeContext:e,match:n,children:r}=t,i=D.exports.useContext(LO);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),w(fo.Provider,{value:e,children:r})}function KO(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||at(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||w(zO,{}):null,c=()=>w(HO,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))},children:l?u:o.route.element!==void 0?o.route.element:s});return n&&(o.route.errorElement||a===0)?w(qO,{location:n.location,component:u,error:l,children:c()}):c()},null)}var b0;(function(t){t.UseRevalidator="useRevalidator"})(b0||(b0={}));var Yf;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Yf||(Yf={}));function GO(t){let e=D.exports.useContext(jI);return e||at(!1),e}function WO(){var t;let e=D.exports.useContext(UI),n=GO(Yf.UseRouteError),r=D.exports.useContext(fo),i=r.matches[r.matches.length-1];return e||(r||at(!1),i.route.id||at(!1),(t=n.errors)==null?void 0:t[i.route.id])}function Vo(t){at(!1)}function QO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Sr.Pop,navigator:s,static:o=!1}=t;ml()&&at(!1);let a=e.replace(/^\/*/,"/"),l=D.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ho(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=r,p=D.exports.useMemo(()=>{let y=FI(u,a);return y==null?null:{pathname:y,search:c,hash:h,state:d,key:f}},[a,u,c,h,d,f]);return p==null?null:w(xg.Provider,{value:l,children:w(lh.Provider,{children:n,value:{location:p,navigationType:i}})})}function YO(t){let{children:e,location:n}=t,r=D.exports.useContext(FO),i=r&&!e?r.router.routes:Xf(e);return UO(i,n)}var N0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(N0||(N0={}));new Promise(()=>{});function Xf(t,e){e===void 0&&(e=[]);let n=[];return D.exports.Children.forEach(t,(r,i)=>{if(!D.exports.isValidElement(r))return;if(r.type===D.exports.Fragment){n.push.apply(n,Xf(r.props.children,e));return}r.type!==Vo&&at(!1),!r.props.index||!r.props.children||at(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=Xf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function XO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JO(t,e){return t.button===0&&(!e||e==="_self")&&!ZO(t)}const e$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function t$(t){let{basename:e,children:n,window:r}=t,i=D.exports.useRef();i.current==null&&(i.current=nO({window:r,v5Compat:!0}));let s=i.current,[o,a]=D.exports.useState({action:s.action,location:s.location});return D.exports.useLayoutEffect(()=>s.listen(a),[s]),w(QO,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const HI=D.exports.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=XO(e,e$),d=VO(u,{relative:i}),f=n$(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function p(y){r&&r(y),y.defaultPrevented||f(y)}return w("a",{...h,href:d,onClick:s?r:p,ref:n,target:l})});var D0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(D0||(D0={}));var A0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A0||(A0={}));function n$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=BO(),l=uh(),u=qI(t,{relative:o});return D.exports.useCallback(c=>{if(JO(c,n)){c.preventDefault();let h=r!==void 0?r:Wf(l)===Wf(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const r$=()=>{const[t,e]=D.exports.useState([]),[n,r]=D.exports.useState(!1);return D.exports.useEffect(()=>{r(!0),Bn.collection("bestProject").onSnapshot(i=>{if(i){let s=i.docs.map(o=>({data:o.data(),id:o.id}));r(!1),e(s)}})},[]),G("div",{children:[G("div",{className:"mt-6 mb-10",children:[w("h1",{className:"text-white text-3xl font-medium",children:"Best Projects"}),w("hr",{})]}),n?w("div",{className:"min-h-40 text-2xl ",children:"Fetching....."}):null,t==null?void 0:t.map(i=>w(HI,{to:"/project/"+(i==null?void 0:i.id),children:G("div",{className:"grid md:grid-cols-2 mb-10 place-items-start items-start zoom cursor-pointer gap-4",children:[G("div",{className:"",children:[w("div",{className:"mb-7",children:(i==null?void 0:i.data.date)===void 0?w("div",{children:"Time is not defined"}):G("h4",{className:"text-xs font-semibold text-white",children:[" ",i==null?void 0:i.data.date.toDate().getMonth(),","," ",i==null?void 0:i.data.date.toDate().getFullYear()]})}),G("div",{children:[w("h1",{className:"text-white text-3xl",children:i==null?void 0:i.data.name}),w("h4",{className:"text-white mt-3 mb-2 text-sm",children:i.sub}),w("div",{className:"text-sm md:w-80 ",style:{textAlign:"justify"},children:i==null?void 0:i.data.description}),G("div",{className:"flex items-center bg-[#2E2E2E] rounded-3xl mt-4 p-2 w-full  max-w-fit	 cursor-pointer	 ",children:[w("div",{className:"mr-2",children:w(em,{})}),w("div",{className:"",children:i==null?void 0:i.data.link})]}),w("div",{className:"mt-8 grid md:grid-cols-5 grid-cols-3 gap-4",children:i==null?void 0:i.data.tech.map(s=>w("div",{className:"h-10 flex justify-center items-center w-24 rounded-md bg-[#2E2E2E] text-sm",children:s}))})]})]}),w("div",{children:w("img",{src:i==null?void 0:i.data.mainPicture,alt:"",width:"550px",height:"500px"})})]})}))]})},i$=()=>{const[t,e]=D.exports.useState(""),[n,r]=D.exports.useState(""),[i,s]=D.exports.useState(!1),[o,a]=D.exports.useState(!1);return G("div",{id:"contact",children:[G("div",{className:"mt-10",children:[w("h1",{className:"text-white text-3xl font-medium",children:"Contact Me"}),w("hr",{})]}),G("div",{className:"flex flex-col space-y-6 min-h-screen justify-center items-center",children:[w("div",{children:w("input",{type:"text",placeholder:"Email*",required:!0,onChange:u=>e(u.target.value),className:"w-96 p-2 rounded-sm"})}),w("div",{children:w("textarea",{name:"",required:!0,onChange:u=>r(u.target.value),id:"",className:"w-96 p-2 rounded-sm",cols:"30",rows:"10",placeholder:"Message*"})}),w("div",{className:"flex justify-center",children:i?w("button",{className:"bg-[#2E2E2E] px-4 py-2",children:"loading..."}):w("button",{className:"bg-[#2E2E2E] px-4 py-2",disabled:t===""&&n==="",onClick:()=>{s(!0),Bn.collection("message").add({email:t,message:n}).then(()=>{s(!1),a("Successfully Submitted")}).catch(u=>{s(!1),a(u),console.error("Error adding document: ",u)})},children:"submit"})}),w("p",{children:o})]})]})},s$=()=>G(kc,{children:[w(tO,{}),w(r$,{}),w(i$,{})]}),o$=[{name:"Project",to:"/project"},{name:"Contact",to:"#contact"},{name:"About",to:"/about"}],a$=()=>{const[t,e]=D.exports.useState({});return D.exports.useEffect(()=>{Bn.collection("about").onSnapshot(n=>{if(n){let r=n.docs.map(i=>({data:i.data()}));e(r[0].data),console.log(">D",t)}})},[]),G("div",{className:"w-full  grid md:grid-cols-3 space-y-4 md:items-center md:place-content-end py-4",children:[w("div",{children:w("h1",{className:"hel",children:"Umar."})}),w("div",{className:"flex md:justify-around items-center md:space-x-10",children:o$.map(n=>w("a",{href:n.to,className:"mr-4",children:n.name}))}),w("div",{children:G("div",{className:"flex md:justify-end space-x-2",children:[w("a",{href:t.github,target:"_blank",className:"mb-4",children:w("div",{className:"rounded-full p-4 bg-[#2E2E2E]",children:w(cS,{size:"14px"})})}),w("a",{href:t.twitter,target:"_blank",children:w("div",{className:"rounded-full p-4  bg-[#2E2E2E]",children:w(dS,{size:"14px"})})}),w("a",{href:t.linkdin,target:"_blank",children:w("div",{className:"rounded-full p-4 bg-[#2E2E2E]",children:w(hS,{size:"14px"})})})]})})]})},l$=()=>{var o;const[t,e]=D.exports.useState({}),[n,r]=D.exports.useState([]),[i,s]=D.exports.useState(!1);return D.exports.useEffect(()=>{s(!0),Bn.collection("about").onSnapshot(a=>{if(a){let l=a.docs.map(u=>({data:u.data()}));s(!1),e(l[0].data),console.log(">D",t)}})},[]),Bn.collection("workHiatory").onSnapshot(a=>{if(a){let l=a.docs.map(u=>({id:u.id,data:u.data()}));r(l)}}),G("div",{children:[w("div",{className:"text-center my-12 ",children:w("h1",{className:"text-3xl",children:"About Me"})}),w("div",{children:G("a",{href:t==null?void 0:t.resume,className:"w-full flex justify-center items-center p-2 space-x-2 bg-[#2E2E2E] rounded-md",download:!0,target:"_blank",children:[" ",w(JC,{})," ",w("h2",{children:"Resume"})]})}),i?w("p",{className:"text-2xl",children:"Fetching....."}):null,G("div",{className:"grid grid-cols-3 mt-10 gap-4",children:[G("div",{className:"col-span-2 ",children:[w("div",{className:"md:w-[530px] text-justify",children:t==null?void 0:t.about}),G("div",{className:"mt-5",children:[w("div",{className:"text-white font-medium text-lg mb-4",children:"My Stacks"}),w("div",{className:"grid md:grid-cols-7 grid-cols-3 gap-2 ",children:(o=t==null?void 0:t.stacks)==null?void 0:o.map((a,l)=>w("div",{className:"h-10 flex justify-center items-center w-24 rounded-md bg-[#2E2E2E] text-sm",children:a},l))})]})]}),w("div",{className:"flex justify-center",children:w("div",{className:" flex w-screen",children:w("img",{src:t==null?void 0:t.profileImage,alt:"sss",width:"320px",className:"border[#181818] border-solid border-[4.5px]"})})})]}),G("div",{className:"mt-10",children:[G("div",{children:[w("h1",{className:"text-2xl",children:"Experiance"}),w("hr",{})]}),n==null?void 0:n.map(a=>{var l,u,c,h,d,f,p;return G("div",{className:"grid grid-cols-3 mt-10",children:[w("div",{children:G("div",{className:" flex space-x-2 items-center",children:[w("h1",{className:"text-white font-semibold",children:(l=a.data)==null?void 0:l.company}),w("a",{href:(u=a.data)==null?void 0:u.website,target:"_blank",children:w(ek,{size:"12px"})})]})}),w("div",{children:w("h1",{className:!0,children:(c=a.data)==null?void 0:c.position})}),G("div",{children:[w("div",{className:"flex justify-end mt-2",children:((h=a.data)==null?void 0:h.date)===void 0?w("div",{children:"Time is not defined"}):G("h4",{className:"text-xs text-white font-semibold",children:[" ",(d=a.data)==null?void 0:d.date.toDate().getMonth(),","," ",(f=a.data)==null?void 0:f.date.toDate().getFullYear()]})}),w("div",{children:(p=a.data)==null?void 0:p.about})]})]})})]})]})},u$=()=>w(kc,{children:w(l$,{})}),c$=()=>{const[t,e]=D.exports.useState([]),[n,r]=D.exports.useState(!1);return D.exports.useEffect(()=>{let i=[];r(!0),Bn.collection("projects").onSnapshot(s=>{s&&s.forEach(o=>{const a={id:o.id,data:o.data()};i.push(a)})}),Bn.collection("bestProject").onSnapshot(s=>{s&&s.forEach(o=>{const a={id:o.id,data:o.data()};r(!1),i.push(a),e(i)})})},[]),G("div",{children:[w("div",{className:"mt-6 mb-10 text-center",children:w("h1",{className:"text-white text-3xl font-medium",children:" Projects"})}),w("div",{className:"my-5",children:w("hr",{})}),n?w("div",{className:"min-h-40 text-2xl ",children:"Fetching....."}):null,t==null?void 0:t.map(i=>w(HI,{to:"/project/"+(i==null?void 0:i.id),children:G("div",{className:"grid md:grid-cols-2 mb-10 place-items-start items-start zoom cursor-pointer gap-4",children:[G("div",{className:"",children:[w("div",{className:"mb-7",children:(i==null?void 0:i.data.date)===void 0?w("div",{children:"Time is not defined"}):G("h4",{className:"text-xs font-semibold text-white",children:[" ",i==null?void 0:i.data.date.toDate().getMonth(),","," ",i==null?void 0:i.data.date.toDate().getFullYear()]})}),G("div",{children:[w("h1",{className:"text-white text-3xl",children:i==null?void 0:i.data.name}),w("h4",{className:"text-white mt-3 mb-2 text-sm",children:i.sub}),w("div",{className:"text-sm md:w-80 ",style:{textAlign:"justify"},children:i==null?void 0:i.data.description}),G("div",{className:"flex items-center bg-[#2E2E2E] rounded-3xl mt-4 p-2 w-full  max-w-fit	 cursor-pointer	 ",children:[w("div",{className:"mr-2",children:w(em,{})}),w("div",{className:"",children:i==null?void 0:i.data.link})]}),w("div",{className:"mt-8 grid md:grid-cols-5 grid-cols-3 gap-4",children:i==null?void 0:i.data.tech.map(s=>w("div",{className:"h-10 flex justify-center items-center w-24 rounded-md bg-[#2E2E2E] text-sm",children:s}))})]})]}),w("div",{children:w("img",{src:i==null?void 0:i.data.mainPicture,alt:"",width:"550px",height:"500px"})})]})},i==null?void 0:i.id))]})};var ch={exports:{}},Ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ht=typeof Symbol=="function"&&Symbol.for,Ig=ht?Symbol.for("react.element"):60103,_g=ht?Symbol.for("react.portal"):60106,hh=ht?Symbol.for("react.fragment"):60107,dh=ht?Symbol.for("react.strict_mode"):60108,fh=ht?Symbol.for("react.profiler"):60114,ph=ht?Symbol.for("react.provider"):60109,mh=ht?Symbol.for("react.context"):60110,Tg=ht?Symbol.for("react.async_mode"):60111,gh=ht?Symbol.for("react.concurrent_mode"):60111,vh=ht?Symbol.for("react.forward_ref"):60112,yh=ht?Symbol.for("react.suspense"):60113,h$=ht?Symbol.for("react.suspense_list"):60120,wh=ht?Symbol.for("react.memo"):60115,Sh=ht?Symbol.for("react.lazy"):60116,d$=ht?Symbol.for("react.block"):60121,f$=ht?Symbol.for("react.fundamental"):60117,p$=ht?Symbol.for("react.responder"):60118,m$=ht?Symbol.for("react.scope"):60119;function ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ig:switch(t=t.type,t){case Tg:case gh:case hh:case fh:case dh:case yh:return t;default:switch(t=t&&t.$$typeof,t){case mh:case vh:case Sh:case wh:case ph:return t;default:return e}}case _g:return e}}}function KI(t){return ln(t)===gh}Ee.AsyncMode=Tg;Ee.ConcurrentMode=gh;Ee.ContextConsumer=mh;Ee.ContextProvider=ph;Ee.Element=Ig;Ee.ForwardRef=vh;Ee.Fragment=hh;Ee.Lazy=Sh;Ee.Memo=wh;Ee.Portal=_g;Ee.Profiler=fh;Ee.StrictMode=dh;Ee.Suspense=yh;Ee.isAsyncMode=function(t){return KI(t)||ln(t)===Tg};Ee.isConcurrentMode=KI;Ee.isContextConsumer=function(t){return ln(t)===mh};Ee.isContextProvider=function(t){return ln(t)===ph};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ig};Ee.isForwardRef=function(t){return ln(t)===vh};Ee.isFragment=function(t){return ln(t)===hh};Ee.isLazy=function(t){return ln(t)===Sh};Ee.isMemo=function(t){return ln(t)===wh};Ee.isPortal=function(t){return ln(t)===_g};Ee.isProfiler=function(t){return ln(t)===fh};Ee.isStrictMode=function(t){return ln(t)===dh};Ee.isSuspense=function(t){return ln(t)===yh};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hh||t===gh||t===fh||t===dh||t===yh||t===h$||typeof t=="object"&&t!==null&&(t.$$typeof===Sh||t.$$typeof===wh||t.$$typeof===ph||t.$$typeof===mh||t.$$typeof===vh||t.$$typeof===f$||t.$$typeof===p$||t.$$typeof===m$||t.$$typeof===d$)};Ee.typeOf=ln;(function(t){t.exports=Ee})(ch);function g$(t){function e(M,V,B,Y,I){for(var ae=0,L=0,Le=0,ve=0,we,ne,dt=0,Bt=0,pe,_t=pe=we=0,ye=0,ft=0,po=0,pt=0,vl=B.length,mo=vl-1,vn,J="",ze="",Ch="",kh="",or;ye<vl;){if(ne=B.charCodeAt(ye),ye===mo&&L+ve+Le+ae!==0&&(L!==0&&(ne=L===47?10:47),ve=Le=ae=0,vl++,mo++),L+ve+Le+ae===0){if(ye===mo&&(0<ft&&(J=J.replace(d,"")),0<J.trim().length)){switch(ne){case 32:case 9:case 59:case 13:case 10:break;default:J+=B.charAt(ye)}ne=59}switch(ne){case 123:for(J=J.trim(),we=J.charCodeAt(0),pe=1,pt=++ye;ye<vl;){switch(ne=B.charCodeAt(ye)){case 123:pe++;break;case 125:pe--;break;case 47:switch(ne=B.charCodeAt(ye+1)){case 42:case 47:e:{for(_t=ye+1;_t<mo;++_t)switch(B.charCodeAt(_t)){case 47:if(ne===42&&B.charCodeAt(_t-1)===42&&ye+2!==_t){ye=_t+1;break e}break;case 10:if(ne===47){ye=_t+1;break e}}ye=_t}}break;case 91:ne++;case 40:ne++;case 34:case 39:for(;ye++<mo&&B.charCodeAt(ye)!==ne;);}if(pe===0)break;ye++}switch(pe=B.substring(pt,ye),we===0&&(we=(J=J.replace(h,"").trim()).charCodeAt(0)),we){case 64:switch(0<ft&&(J=J.replace(d,"")),ne=J.charCodeAt(1),ne){case 100:case 109:case 115:case 45:ft=V;break;default:ft=It}if(pe=e(V,ft,pe,ne,I+1),pt=pe.length,0<O&&(ft=n(It,J,po),or=a(3,pe,ft,V,ge,fe,pt,ne,I,Y),J=ft.join(""),or!==void 0&&(pt=(pe=or.trim()).length)===0&&(ne=0,pe="")),0<pt)switch(ne){case 115:J=J.replace(C,o);case 100:case 109:case 45:pe=J+"{"+pe+"}";break;case 107:J=J.replace(m,"$1 $2"),pe=J+"{"+pe+"}",pe=_e===1||_e===2&&s("@"+pe,3)?"@-webkit-"+pe+"@"+pe:"@"+pe;break;default:pe=J+pe,Y===112&&(pe=(ze+=pe,""))}else pe="";break;default:pe=e(V,n(V,J,po),pe,Y,I+1)}Ch+=pe,pe=po=ft=_t=we=0,J="",ne=B.charCodeAt(++ye);break;case 125:case 59:if(J=(0<ft?J.replace(d,""):J).trim(),1<(pt=J.length))switch(_t===0&&(we=J.charCodeAt(0),we===45||96<we&&123>we)&&(pt=(J=J.replace(" ",":")).length),0<O&&(or=a(1,J,V,M,ge,fe,ze.length,Y,I,Y))!==void 0&&(pt=(J=or.trim()).length)===0&&(J="\0\0"),we=J.charCodeAt(0),ne=J.charCodeAt(1),we){case 0:break;case 64:if(ne===105||ne===99){kh+=J+B.charAt(ye);break}default:J.charCodeAt(pt-1)!==58&&(ze+=i(J,we,ne,J.charCodeAt(2)))}po=ft=_t=we=0,J="",ne=B.charCodeAt(++ye)}}switch(ne){case 13:case 10:L===47?L=0:1+we===0&&Y!==107&&0<J.length&&(ft=1,J+="\0"),0<O*K&&a(0,J,V,M,ge,fe,ze.length,Y,I,Y),fe=1,ge++;break;case 59:case 125:if(L+ve+Le+ae===0){fe++;break}default:switch(fe++,vn=B.charAt(ye),ne){case 9:case 32:if(ve+ae+L===0)switch(dt){case 44:case 58:case 9:case 32:vn="";break;default:ne!==32&&(vn=" ")}break;case 0:vn="\\0";break;case 12:vn="\\f";break;case 11:vn="\\v";break;case 38:ve+L+ae===0&&(ft=po=1,vn="\f"+vn);break;case 108:if(ve+L+ae+Ie===0&&0<_t)switch(ye-_t){case 2:dt===112&&B.charCodeAt(ye-3)===58&&(Ie=dt);case 8:Bt===111&&(Ie=Bt)}break;case 58:ve+L+ae===0&&(_t=ye);break;case 44:L+Le+ve+ae===0&&(ft=1,vn+="\r");break;case 34:case 39:L===0&&(ve=ve===ne?0:ve===0?ne:ve);break;case 91:ve+L+Le===0&&ae++;break;case 93:ve+L+Le===0&&ae--;break;case 41:ve+L+ae===0&&Le--;break;case 40:if(ve+L+ae===0){if(we===0)switch(2*dt+3*Bt){case 533:break;default:we=1}Le++}break;case 64:L+Le+ve+ae+_t+pe===0&&(pe=1);break;case 42:case 47:if(!(0<ve+ae+Le))switch(L){case 0:switch(2*ne+3*B.charCodeAt(ye+1)){case 235:L=47;break;case 220:pt=ye,L=42}break;case 42:ne===47&&dt===42&&pt+2!==ye&&(B.charCodeAt(pt+2)===33&&(ze+=B.substring(pt,ye+1)),vn="",L=0)}}L===0&&(J+=vn)}Bt=dt,dt=ne,ye++}if(pt=ze.length,0<pt){if(ft=V,0<O&&(or=a(2,ze,ft,M,ge,fe,pt,Y,I,Y),or!==void 0&&(ze=or).length===0))return kh+ze+Ch;if(ze=ft.join(",")+"{"+ze+"}",_e*Ie!==0){switch(_e!==2||s(ze,2)||(Ie=0),Ie){case 111:ze=ze.replace(E,":-moz-$1")+ze;break;case 112:ze=ze.replace(v,"::-webkit-input-$1")+ze.replace(v,"::-moz-$1")+ze.replace(v,":-ms-input-$1")+ze}Ie=0}}return kh+ze+Ch}function n(M,V,B){var Y=V.trim().split(S);V=Y;var I=Y.length,ae=M.length;switch(ae){case 0:case 1:var L=0;for(M=ae===0?"":M[0]+" ";L<I;++L)V[L]=r(M,V[L],B).trim();break;default:var Le=L=0;for(V=[];L<I;++L)for(var ve=0;ve<ae;++ve)V[Le++]=r(M[ve]+" ",Y[L],B).trim()}return V}function r(M,V,B){var Y=V.charCodeAt(0);switch(33>Y&&(Y=(V=V.trim()).charCodeAt(0)),Y){case 38:return V.replace(g,"$1"+M.trim());case 58:return M.trim()+V.replace(g,"$1"+M.trim());default:if(0<1*B&&0<V.indexOf("\f"))return V.replace(g,(M.charCodeAt(0)===58?"":"$1")+M.trim())}return M+V}function i(M,V,B,Y){var I=M+";",ae=2*V+3*B+4*Y;if(ae===944){M=I.indexOf(":",9)+1;var L=I.substring(M,I.length-1).trim();return L=I.substring(0,M).trim()+L+";",_e===1||_e===2&&s(L,1)?"-webkit-"+L+L:L}if(_e===0||_e===2&&!s(I,1))return I;switch(ae){case 1015:return I.charCodeAt(10)===97?"-webkit-"+I+I:I;case 951:return I.charCodeAt(3)===116?"-webkit-"+I+I:I;case 963:return I.charCodeAt(5)===110?"-webkit-"+I+I:I;case 1009:if(I.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+I+I;case 978:return"-webkit-"+I+"-moz-"+I+I;case 1019:case 983:return"-webkit-"+I+"-moz-"+I+"-ms-"+I+I;case 883:if(I.charCodeAt(8)===45)return"-webkit-"+I+I;if(0<I.indexOf("image-set(",11))return I.replace(le,"$1-webkit-$2")+I;break;case 932:if(I.charCodeAt(4)===45)switch(I.charCodeAt(5)){case 103:return"-webkit-box-"+I.replace("-grow","")+"-webkit-"+I+"-ms-"+I.replace("grow","positive")+I;case 115:return"-webkit-"+I+"-ms-"+I.replace("shrink","negative")+I;case 98:return"-webkit-"+I+"-ms-"+I.replace("basis","preferred-size")+I}return"-webkit-"+I+"-ms-"+I+I;case 964:return"-webkit-"+I+"-ms-flex-"+I+I;case 1023:if(I.charCodeAt(8)!==99)break;return L=I.substring(I.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+L+"-webkit-"+I+"-ms-flex-pack"+L+I;case 1005:return p.test(I)?I.replace(f,":-webkit-")+I.replace(f,":-moz-")+I:I;case 1e3:switch(L=I.substring(13).trim(),V=L.indexOf("-")+1,L.charCodeAt(0)+L.charCodeAt(V)){case 226:L=I.replace(T,"tb");break;case 232:L=I.replace(T,"tb-rl");break;case 220:L=I.replace(T,"lr");break;default:return I}return"-webkit-"+I+"-ms-"+L+I;case 1017:if(I.indexOf("sticky",9)===-1)break;case 975:switch(V=(I=M).length-10,L=(I.charCodeAt(V)===33?I.substring(0,V):I).substring(M.indexOf(":",7)+1).trim(),ae=L.charCodeAt(0)+(L.charCodeAt(7)|0)){case 203:if(111>L.charCodeAt(8))break;case 115:I=I.replace(L,"-webkit-"+L)+";"+I;break;case 207:case 102:I=I.replace(L,"-webkit-"+(102<ae?"inline-":"")+"box")+";"+I.replace(L,"-webkit-"+L)+";"+I.replace(L,"-ms-"+L+"box")+";"+I}return I+";";case 938:if(I.charCodeAt(5)===45)switch(I.charCodeAt(6)){case 105:return L=I.replace("-items",""),"-webkit-"+I+"-webkit-box-"+L+"-ms-flex-"+L+I;case 115:return"-webkit-"+I+"-ms-flex-item-"+I.replace($,"")+I;default:return"-webkit-"+I+"-ms-flex-line-pack"+I.replace("align-content","").replace($,"")+I}break;case 973:case 989:if(I.charCodeAt(3)!==45||I.charCodeAt(4)===122)break;case 931:case 953:if(j.test(M)===!0)return(L=M.substring(M.indexOf(":")+1)).charCodeAt(0)===115?i(M.replace("stretch","fill-available"),V,B,Y).replace(":fill-available",":stretch"):I.replace(L,"-webkit-"+L)+I.replace(L,"-moz-"+L.replace("fill-",""))+I;break;case 962:if(I="-webkit-"+I+(I.charCodeAt(5)===102?"-ms-"+I:"")+I,B+Y===211&&I.charCodeAt(13)===105&&0<I.indexOf("transform",10))return I.substring(0,I.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+I}return I}function s(M,V){var B=M.indexOf(V===1?":":"{"),Y=M.substring(0,V!==3?B:10);return B=M.substring(B+1,M.length-1),H(V!==2?Y:Y.replace(X,"$1"),B,V)}function o(M,V){var B=i(V,V.charCodeAt(0),V.charCodeAt(1),V.charCodeAt(2));return B!==V+";"?B.replace(b," or ($1)").substring(4):"("+V+")"}function a(M,V,B,Y,I,ae,L,Le,ve,we){for(var ne=0,dt=V,Bt;ne<O;++ne)switch(Bt=Ue[ne].call(c,M,dt,B,Y,I,ae,L,Le,ve,we)){case void 0:case!1:case!0:case null:break;default:dt=Bt}if(dt!==V)return dt}function l(M){switch(M){case void 0:case null:O=Ue.length=0;break;default:if(typeof M=="function")Ue[O++]=M;else if(typeof M=="object")for(var V=0,B=M.length;V<B;++V)l(M[V]);else K=!!M|0}return l}function u(M){return M=M.prefix,M!==void 0&&(H=null,M?typeof M!="function"?_e=1:(_e=2,H=M):_e=0),u}function c(M,V){var B=M;if(33>B.charCodeAt(0)&&(B=B.trim()),oe=B,B=[oe],0<O){var Y=a(-1,V,B,B,ge,fe,0,0,0,0);Y!==void 0&&typeof Y=="string"&&(V=Y)}var I=e(It,B,V,0,0);return 0<O&&(Y=a(-2,I,B,B,ge,fe,I.length,0,0,0),Y!==void 0&&(I=Y)),oe="",Ie=0,fe=ge=1,I}var h=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,y=/([,: ])(transform)/g,S=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,E=/:(read-only)/g,T=/[svh]\w+-[tblr]{2}/,C=/\(\s*(.*)\s*\)/g,b=/([\s\S]*?);/g,$=/-self|flex-/g,X=/[^]*?(:[rp][el]a[\w-]+)[^]*/,j=/stretch|:\s*\w+\-(?:conte|avail)/,le=/([^-])(image-set\()/,fe=1,ge=1,Ie=0,_e=1,It=[],Ue=[],O=0,H=null,K=0,oe="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var v$={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function y$(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var w$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,P0=y$(function(t){return w$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Cg=ch.exports,S$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},E$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},x$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},GI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kg={};kg[Cg.ForwardRef]=x$;kg[Cg.Memo]=GI;function O0(t){return Cg.isMemo(t)?GI:kg[t.$$typeof]||S$}var I$=Object.defineProperty,_$=Object.getOwnPropertyNames,$0=Object.getOwnPropertySymbols,T$=Object.getOwnPropertyDescriptor,C$=Object.getPrototypeOf,R0=Object.prototype;function WI(t,e,n){if(typeof e!="string"){if(R0){var r=C$(e);r&&r!==R0&&WI(t,r,n)}var i=_$(e);$0&&(i=i.concat($0(e)));for(var s=O0(t),o=O0(e),a=0;a<i.length;++a){var l=i[a];if(!E$[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=T$(e,l);try{I$(t,l,u)}catch{}}}}return t}var k$=WI;function Gn(){return(Gn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var M0=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},Zf=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!ch.exports.typeOf(t)},sc=Object.freeze([]),$r=Object.freeze({});function Ua(t){return typeof t=="function"}function L0(t){return t.displayName||t.name||"Component"}function bg(t){return t&&typeof t.styledComponentId=="string"}var Qs=typeof process<"u"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Ng=typeof window<"u"&&"HTMLElement"in window,b$=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function gl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var N$=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},e.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;n>=o;)(o<<=1)<0&&gl(16,""+n);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=r.length;u<c;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),s=i+r;this.groupSizes[n]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],s=this.indexOfGroup(n),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},t}(),cu=new Map,oc=new Map,na=1,ql=function(t){if(cu.has(t))return cu.get(t);for(;oc.has(na);)na++;var e=na++;return cu.set(t,e),oc.set(e,t),e},D$=function(t){return oc.get(t)},A$=function(t,e){e>=na&&(na=e+1),cu.set(t,e),oc.set(e,t)},P$="style["+Qs+'][data-styled-version="5.3.6"]',O$=new RegExp("^"+Qs+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),$$=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},R$=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=n.length;i<s;i++){var o=n[i].trim();if(o){var a=o.match(O$);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(A$(u,l),$$(t,u,a[3]),t.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},M$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},QI=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(Qs))return c}}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Qs,"active"),r.setAttribute("data-styled-version","5.3.6");var o=M$();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},L$=function(){function t(n){var r=this.element=QI(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}gl(17)}(r),this.length=0}var e=t.prototype;return e.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),F$=function(){function t(n){var r=this.element=QI(n);this.nodes=r.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),s=this.nodes[n];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),V$=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),F0=Ng,B$={isServer:!Ng,useCSSOMInjection:!b$},YI=function(){function t(n,r,i){n===void 0&&(n=$r),r===void 0&&(r={}),this.options=Gn({},B$,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&Ng&&F0&&(F0=!1,function(s){for(var o=document.querySelectorAll(P$),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Qs)!=="active"&&(R$(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return ql(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new t(Gn({},this.options,{},n),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,n=i?new V$(o):s?new L$(o):new F$(o),new N$(n)));var n,r,i,s,o},e.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},e.registerName=function(n,r){if(ql(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},e.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(ql(n),i)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(ql(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,s="",o=0;o<i;o++){var a=D$(o);if(a!==void 0){var l=n.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var c=Qs+".g"+o+'[id="'+a+'"]',h="";l!==void 0&&l.forEach(function(d){d.length>0&&(h+=d+",")}),s+=""+u+c+'{content:"'+h+`"}/*!sc*/
`}}}return s}(this)},t}(),j$=/(a)(d)/gi,V0=function(t){return String.fromCharCode(t+(t>25?39:97))};function Jf(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=V0(e%52)+n;return(V0(e%52)+n).replace(j$,"$1-$2")}var ws=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},XI=function(t){return ws(5381,t)};function U$(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Ua(n)&&!bg(n))return!1}return!0}var z$=XI("5.3.6"),q$=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&U$(e),this.componentId=n,this.baseHash=ws(z$,n),this.baseStyle=r,YI.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=Ys(this.rules,e,n,r).join(""),a=Jf(ws(this.baseHash,o)>>>0);if(!n.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);n.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=ws(this.baseHash,r.hash),h="",d=0;d<u;d++){var f=this.rules[d];if(typeof f=="string")h+=f;else if(f){var p=Ys(f,e,n,r),y=Array.isArray(p)?p.join(""):p;c=ws(c,y+d),h+=y}}if(h){var S=Jf(c>>>0);if(!n.hasNameForId(i,S)){var g=r(h,"."+S,void 0,i);n.insertRules(i,S,g)}s.push(S)}}return s.join(" ")},t}(),H$=/^\s*\/\/.*$/gm,K$=[":","[",".","#"];function G$(t){var e,n,r,i,s=t===void 0?$r:t,o=s.options,a=o===void 0?$r:o,l=s.plugins,u=l===void 0?sc:l,c=new g$(a),h=[],d=function(y){function S(g){if(g)try{y(g+"}")}catch{}}return function(g,m,v,E,T,C,b,$,X,j){switch(g){case 1:if(X===0&&m.charCodeAt(0)===64)return y(m+";"),"";break;case 2:if($===0)return m+"/*|*/";break;case 3:switch($){case 102:case 112:return y(v[0]+m),"";default:return m+(j===0?"/*|*/":"")}case-2:m.split("/*|*/}").forEach(S)}}}(function(y){h.push(y)}),f=function(y,S,g){return S===0&&K$.indexOf(g[n.length])!==-1||g.match(i)?y:"."+e};function p(y,S,g,m){m===void 0&&(m="&");var v=y.replace(H$,""),E=S&&g?g+" "+S+" { "+v+" }":v;return e=m,n=S,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(g||!S?"":S,E)}return c.use([].concat(u,[function(y,S,g){y===2&&g.length&&g[0].lastIndexOf(n)>0&&(g[0]=g[0].replace(r,f))},d,function(y){if(y===-2){var S=h;return h=[],S}}])),p.hash=u.length?u.reduce(function(y,S){return S.name||gl(15),ws(y,S.name)},5381).toString():"",p}var ZI=Je.createContext();ZI.Consumer;var JI=Je.createContext(),W$=(JI.Consumer,new YI),ep=G$();function Q$(){return D.exports.useContext(ZI)||W$}function Y$(){return D.exports.useContext(JI)||ep}var X$=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=ep);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return gl(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=ep),this.name+e.hash},t}(),Z$=/([A-Z])/,J$=/([A-Z])/g,eR=/^ms-/,tR=function(t){return"-"+t.toLowerCase()};function B0(t){return Z$.test(t)?t.replace(J$,tR).replace(eR,"-ms-"):t}var j0=function(t){return t==null||t===!1||t===""};function Ys(t,e,n,r){if(Array.isArray(t)){for(var i,s=[],o=0,a=t.length;o<a;o+=1)(i=Ys(t[o],e,n,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(j0(t))return"";if(bg(t))return"."+t.styledComponentId;if(Ua(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return Ys(l,e,n,r)}var u;return t instanceof X$?n?(t.inject(n,r),t.getName(r)):t:Zf(t)?function c(h,d){var f,p,y=[];for(var S in h)h.hasOwnProperty(S)&&!j0(h[S])&&(Array.isArray(h[S])&&h[S].isCss||Ua(h[S])?y.push(B0(S)+":",h[S],";"):Zf(h[S])?y.push.apply(y,c(h[S],S)):y.push(B0(S)+": "+(f=S,(p=h[S])==null||typeof p=="boolean"||p===""?"":typeof p!="number"||p===0||f in v$?String(p).trim():p+"px")+";"));return d?[d+" {"].concat(y,["}"]):y}(t):t.toString()}var U0=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function nR(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Ua(t)||Zf(t)?U0(Ys(M0(sc,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:U0(Ys(M0(t,n)))}var rR=function(t,e,n){return n===void 0&&(n=$r),t.theme!==n.theme&&t.theme||e||n.theme},iR=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,sR=/(^-|-$)/g;function wd(t){return t.replace(iR,"-").replace(sR,"")}var oR=function(t){return Jf(XI(t)>>>0)};function Hl(t){return typeof t=="string"&&!0}var tp=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},aR=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function lR(t,e,n){var r=t[n];tp(e)&&tp(r)?e_(r,e):t[n]=e}function e_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(tp(o))for(var a in o)aR(a)&&lR(t,o[a],a)}return t}var t_=Je.createContext();t_.Consumer;var Sd={};function n_(t,e,n){var r=bg(t),i=!Hl(t),s=e.attrs,o=s===void 0?sc:s,a=e.componentId,l=a===void 0?function(m,v){var E=typeof m!="string"?"sc":wd(m);Sd[E]=(Sd[E]||0)+1;var T=E+"-"+oR("5.3.6"+E+Sd[E]);return v?v+"-"+T:T}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(m){return Hl(m)?"styled."+m:"Styled("+L0(m)+")"}(t):u,h=e.displayName&&e.componentId?wd(e.displayName)+"-"+e.componentId:e.componentId||l,d=r&&t.attrs?Array.prototype.concat(t.attrs,o).filter(Boolean):o,f=e.shouldForwardProp;r&&t.shouldForwardProp&&(f=e.shouldForwardProp?function(m,v,E){return t.shouldForwardProp(m,v,E)&&e.shouldForwardProp(m,v,E)}:t.shouldForwardProp);var p,y=new q$(n,h,r?t.componentStyle:void 0),S=y.isStatic&&o.length===0,g=function(m,v){return function(E,T,C,b){var $=E.attrs,X=E.componentStyle,j=E.defaultProps,le=E.foldedComponentIds,fe=E.shouldForwardProp,ge=E.styledComponentId,Ie=E.target,_e=function(Y,I,ae){Y===void 0&&(Y=$r);var L=Gn({},I,{theme:Y}),Le={};return ae.forEach(function(ve){var we,ne,dt,Bt=ve;for(we in Ua(Bt)&&(Bt=Bt(L)),Bt)L[we]=Le[we]=we==="className"?(ne=Le[we],dt=Bt[we],ne&&dt?ne+" "+dt:ne||dt):Bt[we]}),[L,Le]}(rR(T,D.exports.useContext(t_),j)||$r,T,$),It=_e[0],Ue=_e[1],O=function(Y,I,ae,L){var Le=Q$(),ve=Y$(),we=I?Y.generateAndInjectStyles($r,Le,ve):Y.generateAndInjectStyles(ae,Le,ve);return we}(X,b,It),H=C,K=Ue.$as||T.$as||Ue.as||T.as||Ie,oe=Hl(K),M=Ue!==T?Gn({},T,{},Ue):T,V={};for(var B in M)B[0]!=="$"&&B!=="as"&&(B==="forwardedAs"?V.as=M[B]:(fe?fe(B,P0,K):!oe||P0(B))&&(V[B]=M[B]));return T.style&&Ue.style!==T.style&&(V.style=Gn({},T.style,{},Ue.style)),V.className=Array.prototype.concat(le,ge,O!==ge?O:null,T.className,Ue.className).filter(Boolean).join(" "),V.ref=H,D.exports.createElement(K,V)}(p,m,v,S)};return g.displayName=c,(p=Je.forwardRef(g)).attrs=d,p.componentStyle=y,p.displayName=c,p.shouldForwardProp=f,p.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):sc,p.styledComponentId=h,p.target=r?t.target:t,p.withComponent=function(m){var v=e.componentId,E=function(C,b){if(C==null)return{};var $,X,j={},le=Object.keys(C);for(X=0;X<le.length;X++)$=le[X],b.indexOf($)>=0||(j[$]=C[$]);return j}(e,["componentId"]),T=v&&v+"-"+(Hl(m)?m:wd(L0(m)));return n_(m,Gn({},E,{attrs:d,componentId:T}),n)},Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(m){this._foldedDefaultProps=r?e_({},t.defaultProps,m):m}}),p.toString=function(){return"."+p.styledComponentId},i&&k$(p,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),p}var np=function(t){return function e(n,r,i){if(i===void 0&&(i=$r),!ch.exports.isValidElementType(r))return gl(1,String(r));var s=function(){return n(r,i,nR.apply(void 0,arguments))};return s.withConfig=function(o){return e(n,r,Gn({},i,{},o))},s.attrs=function(o){return e(n,r,Gn({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(n_,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){np[t]=np(t)});const ni=np;var P={exports:{}},uR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cR=uR,hR=cR;function r_(){}function i_(){}i_.resetWarningCache=r_;var dR=function(){function t(r,i,s,o,a,l){if(l!==hR){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i_,resetWarningCache:r_};return n.PropTypes=n,n};P.exports=dR();function un(){return un=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},un.apply(this,arguments)}function fR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var pR={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},rp={xy:[0,0],swiping:!1,eventData:void 0,start:void 0},mR="Left",gR="Right",vR="Up",yR="Down",wR="touchstart",SR="touchmove",ER="touchend",z0="mousemove",q0="mouseup";function xR(t,e,n,r){return t>e?n>0?mR:gR:r>0?vR:yR}function H0(t,e){if(e===0)return t;var n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function IR(t,e){var n=function(h){h.touches&&h.touches.length>1||t(function(d,f){f.trackMouse&&(document.addEventListener(z0,r),document.addEventListener(q0,o));var p=h.touches?h.touches[0]:h,y=p.clientX,S=p.clientY,g=H0([y,S],f.rotationAngle);return un({},d,rp,{eventData:{initial:[].concat(g),first:!0},xy:g,start:h.timeStamp||0})})},r=function(h){t(function(d,f){if(!d.xy[0]||!d.xy[1]||h.touches&&h.touches.length>1)return d;var p=h.touches?h.touches[0]:h,y=p.clientX,S=p.clientY,g=H0([y,S],f.rotationAngle),m=g[0],v=g[1],E=d.xy[0]-m,T=d.xy[1]-v,C=Math.abs(E),b=Math.abs(T),$=(h.timeStamp||0)-d.start,X=Math.sqrt(C*C+b*b)/($||1);if(C<f.delta&&b<f.delta&&!d.swiping)return d;var j=xR(C,b,E,T),le=un({},d.eventData,{event:h,absX:C,absY:b,deltaX:E,deltaY:T,velocity:X,dir:j});f.onSwiping&&f.onSwiping(le);var fe=!1;return(f.onSwiping||f.onSwiped||f["onSwiped"+j])&&(fe=!0),fe&&f.preventDefaultTouchmoveEvent&&f.trackTouch&&h.cancelable&&h.preventDefault(),un({},d,{eventData:un({},le,{first:!1}),swiping:!0})})},i=function(h){t(function(d,f){var p;return d.swiping&&(p=un({},d.eventData,{event:h}),f.onSwiped&&f.onSwiped(p),f["onSwiped"+p.dir]&&f["onSwiped"+p.dir](p)),un({},d,rp,{eventData:p})})},s=function(){document.removeEventListener(z0,r),document.removeEventListener(q0,o)},o=function(h){s(),i(h)},a=function(h){if(h&&h.addEventListener){var d=[[wR,n],[SR,r],[ER,i]];return d.forEach(function(f){var p=f[0],y=f[1];return h.addEventListener(p,y)}),function(){return d.forEach(function(f){var p=f[0],y=f[1];return h.removeEventListener(p,y)})}}},l=function(h){h!==null&&t(function(d,f){if(d.el===h)return d;var p={};return d.el&&d.el!==h&&d.cleanUpTouch&&(d.cleanUpTouch(),p.cleanUpTouch=null),f.trackTouch&&h&&(p.cleanUpTouch=a(h)),un({},d,{el:h},p)})},u={ref:l};return e.trackMouse&&(u.onMouseDown=n),[u,a]}function _R(t,e,n){var r={};return!e.trackTouch&&t.cleanUpTouch?(t.cleanUpTouch(),r.cleanUpTouch=null):e.trackTouch&&!t.cleanUpTouch&&t.el&&(r.cleanUpTouch=n(t.el)),un({},t,r)}var Dg=function(t){fR(e,t);function e(r){var i;return i=t.call(this,r)||this,i._set=function(s){i.transientState=s(i.transientState,i.props)},i.transientState=un({},rp,{type:"class"}),i}var n=e.prototype;return n.render=function(){var i=this.props,s=i.className,o=i.style,a=i.nodeName,l=a===void 0?"div":a,u=i.innerRef,c=i.children,h=i.trackMouse,d=IR(this._set,{trackMouse:h}),f=d[0],p=d[1];this.transientState=_R(this.transientState,this.props,p);var y=u?function(S){return u(S),f.ref(S)}:f.ref;return Je.createElement(l,un({},f,{className:s,style:o,ref:y}),c)},e}(Je.PureComponent);Dg.propTypes={onSwiped:P.exports.func,onSwiping:P.exports.func,onSwipedUp:P.exports.func,onSwipedRight:P.exports.func,onSwipedDown:P.exports.func,onSwipedLeft:P.exports.func,delta:P.exports.number,preventDefaultTouchmoveEvent:P.exports.bool,nodeName:P.exports.string,trackMouse:P.exports.bool,trackTouch:P.exports.bool,innerRef:P.exports.func,rotationAngle:P.exports.number};Dg.defaultProps=pR;var s_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(!!s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(s_);const TR=s_.exports;var o_=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(r){var i=t(this.__entries__,r),s=this.__entries__[i];return s&&s[1]},e.prototype.set=function(r,i){var s=t(this.__entries__,r);~s?this.__entries__[s][1]=i:this.__entries__.push([r,i])},e.prototype.delete=function(r){var i=this.__entries__,s=t(i,r);~s&&i.splice(s,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,i){var s=this;i===void 0&&(i=null);for(var o=0,a=s.__entries__;o<a.length;o+=1){var l=a[o];r.call(i,l[1],l[0])}},Object.defineProperties(e.prototype,n),e}()}(),Ag=typeof window<"u"&&typeof document<"u"&&window.document===document,ac=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),CR=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ac):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),kR=2,bR=function(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){CR(s)}function a(){var l=Date.now();if(n){if(l-i<kR)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a},NR=20,DR=["top","right","bottom","left","width","height","size","weight"],AR=typeof MutationObserver<"u",kn=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=bR(this.refresh.bind(this),NR)};kn.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()};kn.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()};kn.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()};kn.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0};kn.prototype.connect_=function(){!Ag||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),AR?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};kn.prototype.disconnect_=function(){!Ag||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)};kn.prototype.onTransitionEnd_=function(t){var e=t.propertyName;e===void 0&&(e="");var n=DR.some(function(r){return!!~e.indexOf(r)});n&&this.refresh()};kn.getInstance=function(){return this.instance_||(this.instance_=new kn),this.instance_};kn.instance_=null;var a_=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n+=1){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Xs=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ac},l_=Eh(0,0,0,0);function lc(t){return parseFloat(t)||0}function K0(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+lc(s)},0)}function PR(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r+=1){var s=i[r],o=t["padding-"+s];n[s]=lc(o)}return n}function OR(t){var e=t.getBBox();return Eh(0,0,e.width,e.height)}function $R(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return l_;var r=Xs(t).getComputedStyle(t),i=PR(r),s=i.left+i.right,o=i.top+i.bottom,a=lc(r.width),l=lc(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=K0(r,"left","right")+s),Math.round(l+o)!==n&&(l-=K0(r,"top","bottom")+o)),!MR(t)){var u=Math.round(a+s)-e,c=Math.round(l+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return Eh(i.left,i.top,a,l)}var RR=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Xs(t).SVGGraphicsElement}:function(t){return t instanceof Xs(t).SVGElement&&typeof t.getBBox=="function"}}();function MR(t){return t===Xs(t).document.documentElement}function LR(t){return Ag?RR(t)?OR(t):$R(t):l_}function FR(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return a_(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Eh(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Pg=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Eh(0,0,0,0),this.target=t};Pg.prototype.isActive=function(){var t=LR(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight};Pg.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var VR=function(t,e){var n=FR(e);a_(this,{target:t,contentRect:n})},ri=function(t,e,n){if(this.activeObservations_=[],this.observations_=new o_,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n};ri.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Xs(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Pg(t)),this.controller_.addObserver(this),this.controller_.refresh())}};ri.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Xs(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;!e.has(t)||(e.delete(t),e.size||this.controller_.removeObserver(this))}};ri.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)};ri.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})};ri.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new VR(n.target,n.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}};ri.prototype.clearActive=function(){this.activeObservations_.splice(0)};ri.prototype.hasActive=function(){return this.activeObservations_.length>0};var u_=typeof WeakMap<"u"?new WeakMap:new o_,Og=function(t){if(!(this instanceof Og))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=kn.getInstance(),n=new ri(t,e,this);u_.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){Og.prototype[t]=function(){return(e=u_.get(this))[t].apply(e,arguments);var e}});var BR=function(){return typeof ac.ResizeObserver<"u"?ac.ResizeObserver:Og}(),jR=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},UR=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),G0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zR=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},qR=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n},HR=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},ra=function(t){zR(e,t);function e(){return jR(this,e),HR(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return UR(e,[{key:"render",value:function(){var r=this.props,i=r.children,s=r.when,o=r.hiddenMode,a=r.className,l=Je.Children.only(i),u=l.props,c=u.style,h=qR(u,["style"]),d=G0({},h),f=o&&o!=="withNull";f&&(o==="withCss"?d.className=d.className+" "+a:d.style=G0({},c,o==="withDisplay"&&{display:"none"},o==="withVisibility"&&{visibility:"hidden"}));var p=Je.cloneElement(l,d),y=f?p:null;return s?l:y}}]),e}(D.exports.Component);ra.defaultProps={hiddenMode:"withNull",className:"r-o_hidden"};ra.propTypes={children:P.exports.element.isRequired,when:P.exports.bool.isRequired,hiddenMode:P.exports.oneOf(["withNull","withDisplay","withVisibility","withCss"]),className:P.exports.string};function xh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ih(t,e,n){return e&&W0(t.prototype,e),n&&W0(t,n),t}function re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q0(Object(n),!0).forEach(function(r){re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _h(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ip(t,e)}function uc(t){return uc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},uc(t)}function ip(t,e){return ip=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ip(t,e)}function KR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function GR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function c_(t,e){if(t==null)return{};var n=GR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WR(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:ie(t)}function Th(t){var e=KR();return function(){var r=uc(t),i;if(e){var s=uc(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return WR(this,i)}}function ii(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function QR(t){return YR(t)||XR(t)||h_(t)||ZR()}function YR(t){if(Array.isArray(t))return sp(t)}function XR(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function h_(t,e){if(!!t){if(typeof t=="string")return sp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sp(t,e)}}function sp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JR(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=h_(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}var dr=function(){},d_=function(e){return QR(Array(e).keys())},In=function(){for(var e="rec",n=" ",r="".concat(e),i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s.reduce(function(l,u){return u&&(l+="".concat(n).concat(e,"-").concat(u)),l},"");return r+=a,r},eM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}};function f_(){var t=ii([`
  box-sizing: border-box;
  transition: all 0.3s ease;
  font-size: 1.6em;
  background-color: rgba(103, 58, 183, 0.1);
  color: `,`;
  box-shadow: 0 0 2px 0px #333;
  border-radius: 50%;
  border: none;
  padding: 0;
  width: 50px;
  height: 50px;
  min-width: 50px;
  line-height: 50px;
  align-self: center;
  cursor: pointer;
  outline: none;
  &:hover:enabled,
  &:focus:enabled {
    color: #fff;
    background-color: rgba(103, 58, 183, 1);
    box-shadow: 0 0 2px 0 #333;
  }
  &:disabled {
    cursor: not-allowed;
  }
`]);return f_=function(){return t},t}var tM=ni.button.attrs(function(t){var e=t.type,n=e===void 0?"button":e;return{type:n}})(f_(),function(t){return t.disabled?"#999":"#333"}),Zt={PREV:"PREV",NEXT:"NEXT",START:"flex-start",CENTER:"center",END:"flex-end"};function p_(){var t=ii([`
  box-sizing: border-box;
  display: flex;
  overflow: hidden;
  user-select: none;
  justify-content: `,`;
`]);return p_=function(){return t},t}var $g=ni.div.attrs(function(t){var e=t.style;return{style:e,className:In("item-wrapper")}})(p_(),function(t){var e=t.itemPosition;return e});$g.defaultProps={style:{},itemPosition:Zt.CENTER};$g.propTypes={children:P.exports.element.isRequired,style:P.exports.object,itemPosition:P.exports.oneOf([Zt.START,Zt.CENTER,Zt.END])};function m_(){var t=ii([`
  overflow: hidden;
  position: relative;
  width: 100%;
  margin: 0 10px;
`]);return m_=function(){return t},t}var nM=ni.div(m_());function g_(){var t=ii([`
  position: absolute;
  display: flex;
  flex-direction: `,`;
  `,`;
  `,`;
`]);return g_=function(){return t},t}var rM=function(e){var n=e.isRTL,r=e.verticalMode,i=e.isSwiping,s=e.swipedSliderPosition,o=e.sliderPosition;return r||n?"auto":"".concat(i?s:o,"px")},iM=function(e){var n=e.isRTL,r=e.verticalMode,i=e.isSwiping,s=e.swipedSliderPosition,o=e.sliderPosition;return!r&&n?"".concat(i?s:o,"px"):"auto"},sM=function(e){var n=e.verticalMode,r=e.isSwiping,i=e.swipedSliderPosition,s=e.sliderPosition;return n?"".concat(r?i:s,"px"):"auto"},oM=function(e){var n=e.isSwiping,r=e.transitionMs,i=e.easing,s=e.tiltEasing,o=n?0:r,a=n?s:i;return"all ".concat(o,"ms ").concat(a)},aM=ni.div.attrs(function(t){return{style:{transition:oM(t),left:rM(t),right:iM(t),top:sM(t)}}})(g_(),function(t){var e=t.verticalMode;return e?"column":"row"},function(t){var e=t.verticalMode;return e?"min-height: 100%;":""},function(t){var e=t.verticalMode,n=t.outerSpacing;return e?"":"margin: 0 ".concat(n,"px;")});function v_(){var t=ii([`
  display: flex;
  flex-direction: row;
  width: 100%;
`]);return v_=function(){return t},t}var lM=ni.div.attrs(function(t){return{style:{height:t.size.height}}})(v_());function y_(){var t=ii([`
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  direction: `,`;
`]);return y_=function(){return t},t}var uM=ni.div(y_(),function(t){var e=t.isRTL;return e?"rtl":"ltr"}),Rg=function(t){_h(n,t);var e=Th(n);function n(){var r;xh(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),re(ie(r),"onClick",function(){var a=r.props,l=a.onClick,u=a.id;l(u)}),r}return Ih(n,[{key:"render",value:function(){return w($g,{...this.props,onClick:this.onClick})}}]),n}(Je.Component);Rg.defaultProps={onClick:dr};Rg.propTypes={id:P.exports.oneOfType([P.exports.string,P.exports.number]),onClick:P.exports.func};var w_=function(e){var n=e.children,r=e.childWidth,i=e.autoTabIndexVisibleItems,s=e.enableSwipe,o=e.enableMouseSwipe,a=e.preventDefaultTouchmoveEvent,l=e.itemsToShow,u=e.itemsToScroll,c=e.currentItem,h=e.itemPosition,d=e.itemPadding,f=e.onSwiped,p=e.onSwiping,y=e.verticalMode,S=e.onItemClick,g="".concat(r,"px"),m="".concat(d.join("px "),"px"),v=c,E=c+l,T=v-u,C=E+u,b=Je.Children.map(n,function(X,j){var le=j>=v&&j<E,fe=!le&&j>=T&&j<c,ge=!le&&j<C&&j>c,Ie="carousel-item",_e=i?Je.cloneElement(X,{tabIndex:le?0:-1}):X;return w("div",{className:In(Ie,"".concat(Ie,"-").concat(j),"".concat(Ie,"-").concat(le?"visible":"hidden"),fe&&"".concat(Ie,"-prev"),ge&&"".concat(Ie,"-next")),children:w(Rg,{id:j,itemPosition:h,style:{width:g,padding:m},onClick:S,children:_e},j)})}),$=s?w(Dg,{style:{display:"flex",flexDirection:y?"column":"row"},stopPropagation:!0,preventDefaultTouchmoveEvent:a,trackMouse:o,onSwiped:f,onSwiping:p,className:In("swipable"),children:b}):b;return $};w_.propTypes={children:P.exports.array.isRequired,itemsToShow:P.exports.number.isRequired,noAutoTabbedItems:P.exports.bool,currentItem:P.exports.number.isRequired,itemPosition:P.exports.string,itemPadding:P.exports.array,childWidth:P.exports.number,verticalMode:P.exports.bool,enableSwipe:P.exports.bool,enableMouseSwipe:P.exports.bool,preventDefaultTouchmoveEvent:P.exports.bool,onSwiped:P.exports.func,onSwiping:P.exports.func,onItemClick:P.exports.func};var cM={left:"\u276E",right:"\u276F",up:"\u276E",down:"\u276F"},Y0=In("arrow"),hM=function(e){var n={};return(e===Xt.up||e===Xt.down)&&(n.transform="rotate(90deg)"),n},Xt=function(e){var n=e.direction,r=e.onClick,i=e.icons,s=e.style,o=c_(e,["direction","onClick","icons","style"]),a=Ii(Ii({},cM),i),l=Ii(Ii({},hM(n)),s);return w(tM,{tabIndex:0,onClick:r,className:TR(Y0,"".concat(Y0,"-").concat(n)),style:l,...o,children:a[n]})};Xt.left="left";Xt.right="right";Xt.up="up";Xt.down="down";Xt.propTypes={direction:P.exports.oneOf(["left","right","up","down"]).isRequired,icons:P.exports.object,style:P.exports.object,onClick:P.exports.func};var S_="NEXT_ITEM",E_="PREV_ITEM",dM=function(e,n){var r=n.limit,i=n.itemsToScroll,s=n.type;switch(s){case S_:{var o=e+i,a=r>=o?o:r;return a}case E_:{var l=e-i,u=l>=r?l:r;return u}default:return e}},fM=function(e,n){return{type:S_,limit:e,itemsToScroll:n}},pM=function(e,n){return{type:E_,limit:e,itemsToScroll:n}};function x_(){var t=ii([`
  box-sizing: border-box;
  padding: 0;
  transition: all 250ms ease;
  border: none;
  margin: 5px;
  background-color: `,`;
  font-size: 1.3em;
  content: "";
  height: 10px;
  width: 10px;
  box-shadow: `,`;
  border-radius: 50%;
  outline: none;
  &:hover,
  &:focus {
    cursor: pointer;
    box-shadow: `,`;
  }
`]);return x_=function(){return t},t}var mM="0 0 1px 2px rgba(0, 0, 0, 0.5)",X0="0 0 1px 3px rgba(103,58,183,1)",gM="0 0 1px 3px rgba(103,58,183,.5)",vM=ni.button.attrs(function(t){var e=t.type,n=e===void 0?"button":e;return{type:n}})(x_(),function(t){var e=t.active;return e?"rgba(103,58,183,.5)":"transparent"},function(t){var e=t.active;return e?X0:mM},function(t){var e=t.active;return e?X0:gM}),I_=function(t){_h(n,t);var e=Th(n);function n(){var r;xh(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),re(ie(r),"onClick",function(){var a=r.props,l=a.onClick,u=a.id;l(u)}),r}return Ih(n,[{key:"render",value:function(){var i=this.props.active;return w(vM,{tabIndex:i?-1:0,onClick:this.onClick,active:i,className:"".concat(In("dot")," ").concat(i?In("dot_active"):"")})}}]),n}(Je.Component);I_.propTypes={id:P.exports.oneOfType([P.exports.string,P.exports.number]),active:P.exports.bool,onClick:P.exports.func};function __(){var t=ii([`
  display: flex;
  flex-wrap: wrap;
  margin-top: 15px;
`]);return __=function(){return t},t}var yM=ni.div(__()),Mg=function(t){_h(n,t);var e=Th(n);function n(){return xh(this,n),e.apply(this,arguments)}return Ih(n,[{key:"render",value:function(){var i=this.props,s=i.numOfPages,o=i.activePage,a=i.onClick,l=d_(s);return w(yM,{className:In("pagination"),children:l.map(function(u,c){return w(I_,{id:c,active:c===o,onClick:a},c)})})}}]),n}(Je.Component);Mg.defaultProps={onClick:dr};Mg.propTypes={numOfPages:P.exports.number.isRequired,activePage:P.exports.number.isRequired,onClick:P.exports.func};var Lg=function(t){_h(n,t);var e=Th(n);function n(){var r;xh(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),re(ie(r),"isComponentMounted",!1),re(ie(r),"state",{rootHeight:0,childHeight:0,sliderPosition:0,swipedSliderPosition:0,isSwiping:!1,transitioning:!1,transitionMs:r.props.transitionMs,activeIndex:r.props.initialActiveIndex||r.props.initialFirstItem,pages:[],activePage:0,sliderContainerWidth:0}),re(ie(r),"setRef",function(a){return function(l){return r[a]=l}}),re(ie(r),"initResizeObserver",function(){r.ro=new BR(function(a,l){var u=JR(a),c;try{var h=function(){var f=c.value;f.target===r.sliderContainer&&window.requestAnimationFrame(function(){r.onContainerResize(f)}),f.target===r.slider&&window.requestAnimationFrame(function(){r.onSliderResize(f)})};for(u.s();!(c=u.n()).done;)h()}catch(d){u.e(d)}finally{u.f()}}),r.ro.observe(r.sliderContainer),r.ro.observe(r.slider)}),re(ie(r),"unSubscribeObserver",function(){return r.ro.disconnect()}),re(ie(r),"setAutoPlay",function(){var a=r.getDerivedPropsFromBreakPoint(),l=a.autoPlaySpeed;r.autoPlayIntervalId=setInterval(function(){if(r.isComponentMounted){var u=r.state.transitioning;u||r.slideNext()}},l)}),re(ie(r),"removeAutoPlay",function(){r.autoPlayIntervalId&&(clearInterval(r.autoPlayIntervalId),r.autoPlayIntervalId=null)}),re(ie(r),"setPages",function(){var a=r.getNumOfPages(),l=d_(a);r.setState({pages:l})}),re(ie(r),"onSliderTransitionEnd",function(a){r.slider.addEventListener("transitionend",a)}),re(ie(r),"removeSliderTransitionHook",function(a){r.slider.removeEventListener("transitionend",a)}),re(ie(r),"getDerivedPropsFromBreakPoint",function(){var a=r.props,l=a.breakPoints,u=c_(a,["breakPoints"]),c=r.state.sliderContainerWidth,h;return l&&l.length>0&&(h=l.slice().reverse().find(function(d){return d.width<=c}),h||(h=l[0])),Ii(Ii({},u),h)}),re(ie(r),"updateSliderPosition",function(){r.setState(function(a){var l=r.getDerivedPropsFromBreakPoint(),u=l.children,c=l.verticalMode,h=l.itemsToShow,d=l.transitionMs,f=a.childHeight,p=a.activeIndex,y=r.calculateChildWidth(),S=D.exports.Children.toArray(u).length,g=S-h,m=p*-1,v=h-(S-p);v>0&&g>0&&(m=v+p*-1);var E=(c?f:y)*m,T=v>0?p-v:p;return window.requestAnimationFrame(function(){r.isComponentMounted&&r.setState({transitionMs:d})}),{sliderPosition:E,activeIndex:T<0?0:T}})}),re(ie(r),"onSliderResize",function(a){if(!!r.isComponentMounted){var l=r.getDerivedPropsFromBreakPoint(),u=l.verticalMode,c=l.children,h=l.itemsToShow,d=a.contentRect.height,f={},p=D.exports.Children.toArray(c).length;if(u){var y=d/p;f.rootHeight=y*Math.min(p,h),f.childHeight=y}else f.rootHeight=d;r.setState(f)}}),re(ie(r),"calculateChildWidth",function(){var a=r.state.sliderContainerWidth,l=r.getDerivedPropsFromBreakPoint(),u=l.verticalMode,c=l.itemsToShow,h=l.showEmptySlots,d=l.children,f=D.exports.Children.toArray(d).length||1,p=0;return u?p=a:p=a/(h?c:Math.min(f,c)),p}),re(ie(r),"onContainerResize",function(a){var l=a.contentRect.width,u=r.getDerivedPropsFromBreakPoint(),c=u.outerSpacing,h=u.verticalMode,d=l-(h?0:c*2);!r.isComponentMounted||r.state.sliderContainerWidth===l||r.setState({sliderContainerWidth:d,transitionMs:0},function(){var f=r.getDerivedPropsFromBreakPoint(),p=f.onResize,y=f.itemsToShow,S=f.children,g=D.exports.Children.toArray(S).length||1;r.setState(function(m){var v=m.activeIndex,E=Math.min(g,y),T=g-E;return v>T&&(v=T),{activeIndex:v}},function(){r.updateSliderPosition();var m=r.getDerivedPropsFromBreakPoint();p(m)})})}),re(ie(r),"tiltMovement",function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:150;r.setState(function(c){return{isSwiping:!0,swipedSliderPosition:a-l}}),setTimeout(function(){r.setState({isSwiping:!1,swipedSliderPosition:0})},u)}),re(ie(r),"convertChildToCbObj",function(a){var l=r.getDerivedPropsFromBreakPoint(),u=l.children,c=Math.round(a),h=D.exports.Children.toArray(u)[c];return{item:h.props,index:c}}),re(ie(r),"getNextItemIndex",function(a,l){var u=r.getDerivedPropsFromBreakPoint(),c=u.children,h=u.itemsToShow,d=u.itemsToScroll,f=D.exports.Children.toArray(c).length||1,p=h>f,y=l?0:f-h;p&&(y=0);var S=l?pM(0,d):fM(y,d),g=dM(a,S);return g}),re(ie(r),"getNextItemObj",function(a){var l=r.getDerivedPropsFromBreakPoint(),u=l.children,c=r.state.activeIndex,h=r.getNextItemIndex(c,a),d=Math.round(h),f=D.exports.Children.toArray(u)[d],p={item:f.props,index:d};return p}),re(ie(r),"resetSwipe",function(){r.setState({swipedSliderPosition:0,transitioning:!1,isSwiping:!1})}),re(ie(r),"onSwiping",function(a){var l=a.deltaX,u=a.absX,c=a.deltaY,h=a.absY,d=a.dir;r.setState(function(f){var p=f.childHeight,y=f.activeIndex,S=f.sliderPosition,g=r.getDerivedPropsFromBreakPoint(),m=g.itemsToShow,v=g.verticalMode,E=g.children,T=g.isRTL,C=r.calculateChildWidth(),b=D.exports.Children.toArray(E).length||1,$=!v&&d==="Left"&&!T||!v&&d==="Right"&&T||v&&d==="Up",X=!v&&d==="Right"&&!T||!v&&d==="Left"&&T||v&&d==="Down",j=d==="Left"||d==="Right",le=d==="Up"||d==="Down",fe=!v,ge=0,Ie=C/2,_e=p/2;if(v){if(le){var It=b*p;$?ge=It-p*y-m*p+_e:X&&(ge=p*y+_e)}}else if(j){var Ue=b*C;$?ge=Ue-C*y-m*C+Ie:X&&(ge=C*y+Ie)}var O=fe&&le||fe&&j&&u>ge,H=v&&j||v&&le&&h>ge;if(!(O||H)){var K;return j?T?K=S+l:K=S-l:K=S-c,{swipedSliderPosition:K,isSwiping:!0,transitioning:!0}}})}),re(ie(r),"onSwiped",function(a){var l=a.absX,u=a.absY,c=a.dir,h=r.state,d=h.childHeight,f=h.activeIndex,p=r.getDerivedPropsFromBreakPoint(),y=p.verticalMode,S=p.isRTL,g=p.itemsToScroll,m=r.calculateChildWidth(),v=r.resetSwipe,E=m/5,T=d/5,C=c==="Left",b=c==="Right",$=c==="Up",X=c==="Down",j=y&&($||X)&&u>T,le=!y&&(b||C)&&l>E,fe=!1;if((j||le)&&(fe=!0),fe)if(y){var ge=Math.ceil((u-T)/d),Ie=Math.max(g,ge),_e=f-Ie,It=f+Ie;X&&(v=function(){return r.goTo(_e)}),$&&(v=function(){return r.goTo(It)})}else{var Ue=Math.ceil((l-E)/m),O=Math.max(g,Ue),H=f-O,K=f+O;S?(C&&(v=function(){return r.goTo(H)}),b&&(v=function(){return r.goTo(K)})):(C&&(v=function(){return r.goTo(K)}),b&&(v=function(){return r.goTo(H)}))}r.setState({isSwiping:!1,transitioning:!1}),v({skipTilt:!0})}),re(ie(r),"onNextStart",function(a){var l=r.getDerivedPropsFromBreakPoint(),u=l.onNextStart,c=r.state.activeIndex,h=r.getNextItemObj(),d=r.convertChildToCbObj(c);u(d,h),r.slideNext(a)}),re(ie(r),"onPrevStart",function(a){var l=r.getDerivedPropsFromBreakPoint(),u=l.onPrevStart,c=r.state.activeIndex,h=r.getNextItemObj(!0),d=r.convertChildToCbObj(c);u(d,h),r.slidePrev(a)}),re(ie(r),"slideNext",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=a.skipTilt,u=r.getDerivedPropsFromBreakPoint(),c=u.enableTilt,h=r.state,d=h.activeIndex,f=h.sliderPosition,p=r.getNextItemIndex(d,!1);d!==p?r.goTo(p):c&&!l&&r.tiltMovement(f,20,150)}),re(ie(r),"slidePrev",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=a.skipTilt,u=r.state.activeIndex,c=r.getDerivedPropsFromBreakPoint(),h=c.enableTilt,d=r.getNextItemIndex(u,!0);u!==d?r.goTo(d):h&&!l&&r.tiltMovement(0,-20,150)}),re(ie(r),"onNextEnd",function(){var a=r.getDerivedPropsFromBreakPoint(),l=a.onNextEnd,u=a.onChange,c=r.state,h=c.activeIndex,d=c.activePage,f=r.convertChildToCbObj(h);r.removeSliderTransitionHook(r.onNextEnd),r.setState({transitioning:!1}),u&&u(f,d),l(f,d)}),re(ie(r),"onPrevEnd",function(){var a=r.getDerivedPropsFromBreakPoint(),l=a.onPrevEnd,u=a.onChange,c=r.state,h=c.activeIndex,d=c.activePage,f=r.convertChildToCbObj(h);r.removeSliderTransitionHook(r.onPrevEnd),r.setState({transitioning:!1}),u&&u(f,d),l(f,d)}),re(ie(r),"generatePositionUpdater",function(a,l,u,c){return function(h){var d=h.sliderPosition,f=h.childHeight,p=h.activeIndex,y=r.calculateChildWidth(),S=0,g=u?f:y;return a===Zt.NEXT?S=d-g*(l-p):S=d+g*(p-l),Ii({sliderPosition:S,activeIndex:l,swipedSliderPosition:0,isSwiping:!1},c)}}),re(ie(r),"goTo",function(a){var l=r.getDerivedPropsFromBreakPoint(),u=l.children,c=l.verticalMode,h=l.itemsToShow,d=r.state.activeIndex,f=D.exports.Children.toArray(u).length,p=Math.max(0,a),y=d>p,S=r.getNextItemIndex(d,y),g=S===d,m=p+h>=f;if(!g){m&&(p=Math.max(0,f-h));var v=Zt.NEXT,E=r.onNextEnd;y&&(v=Zt.PREV,E=r.onPrevEnd);var T=r.generatePositionUpdater(v,p,c,{transitioning:!0});r.setState(T,function(){eM(r.updateActivePage(),r.onSliderTransitionEnd(E))})}}),re(ie(r),"getNumOfPages",function(){var a=r.getDerivedPropsFromBreakPoint(),l=a.children,u=a.itemsToShow,c=D.exports.Children.toArray(l).length,h=Math.max(u,1),d=Math.ceil(c/h);return d||1}),re(ie(r),"updateActivePage",function(){r.setState(function(a){var l=r.getDerivedPropsFromBreakPoint(),u=l.itemsToShow,c=l.children,h=a.activeIndex,d=a.activePage,f=r.getNumOfPages(),p=D.exports.Children.toArray(c).length,y=Math.min(p,u),S=Math.max(y,1),g=Math.ceil(h/S),m=Math.min(f-1,g);if(d!==m)return{activePage:m}})}),re(ie(r),"onIndicatorClick",function(a){var l=r.getDerivedPropsFromBreakPoint(),u=l.itemsToShow,c=a*u;r.setState({activePage:a}),r.goTo(c)}),r}return Ih(n,[{key:"componentDidMount",value:function(){this.isComponentMounted=!0,this.initResizeObserver(),this.updateActivePage(),this.setPages()}},{key:"componentDidUpdate",value:function(i,s){var o=this.props,a=o.enableAutoPlay,l=o.children,u=o.itemsToShow,c=o.itemsToScroll,h=o.breakPoints,d=this.state,f=d.activeIndex,p=d.sliderContainerWidth,y=this.getNextItemIndex(f,!1),S=D.exports.Children.toArray(l).length,g=D.exports.Children.toArray(i.children).length;if((g!==S||i.itemsToShow!==u||i.itemsToScroll!==c||i.breakPoints!==h||p!==s.sliderContainerWidth)&&(this.onContainerResize({contentRect:{width:p}}),this.setPages(),this.updateActivePage()),f===y?this.removeAutoPlay():a&&!this.autoPlayIntervalId?this.setAutoPlay():!a&&this.autoPlayIntervalId&&this.removeAutoPlay(),g!==S){var m=this.getDerivedPropsFromBreakPoint(),v=m.itemsToShow,E=S-1,T=f+v>E;T&&this.goTo(Math.max(0,S-v))}}},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1,this.removeAutoPlay(),this.unSubscribeObserver()}},{key:"render",value:function(){var i=this.state,s=i.activePage,o=i.isSwiping,a=i.sliderPosition,l=i.swipedSliderPosition,u=i.rootHeight,c=i.pages,h=i.activeIndex,d=i.transitionMs,f=this.getDerivedPropsFromBreakPoint(),p=f.className,y=f.style,S=f.itemsToShow,g=f.itemsToScroll,m=f.verticalMode,v=f.isRTL,E=f.easing,T=f.tiltEasing,C=f.children,b=f.focusOnSelect,$=f.autoTabIndexVisibleItems,X=f.itemPosition,j=f.itemPadding,le=f.outerSpacing,fe=f.enableSwipe,ge=f.enableMouseSwipe,Ie=f.pagination,_e=f.showArrows,It=f.disableArrowsOnEnd,Ue=f.preventDefaultTouchmoveEvent,O=f.renderArrow,H=f.renderPagination,K=this.calculateChildWidth(),oe=this.getNumOfPages(),M=h!==this.getNextItemIndex(h,!0),V=h!==this.getNextItemIndex(h,!1),B=!M&&It,Y=!V&&It;return G(uM,{isRTL:v,className:"".concat(In("carousel-wrapper")," ").concat(p),style:y,children:[G(lM,{className:In("carousel"),size:{height:u},children:[w(ra,{when:_e,children:O?O({type:Zt.PREV,onClick:this.onPrevStart,isEdge:!M}):w(Xt,{onClick:this.onPrevStart,direction:m?Xt.up:Xt.left,disabled:B})}),w(nM,{className:In("slider-container"),ref:this.setRef("sliderContainer"),children:w(aM,{verticalMode:m,isRTL:v,easing:E,sliderPosition:a,swipedSliderPosition:l,isSwiping:o,transitionMs:d,tiltEasing:T,className:In("slider"),ref:this.setRef("slider"),outerSpacing:le,children:w(w_,{verticalMode:m,children:D.exports.Children.toArray(C),childWidth:K,currentItem:h,autoTabIndexVisibleItems:$,itemsToShow:S,itemsToScroll:g,itemPosition:X,itemPadding:j,enableSwipe:fe,enableMouseSwipe:ge,preventDefaultTouchmoveEvent:Ue,onSwiped:this.onSwiped,onSwiping:this.onSwiping,onItemClick:b?this.goTo:void 0})})}),w(ra,{when:_e,children:O?O({type:Zt.NEXT,onClick:this.onNextStart,isEdge:!V}):w(Xt,{onClick:this.onNextStart,direction:m?Xt.down:Xt.right,disabled:Y})})]}),w(ra,{when:Ie,children:H?H({pages:c,activePage:s,onClick:this.onIndicatorClick}):w(Mg,{numOfPages:oe,activePage:s,onClick:this.onIndicatorClick})})]})}}]),n}(Je.Component);Lg.defaultProps={className:"",style:{},verticalMode:!1,isRTL:!1,initialFirstItem:0,initialActiveIndex:0,showArrows:!0,showEmptySlots:!1,disableArrowsOnEnd:!0,pagination:!0,easing:"ease",tiltEasing:"ease",transitionMs:500,enableTilt:!0,enableSwipe:!0,enableMouseSwipe:!0,preventDefaultTouchmoveEvent:!1,focusOnSelect:!1,autoTabIndexVisibleItems:!0,itemsToShow:1,itemsToScroll:1,itemPosition:Zt.CENTER,itemPadding:[0,0,0,0],outerSpacing:0,enableAutoPlay:!1,autoPlaySpeed:2e3,onChange:dr,onNextEnd:dr,onPrevEnd:dr,onNextStart:dr,onPrevStart:dr,onResize:dr};Lg.propTypes={children:P.exports.node.isRequired,className:P.exports.string,style:P.exports.object,verticalMode:P.exports.bool,isRTL:P.exports.bool,pagination:P.exports.bool,transitionMs:P.exports.number,easing:P.exports.string,tiltEasing:P.exports.string,enableTilt:P.exports.bool,itemsToShow:P.exports.number,itemsToScroll:P.exports.number,breakPoints:P.exports.arrayOf(P.exports.shape({width:P.exports.number.isRequired,itemsToShow:P.exports.number,itemsToScroll:P.exports.number})),initialActiveIndex:P.exports.number,initialFirstItem:P.exports.number,showArrows:P.exports.bool,showEmptySlots:P.exports.bool,disableArrowsOnEnd:P.exports.bool,focusOnSelect:P.exports.bool,autoTabIndexVisibleItems:P.exports.bool,renderArrow:P.exports.func,renderPagination:P.exports.func,itemPosition:P.exports.oneOf([Zt.START,Zt.CENTER,Zt.END]),itemPadding:P.exports.array,outerSpacing:P.exports.number,enableSwipe:P.exports.bool,enableMouseSwipe:P.exports.bool,preventDefaultTouchmoveEvent:P.exports.bool,enableAutoPlay:P.exports.bool,autoPlaySpeed:P.exports.number,onChange:P.exports.func,onNextStart:P.exports.func,onPrevStart:P.exports.func,onNextEnd:P.exports.func,onPrevEnd:P.exports.func,onResize:P.exports.func};function wM(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var SM=`.styles-module_wrapper__1I_qj {
  z-index: 1;
  display: flex;
  align-items: center;
  position: fixed;
  padding: 0px 60px 0px 60px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: black;
  box-sizing: border-box;
}

.styles-module_content__2jwZj {
  margin: auto;
  padding: 0;
  width: 90%;
  height: 100%;
  max-height: 100%;
  text-align: center;
}

.styles-module_slide__1zrfk {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.styles-module_image__2hdkJ {
  max-height: 100%;
  max-width: 100%;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
}

.styles-module_close__2I1sI {
  color: white;
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 40px;
  font-weight: bold;
  opacity: 0.2;
  cursor: pointer;
}

.styles-module_close__2I1sI:hover {
  opacity: 1;
}

.styles-module_navigation__1pqAE {
  height: 80%;
  color: white;
  cursor: pointer;
  position: absolute;
  font-size: 60px;
  line-height: 60px;
  font-weight: bold;
  display: flex;
  align-items: center;
  opacity: 0.2;
  padding: 0 15px;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
}

.styles-module_navigation__1pqAE:hover {
  opacity: 1;
}

@media (hover: none) {
  .styles-module_navigation__1pqAE:hover {
    opacity: 0.2;
  }
}

.styles-module_prev__KqFRp {
  left: 0;
}

.styles-module_next__1uQwZ {
  right: 0;
}

@media (max-width: 900px) {
  .styles-module_wrapper__1I_qj {
    padding: 0;
  }
}
`,jn={wrapper:"styles-module_wrapper__1I_qj",content:"styles-module_content__2jwZj",slide:"styles-module_slide__1zrfk",image:"styles-module_image__2hdkJ",close:"styles-module_close__2I1sI",navigation:"styles-module_navigation__1pqAE",prev:"styles-module_prev__KqFRp",next:"styles-module_next__1uQwZ"};wM(SM);const EM=t=>{var e;const[n,r]=D.exports.useState((e=t.currentIndex)!==null&&e!==void 0?e:0),i=D.exports.useCallback(l=>{let u=(n+l)%t.src.length;u<0&&(u=t.src.length-1),r(u)},[n]),s=D.exports.useCallback(l=>{var u;if(!l.target||!t.closeOnClickOutside)return;const c=l.target.id==="ReactSimpleImageViewer",h=l.target.classList.contains("react-simple-image-viewer__slide");(c||h)&&(l.stopPropagation(),(u=t.onClose)===null||u===void 0||u.call(t))},[t.onClose]),o=D.exports.useCallback(l=>{var u;l.key==="Escape"&&((u=t.onClose)===null||u===void 0||u.call(t)),["ArrowLeft","h"].includes(l.key)&&i(-1),["ArrowRight","l"].includes(l.key)&&i(1)},[t.onClose,i]),a=D.exports.useCallback(l=>{l.wheelDeltaY>0?i(-1):i(1)},[i]);return D.exports.useEffect(()=>(document.addEventListener("keydown",o),t.disableScroll||document.addEventListener("wheel",a),()=>{document.removeEventListener("keydown",o),t.disableScroll||document.removeEventListener("wheel",a)}),[o,a]),G("div",{id:"ReactSimpleImageViewer",className:`${jn.wrapper} react-simple-image-viewer__modal`,onKeyDown:o,onClick:s,style:t.backgroundStyle,children:[w("span",{className:`${jn.close} react-simple-image-viewer__close`,onClick:()=>{var l;return(l=t.onClose)===null||l===void 0?void 0:l.call(t)},children:t.closeComponent||"\xD7"}),t.src.length>1&&w("span",{className:`${jn.navigation} ${jn.prev} react-simple-image-viewer__previous`,onClick:()=>i(-1),children:t.leftArrowComponent||"\u276E"}),t.src.length>1&&w("span",{className:`${jn.navigation} ${jn.next} react-simple-image-viewer__next`,onClick:()=>i(1),children:t.rightArrowComponent||"\u276F"}),w("div",{className:`${jn.content} react-simple-image-viewer__modal-content`,onClick:s,children:w("div",{className:`${jn.slide} react-simple-image-viewer__slide`,children:w("img",{className:jn.image,src:t.src[n],alt:""})})})]})},xM=()=>{var u,c;const t=jO(),[e,n]=D.exports.useState({}),[r,i]=D.exports.useState(0),[s,o]=D.exports.useState(!1);D.exports.useEffect(()=>{Bn.collection("projects").doc(t.id).get().then(h=>{h.data()!=null&&n(h.data())}).catch(h=>console.log(h)),Bn.collection("bestProject").doc(t.id).get().then(h=>{h.data()!=null&&n(h.data()),console.log("sc",h.data())}).catch(h=>console.log(h))},[]);const a=D.exports.useCallback(h=>{i(h),o(!0)},[]),l=()=>{i(0),o(!1)};return G("div",{children:[G("div",{className:"flex items-center justify-between my-10",children:[w("h1",{className:"text-3xl",children:e==null?void 0:e.name}),e.date===void 0?w("div",{children:"Time is not defined"}):G("h4",{className:"text-sm font-semibold",children:[" ",e.date.toDate().getMonth(),", ",e.date.toDate().getFullYear()]})]}),G("div",{className:"grid md:grid-cols-2 place-items-start gap-4 ",children:[w("a",{href:e==null?void 0:e.link,target:"_blank",children:w("div",{className:"flex space-x-5 items-center",children:G("div",{className:"flex items-center bg-[#2E2E2E] rounded-3xl  p-2 w-full  max-w-fit	 cursor-pointer	 ",children:[w("div",{className:"mr-2",children:w(em,{})}),w("div",{className:"text-sm",children:e==null?void 0:e.link})]})})}),w("div",{className:"grid md:grid-cols-5 grid-cols-3 gap-4",children:(u=e==null?void 0:e.tech)==null?void 0:u.map(h=>w("div",{className:"h-10 flex justify-center items-center w-24 rounded-md bg-[#2E2E2E] text-sm",children:h}))})]}),G("div",{className:"grid md:grid-cols-2 mt-10 gap-4",children:[w("div",{children:w("div",{className:"  h-[400px]",children:w("img",{src:e==null?void 0:e.mainPicture,alt:"image",width:"100%"})})}),w("div",{children:e==null?void 0:e.description})]}),G("div",{className:"mt-5",children:[w(Lg,{itemsToScroll:3,itemsToShow:3,pagination:!1,disableArrowsOnEnd:!0,children:(c=e==null?void 0:e.pictures)==null?void 0:c.map((h,d)=>w("img",{src:h,alt:d,width:"400px",className:"mr-8 cursor-pointer ",onClick:()=>a(d)},d))}),s&&w("div",{children:w(EM,{src:e==null?void 0:e.pictures,currentIndex:r,disableScroll:!1,closeOnClickOutside:!0,onClose:l})})]})]})},IM=()=>w(kc,{children:w(xM,{})});function _M(){return D.exports.useState(0),w("div",{className:"body",children:w(t$,{basename:process.env.PUBLIC_URL,children:G(D.exports.Fragment,{children:[w(nk,{}),G(YO,{children:[w(Vo,{exact:!0,path:"/",element:w(s$,{})}),w(Vo,{path:"/about",element:w(u$,{})}),w(Vo,{path:"/project",element:w(c$,{})}),w(Vo,{path:"/project/:id",element:w(IM,{})})]}),w(a$,{})]})})})}xd.createRoot(document.getElementById("root")).render(w(Je.StrictMode,{children:w(_M,{})}));
